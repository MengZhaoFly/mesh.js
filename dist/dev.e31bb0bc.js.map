{"version":3,"sources":["../node_modules/gl-matrix/esm/common.js","../node_modules/gl-matrix/esm/mat2.js","../node_modules/gl-matrix/esm/mat2d.js","../node_modules/gl-matrix/esm/mat3.js","../node_modules/gl-matrix/esm/mat4.js","../node_modules/gl-matrix/esm/vec3.js","../node_modules/gl-matrix/esm/vec4.js","../node_modules/gl-matrix/esm/quat.js","../node_modules/gl-matrix/esm/quat2.js","../node_modules/gl-matrix/esm/vec2.js","../node_modules/gl-matrix/esm/index.js","../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/gl-renderer/dist/gl-renderer.js","../node_modules/@babel/runtime/helpers/asyncToGenerator.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/@babel/runtime/regenerator/index.js","../node_modules/@babel/runtime/helpers/typeof.js","../src/utils/parse-font.js","../src/utils/vector-to-rgba.js","../src/utils/env.js","../src/utils/math.js","../src/utils/canvas.js","../src/canvas-renderer.js","../src/utils/flatten-meshes.js","../node_modules/@babel/runtime/helpers/defineProperty.js","../src/utils/color-matrix.js","../node_modules/color-name/index.js","../node_modules/color-parse/index.js","../node_modules/color-space/rgb.js","../node_modules/color-space/hsl.js","../node_modules/color-rgba/index.js","../src/utils/parse-color.js","../src/mesh-cloud.js","../src/utils/compress.js","../node_modules/@babel/runtime/helpers/toArray.js","../node_modules/parse-svg-path/index.js","../node_modules/bound-points/bounds.js","../node_modules/abs-svg-path/index.js","../src/normalize-svg-path/a2c.js","../src/normalize-svg-path/index.js","../node_modules/adaptive-bezier-curve/function.js","../node_modules/adaptive-bezier-curve/index.js","../src/extrude-contours/utils.js","../node_modules/simplify-path/radial-distance.js","../node_modules/simplify-path/douglas-peucker.js","../node_modules/simplify-path/index.js","../src/svg-path-contours/index.js","../src/utils/positions.js","../src/utils/contours.js","../src/utils/ellipse.js","../src/figure2d.js","../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../src/extrude-contours/stroke.js","../src/extrude-contours/index.js","../src/utils/transform.js","../src/tess2/index.js","../node_modules/xtend/immutable.js","../src/triangulate-contours/index.js","../src/mesh2d.js","../src/shader.vert","../src/shader.frag","../src/shader-cloud.vert","../src/shader-cloud.frag","../src/utils/shader-creator.js","../src/renderer.js","../src/index.js","index.js","../../../../.config/yarn/global/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["EPSILON","ARRAY_TYPE","Float32Array","Array","RANDOM","Math","random","setMatrixArrayType","type","degree","PI","toRadian","a","equals","b","abs","max","hypot","y","i","arguments","length","sqrt","create","out","glMatrix","clone","copy","identity","fromValues","m00","m01","m10","m11","set","transpose","a1","invert","a0","a2","a3","det","adjoint","determinant","multiply","b0","b1","b2","b3","rotate","rad","s","sin","c","cos","scale","v","v0","v1","fromRotation","fromScaling","str","frob","LDU","L","D","U","add","subtract","exactEquals","multiplyScalar","multiplyScalarAndAdd","mul","sub","d","tx","ty","aa","ab","ac","ad","atx","aty","a4","a5","b4","b5","translate","fromTranslation","fromMat4","m02","m12","m20","m21","m22","a01","a02","a12","a00","a10","a11","a20","a21","a22","b01","b11","b21","b00","b02","b10","b12","b20","b22","x","fromMat2d","fromQuat","q","z","w","x2","y2","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","width","height","a6","a7","a8","b6","b7","b8","m03","m13","m23","m30","m31","m32","m33","axis","len","t","rotateX","rotateY","rotateZ","fromXRotation","fromYRotation","fromZRotation","fromRotationTranslation","xy","xz","yz","fromQuat2","translation","bx","by","bz","bw","ax","ay","az","aw","magnitude","getTranslation","mat","getScaling","getRotation","scaling","is1","is2","is3","sm11","sm12","sm13","sm21","sm22","sm23","sm31","sm32","sm33","trace","S","fromRotationTranslationScale","sx","sy","sz","fromRotationTranslationScaleOrigin","o","ox","oy","oz","out0","out1","out2","out4","out5","out6","out8","out9","out10","frustum","left","right","bottom","top","near","far","rl","tb","nf","perspective","fovy","aspect","f","tan","Infinity","perspectiveFromFieldOfView","fov","upTan","upDegrees","downTan","downDegrees","leftTan","leftDegrees","rightTan","rightDegrees","xScale","yScale","ortho","lr","bt","lookAt","eye","center","up","x0","x1","y0","y1","z0","z1","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","targetTo","target","a9","a14","a15","b9","b13","b14","b15","divide","ceil","floor","min","round","scaleAndAdd","distance","squaredDistance","squaredLength","negate","inverse","normalize","dot","cross","lerp","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","r","zScale","transformMat4","m","transformMat3","transformQuat","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","p","angle","mag1","mag2","mag","cosine","acos","zero","div","dist","sqrDist","sqrLen","forEach","vec","stride","offset","count","fn","arg","l","u","A","B","C","E","F","G","H","I","J","v2","v3","v4","s1","s2","ix","iy","iz","iw","setAxisAngle","getAxisAngle","out_axis","getAngle","dotproduct","calculateW","exp","et","ln","atan2","log","pow","slerp","omega","cosom","sinom","scale0","scale1","u1","u2","u3","sqrt1MinusU1","sqrtU1","invDot","conjugate","fromMat3","fTrace","fRoot","j","k","fromEuler","halfToRad","cx","cy","cz","vec4","rotationTo","tmpvec3","vec3","xUnitVec3","yUnitVec3","sqlerp","temp1","temp2","setAxes","matr","mat3","view","dq","w1","fromRotationTranslationValues","outer","quat","mat4","getReal","getDual","setReal","setDual","ax1","ay1","az1","aw1","bx1","by1","bz1","ax2","ay2","az2","aw2","rotateByQuatAppend","rotateByQuatPrepend","rotateAroundAxis","axisLength","ax0","ay0","az0","aw0","bw1","bx0","by0","bz0","bw0","mt","sqlen","a_dot_b","transformMat2","transformMat2d","p0","p1","sinC","cosC","_arrayWithHoles","arr","isArray","module","exports","__esModule","_iterableToArrayLimit","_i","Symbol","iterator","_arr","_n","_d","_s","_e","call","next","done","push","value","err","_arrayLikeToArray","arr2","arrayLikeToArray","require","_unsupportedIterableToArray","minLen","n","Object","prototype","toString","slice","constructor","name","from","test","_nonIterableRest","TypeError","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","_slicedToArray","_arrayWithoutHoles","_iterableToArray","iter","_nonIterableSpread","arrayWithoutHoles","iterableToArray","nonIterableSpread","_toConsumableArray","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","asyncGeneratorStep","gen","resolve","reject","_next","_throw","info","error","Promise","then","_asyncToGenerator","self","args","apply","undefined","_typeof","obj","sizeToPixel","defaultWidth","matched","trim","match","size","parseFloat","unit","parseInt","getComputedStyle","document","root","documentElement","fontSize","val","clientWidth","clientHeight","weights","styles","variants","stretches","units","string","weightRe","RegExp","styleRe","variantRe","stretchRe","sizeFamilyRe","parseFont","defaultHeight","sizeFamily","exec","lineHeight","font","weight","style","stretch","variant","Number","isFinite","lineHeightUnit","family","replace","substr","substring","index","pxHeight","pxLineHeight","vectorToRGBA","vector","map","join","cacheMap","fontEx","ratio","createText","text","fillColor","strokeColor","strokeWidth","textCanvas","cachable","String","cachedCanvas","createCanvas","textContext","getContext","save","measureText","restore","fontInfo","canvas","h","textAlign","textBaseline","gradient","colors","createRadialGradient","createLinearGradient","color","addColorStop","fillStyle","fillText","lineWidth","strokeStyle","strokeText","ret","image","rect","isEarlyChrome","navigator","userAgent","toLowerCase","options","offscreen","global","OffscreenCanvas","createElement","ENV","loadImage","GlRenderer","clamp","mix","src","dest","transformPoint","applyFilter","context","filter","drawImage","mixRGBA","pattern","alpha","drawMesh2D","mesh","enableFilter","cloudFill","cloudStroke","cloudFrame","cloudTransform","stroke","fill","globalAlpha","getOpacity","_updateMatrix","acc","transformScale","contours","accurate","createCircularGradient","rgba","lineJoin","lineCap","miterLimit","lineDash","setLineDash","lineDashOffset","transform","transformMatrix","clipPath","path","Path2D","clip","points","closed","vec2","drawTexture","texture","beginPath","moveTo","closePath","lineTo","fillRule","repeat","console","warn","srcRect","rotated","_transform","CanvasRenderer","img","_img","textureURL","useImageBitmap","createTexture","clearRect","cloud","clear","cloudMeshes","amount","getTransform","frame","getTextureFrame","getFilter","getCloudRGBA","_cloudOptions","beforeRender","drawMeshes","hook","afterRender","meshes","lastFilter","cloudFilter","filterBuffer","typeMap","UNSIGNED_BYTE","Uint8Array","UNSIGNED_SHORT","Uint16Array","BYTE","Int8Array","SHORT","Int16Array","FLOAT","allocateBuffer","bufferCache","positionsCount","cellsCount","textureCoordCount","sourceRectCount","clipUVCount","colorCount","program","meshData","positions","dimension","cells","attributes","a_color","_textureCoord","textureCoord","_sourceRect","a_sourceRect","_clipUV","a_clipUV","attribs","entries","_attribute","meta","_attribOpts","opts","TypeArray","attribCount","flattenMeshes","idx","cidx","uniforms","hasSourceRect","hasClipPath","_positions","_cells","cell","_colors","_attr","_defineProperty","a04","a24","a34","grayscale","g","brightness","saturate","contrast","sepia","opacity","hueRotate","deg","rotation","lumR","lumG","lumB","parseColor","colorStr","_mesh","_count","_blend","_filters","_textures","_textureOptions","_hasCloudColor","_hasCloudFilter","_buffer","createBuffer","buffer","oldBuffer","transform0","transform1","color0","color1","color2","color3","color4","frameIndex","bufferSize","initBuffer","setColorTransform","setTextureFrames","_getFilter","enableBlend","canIgnore","Error","subarray","getColorTransform","_fillColor","_strokeColor","transformColor","frames","setTexture","instanceCount","u_texSampler","a_frameIndex","data","divisor","a_transform0","a_transform1","a_colorCloud0","a_colorCloud1","a_colorCloud2","a_colorCloud3","a_colorCloud4","hasCloudColor","a_fillCloudColor","a_strokeCloudColor","setProgram","setTransform","mat2d","isPointCollision","compress","compareUniform","temp","ua","ub","keysA","keys","keysB","idx1","indexOf","idx2","splice","every","va","vb","hidden","packData","filterCanvas","packIndex","packLength","pass","renderer","ignoreTrasnparent","maxSize","MeshCloud","u_clipSampler","lastMesh","_toArray","TAU","unit_vector_angle","ux","uy","vx","vy","sign","get_arc_center","fa","fs","rx","ry","sin_phi","cos_phi","x1p","y1p","rx_sq","ry_sq","x1p_sq","y1p_sq","radicant","cxp","cyp","v1x","v1y","v2x","v2y","theta1","delta_theta","approximate_unit_arc","a2c","phi","lambda","cc","result","segments","curve","xp","yp","prev","bezierX","bezierY","startX","startY","quadX","quadY","seg","command","curves","quadratic","line","tmp","computeMiter","tangent","miter","lineA","lineB","halfThick","miterLen","normal","dir","direction","simplify","tmp1","tmp2","tmp3","bezierTo","start","svg","simp","paths","pen","segment","getTotalLength","totalLength","splitContours","rest","contoursLength","current","point","restContours","getPointAtLength","getDashContours","dash","splitedContours","lineDashLen","splited","dashIndex","PI2","getPoint","theta","_contours","_path","_simplify","_scale","Figure2D","reduce","bound","boundingBox","cmd","transformed","radiusX","radiusY","startAngle","endAngle","anticlockwise","delta","startPoint","endPoint","sweepFlag","largeArcFlag","addPath","radius","ellipse","xAxisRotation","lastPath","_objectWithoutPropertiesLoose","source","excluded","sourceKeys","objectWithoutPropertiesLoose","_objectWithoutProperties","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","MAX_MITER_VALUE","Stroke","roundSegments","_normal","total","cap","last","cur","_seg","capRound","reverse","joinBevel","joinRound","extrusions","flip","bevel","limit","addPoint","maxLen","pEnd","pStart","p2","unshift","isUnitTransform","Tess2","Geom","WINDING_ODD","WINDING_NONZERO","WINDING_POSITIVE","WINDING_NEGATIVE","WINDING_ABS_GEQ_TWO","POLYGONS","CONNECTED_POLYGONS","BOUNDARY_CONTOURS","tesselate","debug","tess","Tesselator","addContour","vertexSize","windingRule","elementType","polySize","vertices","vertexIndices","vertexCount","elements","elementCount","assert","cond","TESSvertex","anEdge","coords","pqHandle","TESSface","trail","marked","inside","TESShalfEdge","side","Sym","Onext","Lnext","Org","Lface","activeRegion","winding","Rface","Dst","Oprev","Lprev","Dprev","Rprev","Dnext","Rnext","TESSmesh","e","eSym","vHead","fHead","eHead","eHeadSym","makeEdge_","eNext","ePrev","splice_","aOnext","bOnext","makeVertex_","newVertex","eOrig","vNext","vNew","vPrev","makeFace_","newFace","fNext","fNew","fPrev","killEdge_","eDel","killVertex_","vDel","newOrg","eStart","killFace_","fDel","newLface","makeEdge","newVertex1","newVertex2","eOrg","eDst","joiningLoops","joiningVertices","delete","eDelSym","addEdgeVertex","eNew","eNewSym","splitEdge","tempHalfEdge","connect","zapFace","fZap","countFaceVerts_","eCur","mergeConvexFaces","maxVertsPerFace","vStart","curNv","symNv","vertCCW","check","vertEq","vertLeq","transLeq","edgeGoesLeft","edgeGoesRight","vertL1dist","edgeEval","gapL","gapR","edgeSign","transEval","transSign","interpolate","intersect","o1","d1","o2","d2","DictNode","Dict","leq","head","insert","insertBefore","search","node","newNode","PQnode","handle","PQhandleElem","PriorityQ","nodes","handles","initialized","freeList","floatDown_","curr","hCurr","hChild","child","floatUp_","hParent","parent","init","keyNew","free","extractMin","hMin","ActiveRegion","eUp","nodeUp","windingNumber","sentinel","dirty","fixUpperEdge","Sweep","regionBelow","regionAbove","debugEvent","addWinding","eSrc","edgeLeq","reg1","reg2","ev","event","t1","t2","e1","e2","deleteRegion","reg","dict","newEdge","topLeftRegion","org","topRightRegion","dst","addRegionBelow","regAbove","eNewUp","regNew","isWindingInside","computeWinding","finishRegion","finishLeftRegions","regFirst","regLast","regPrev","addRightEdges","regUp","eFirst","eLast","eTopLeft","cleanUp","firstTime","checkForRightSplice","walkDirtyRegions","spliceMergeVertices","vertexWeights","isect","w0","getIntersectData","orgUp","dstUp","orgLo","dstLo","regLo","eLo","pq","checkForLeftSplice","checkForIntersect","tMinUp","tMaxLo","orgMin","connectRightVertex","eBottomLeft","degenerate","connectLeftDegenerate","vEvent","eTopRight","sweepEvent","connectLeftVertex","addSentinel","smin","smax","initEdgeDict","bmax","bmin","tmin","tmax","doneEdgeDict","fixedEdges","removeDegenerateEdges","eLnext","initPriorityQ","donePriorityQ","removeDegenerateFaces","computeInterior","sUnit","tUnit","vertexIndexCounter","dot_","normalize_","longAxis_","computeNormal_","norm","tLen2","maxLen2","maxVal","minVal","tNorm","maxVert","minVert","checkOrientation_","area","projectPolygon_","first","computedNormal","addWinding_","tessellateMonoRegion_","face","lo","tessellateInterior_","discardExterior_","setWindingNumber_","keepOnlyBoundary","getNeighbourFace_","edge","outputPolymesh_","maxFaceCount","maxVertexCount","faceVerts","vert","nel","outputContours_","verts","vertInds","startVert","vertCount","nv","nvi","extend","hasOwnProperty","xtend","opt","concat","rule","res","pos","_stroke","_fill","_invertTransform","_uniforms","_texOptions","_applyTexture","_applyTransform","_applyGradientTransform","_applyProgram","_gradient","_filter","_opacity","_program","_attributes","_pass","_clipContext","_applyClipPath","generateUV","bounds","uv","getTexCoord","Mesh2D","figure","setter","setUniforms","position0","blend","u_colorMatrix","u_radialGradientVector","setFill","ex","strokeContours","_meshes","lines","build","fillPointCount","matrix","position","_radialGradientVector","compareRect","r1","r2","imgWidth","imgHeight","texCoord","sRect","noStroke","noFill","noGradient","noTexture","thickness","gradientColors","setGradient","sort","colorSteps","_vector","u_colorSteps","u_gradientType","assign","u_filterFlag","offsetX","offsetY","blurRadius","svgFilter","invertMatrix","box","projectionOn","x3","y3","s3","_shaders","createShaders","defines","hasTexture","hasFilter","hasGradient","prefix","samplerDef","fragShader","vertShader","applyShader","createProgram","useProgram","cloudShaders","createCloudShaders","hasCloudFilter","fragShaderCloud","vertShaderCloud","applyCloudShader","defaultOpts","autoUpdate","preserveDrawingBuffer","defaultPassVertex","defaultPassFragment","_glRenderer","_canvasRenderer","_options","_globalTransform","_applyGlobalTransform","_canvas","draw","gl","fbo","bindFramebuffer","FRAMEBUFFER","_draw","drawFilterContext","filterContext","filterTexture","filterMesh","setMeshData","Renderer","contextType","WebGL2RenderingContext","WebGLRenderingContext","webgl2","isWebGL2","clearColor","blendFuncSeparate","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","ONE","updateResolution","viewMatrix","projectionMatrix","u_resolution","m1","m2","m3","viewport","loadTexture","vertex","fragment","compileSync","attributeOptions","attrOpts","deleteTexture","COLOR_BUFFER_BIT","drawProgram","globalTransformMatrix","drawMeshCloud","oldFBO","hasGlobalTransform","_drawCalls","createFBO","swap","bindFBO","originalMesh","currentFilter","nextMesh","previousMesh","defaultPassProgram","createPassProgram","argLength","globalTransform","newX","newY","querySelector","figure2","figure1","mesh2","mesh1","body","addEventListener","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","id","generated","js","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","message","stack","overlay","createErrorOverlay","appendChild","getElementById","remove","stackTrace","innerText","innerHTML","getParents","modules","parents","dep","Function","deps","cached","cache","some","cb"],"mappings":"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AACD;AACF;;AAED,SAASM,YAAT,CAAsBT,WAAtB,EAAmCU,UAAnC,EAA+CC,WAA/C,EAA4D;AAC1D,MAAID,UAAJ,EAAgBT,iBAAiB,CAACD,WAAW,CAACxB,SAAb,EAAwBkC,UAAxB,CAAjB;AAChB,MAAIC,WAAJ,EAAiBV,iBAAiB,CAACD,WAAD,EAAcW,WAAd,CAAjB;AACjB,SAAOX,WAAP;AACD;;AAEDlD,MAAM,CAACC,OAAP,GAAiB0D,YAAjB;AACA3D,MAAM,CAACC,OAAP,CAAe,SAAf,IAA4BD,MAAM,CAACC,OAAnC,EAA4CD,MAAM,CAACC,OAAP,CAAeC,UAAf,GAA4B,IAAxE;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACt+EA,SAAS4D,kBAAT,CAA4BC,GAA5B,EAAiCC,OAAjC,EAA0CC,MAA1C,EAAkDC,KAAlD,EAAyDC,MAAzD,EAAiET,GAAjE,EAAsE7K,GAAtE,EAA2E;AACzE,MAAI;AACF,QAAIuL,IAAI,GAAGL,GAAG,CAACL,GAAD,CAAH,CAAS7K,GAAT,CAAX;AACA,QAAImI,KAAK,GAAGoD,IAAI,CAACpD,KAAjB;AACD,GAHD,CAGE,OAAOqD,KAAP,EAAc;AACdJ,IAAAA,MAAM,CAACI,KAAD,CAAN;AACA;AACD;;AAED,MAAID,IAAI,CAACtD,IAAT,EAAe;AACbkD,IAAAA,OAAO,CAAChD,KAAD,CAAP;AACD,GAFD,MAEO;AACLsD,IAAAA,OAAO,CAACN,OAAR,CAAgBhD,KAAhB,EAAuBuD,IAAvB,CAA4BL,KAA5B,EAAmCC,MAAnC;AACD;AACF;;AAED,SAASK,iBAAT,CAA2B5L,EAA3B,EAA+B;AAC7B,SAAO,YAAY;AACjB,QAAI6L,IAAI,GAAG,IAAX;AAAA,QACIC,IAAI,GAAG9f,SADX;AAEA,WAAO,IAAI0f,OAAJ,CAAY,UAAUN,OAAV,EAAmBC,MAAnB,EAA2B;AAC5C,UAAIF,GAAG,GAAGnL,EAAE,CAAC+L,KAAH,CAASF,IAAT,EAAeC,IAAf,CAAV;;AAEA,eAASR,KAAT,CAAelD,KAAf,EAAsB;AACpB8C,QAAAA,kBAAkB,CAACC,GAAD,EAAMC,OAAN,EAAeC,MAAf,EAAuBC,KAAvB,EAA8BC,MAA9B,EAAsC,MAAtC,EAA8CnD,KAA9C,CAAlB;AACD;;AAED,eAASmD,MAAT,CAAgBlD,GAAhB,EAAqB;AACnB6C,QAAAA,kBAAkB,CAACC,GAAD,EAAMC,OAAN,EAAeC,MAAf,EAAuBC,KAAvB,EAA8BC,MAA9B,EAAsC,OAAtC,EAA+ClD,GAA/C,CAAlB;AACD;;AAEDiD,MAAAA,KAAK,CAACU,SAAD,CAAL;AACD,KAZM,CAAP;AAaD,GAhBD;AAiBD;;AAED5E,MAAM,CAACC,OAAP,GAAiBuE,iBAAjB;AACAxE,MAAM,CAACC,OAAP,CAAe,SAAf,IAA4BD,MAAM,CAACC,OAAnC,EAA4CD,MAAM,CAACC,OAAP,CAAeC,UAAf,GAA4B,IAAxE;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC9BA;;;;;;AAEe,SAASC,UAAT,CAAoBC,QAApB,EAA8B;AAC3C,MAAMtK,GAAG,GAAG,wBAAKsK,QAAL,CAAZ;AACA,MAAG,CAACtK,GAAD,IAAQ,CAACA,GAAG,CAACzlB,MAAhB,EAAwB,MAAM,IAAIqd,SAAJ,CAAc,sBAAd,CAAN;AACxB,SAAO,CAACoI,GAAG,CAAC,CAAD,CAAH,GAAS,GAAV,EAAeA,GAAG,CAAC,CAAD,CAAH,GAAS,GAAxB,EAA6BA,GAAG,CAAC,CAAD,CAAH,GAAS,GAAtC,EAA2CA,GAAG,CAAC,CAAD,CAA9C,CAAP;AACD;;;;;;;;;;;;;;;;;;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,sBAAD,CAA7B;;AAEA,SAASyY,QAAT,CAAkBha,GAAlB,EAAuB;AACrB,SAAOqC,cAAc,CAACrC,GAAD,CAAd,IAAuB+C,eAAe,CAAC/C,GAAD,CAAtC,IAA+CuC,0BAA0B,CAACvC,GAAD,CAAzE,IAAkFwC,eAAe,EAAxG;AACD;;AAEDtC,MAAM,CAACC,OAAP,GAAiB6Z,QAAjB;AACA9Z,MAAM,CAACC,OAAP,CAAe,SAAf,IAA4BD,MAAM,CAACC,OAAnC,EAA4CD,MAAM,CAACC,OAAP,CAAeC,UAAf,GAA4B,IAAxE;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACnEA;AACA;AACA;AACA;AAGA,IAAM6Z,GAAG,GAAGl2B,IAAI,CAACK,EAAL,GAAU,CAAtB;AAGA;AAEA;AACA;AACA;AACA;AACA;;AACA,SAAS81B,iBAAT,CAA2BC,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03B,MAAAA,OAAO,GAAG9xB,CAAV;AACA+xB,MAAAA,OAAO,GAAG93B,CAAV;AACD;;AACDu3B,IAAAA,MAAM,CAAClb,IAAP,CAAY8b,GAAZ;AACD;;AAED,SAAOZ,MAAP;AACD;;AAED,SAASgB,IAAT,CAActpB,EAAd,EAAkBE,EAAlB,EAAsB9I,EAAtB,EAA0BC,EAA1B,EAA6B;AAC3B,SAAO,CAAC,GAAD,EAAM2I,EAAN,EAAUE,EAAV,EAAc9I,EAAd,EAAkBC,EAAlB,EAAsBD,EAAtB,EAA0BC,EAA1B,CAAP;AACD;;AAED,SAASgyB,SAAT,CAAmBrpB,EAAnB,EAAuBE,EAAvB,EAA2BqI,EAA3B,EAA+BC,EAA/B,EAAmCpR,EAAnC,EAAuCC,EAAvC,EAA0C;AACxC,SAAO,CACL,GADK,EAEL2I,EAAE,GAAC,CAAH,GAAQ,IAAE,CAAH,GAAQuI,EAFV,EAGLrI,EAAE,GAAC,CAAH,GAAQ,IAAE,CAAH,GAAQsI,EAHV,EAILpR,EAAE,GAAC,CAAH,GAAQ,IAAE,CAAH,GAAQmR,EAJV,EAKLlR,EAAE,GAAC,CAAH,GAAQ,IAAE,CAAH,GAAQmR,EALV,EAMLpR,EANK,EAOLC,EAPK,CAAP;AASD;AACD;;AClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrMA;;;;;;;;;;;;;;ACAA;;;;AAEA,SAAS9F,KAAT,CAAe4a,GAAf,EAAoB;AAClB,SAAO,CAACA,GAAG,CAAC,CAAD,CAAJ,EAASA,GAAG,CAAC,CAAD,CAAZ,CAAP;AACD;;AAED,SAAS/a,MAAT,GAAkB;AAChB,SAAO,CAAC,CAAD,EAAI,CAAJ,CAAP;AACD;;AAED,IAAMI,IAAI,GAAG8oB,eAAK9oB,IAAlB;;AACA,IAAMoQ,WAAW,GAAG0Y,eAAK1Y,WAAzB;;AACA,IAAMO,GAAG,GAAGmY,eAAKnY,GAAjB;;AACA,IAAMrP,MAAM,GAAGwnB,eAAKxnB,MAApB;;AACA,IAAMsP,KAAK,GAAGkY,eAAKlY,KAAnB;;AACA,IAAM9N,GAAG,GAAGgmB,eAAKhmB,GAAjB;;AACA,IAAMN,GAAG,GAAGsmB,eAAKtmB,GAAjB;;AACA,IAAMkO,SAAS,GAAGoY,eAAKpY,SAAvB;AACA,IAAMnQ,GAAG,GAAGuoB,eAAKvoB,GAAjB;AAEA,IAAMw3B,GAAG,GAAGn4B,MAAM,EAAlB;;AAEA,SAASo4B,YAAT,CAAsBC,OAAtB,EAA+BC,KAA/B,EAAsCC,KAAtC,EAA6CC,KAA7C,EAAoDC,SAApD,EAA+D;AAC7D;AACA71B,EAAAA,GAAG,CAACy1B,OAAD,EAAUE,KAAV,EAAiBC,KAAjB,CAAH;AACA1nB,EAAAA,SAAS,CAACunB,OAAD,EAAUA,OAAV,CAAT,CAH6D,CAK7D;;AACA13B,EAAAA,GAAG,CAAC23B,KAAD,EAAQ,CAACD,OAAO,CAAC,CAAD,CAAhB,EAAqBA,OAAO,CAAC,CAAD,CAA5B,CAAH;AACA13B,EAAAA,GAAG,CAACw3B,GAAD,EAAM,CAACI,KAAK,CAAC,CAAD,CAAZ,EAAiBA,KAAK,CAAC,CAAD,CAAtB,CAAH,CAP6D,CAS7D;;AACA,MAAMG,QAAQ,GAAGD,SAAS,GAAG1nB,GAAG,CAACunB,KAAD,EAAQH,GAAR,CAAhC;AACA,SAAOr5B,IAAI,CAACU,GAAL,CAASk5B,QAAT,CAAP,CAX6D,CAWlC;AAC5B;;AAED,SAASC,MAAT,CAAgB14B,GAAhB,EAAqB24B,GAArB,EAA0B;AACxB;AACAj4B,EAAAA,GAAG,CAACV,GAAD,EAAM,CAAC24B,GAAG,CAAC,CAAD,CAAV,EAAeA,GAAG,CAAC,CAAD,CAAlB,CAAH;AACA,SAAO34B,GAAP;AACD;;AAED,SAAS44B,SAAT,CAAmB54B,GAAnB,EAAwBZ,CAAxB,EAA2BE,CAA3B,EAA8B;AAC5B;AACA2D,EAAAA,GAAG,CAACjD,GAAD,EAAMZ,CAAN,EAASE,CAAT,CAAH;AACAuR,EAAAA,SAAS,CAAC7Q,GAAD,EAAMA,GAAN,CAAT;AACA,SAAOA,GAAP;AACD;;AC/CD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"dev.e31bb0bc.js","sourceRoot":"../dev","sourcesContent":["/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\r\n * 2x2 Matrix\r\n * @module mat2\r\n */\n\n/**\r\n * Creates a new identity mat2\r\n *\r\n * @returns {mat2} a new 2x2 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat2 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat2} a matrix to clone\r\n * @returns {mat2} a new 2x2 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Copy the values from one mat2 to another\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set a mat2 to the identity matrix\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @returns {mat2} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Create a new mat2 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\r\n * @returns {mat2} out A new 2x2 matrix\r\n */\n\nexport function fromValues(m00, m01, m10, m11) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\r\n * Set the components of a mat2 to the given values\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\r\n * @returns {mat2} out\r\n */\n\nexport function set(out, m00, m01, m10, m11) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\r\n * Transpose the values of a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache\n  // some values\n  if (out === a) {\n    var a1 = a[1];\n    out[1] = a[2];\n    out[2] = a1;\n  } else {\n    out[0] = a[0];\n    out[1] = a[2];\n    out[2] = a[1];\n    out[3] = a[3];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3]; // Calculate the determinant\n\n  var det = a0 * a3 - a2 * a1;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = a3 * det;\n  out[1] = -a1 * det;\n  out[2] = -a2 * det;\n  out[3] = a0 * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function adjoint(out, a) {\n  // Caching this value is nessecary if out == a\n  var a0 = a[0];\n  out[0] = a[3];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a0;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat2\r\n *\r\n * @param {ReadonlyMat2} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[2] * a[1];\n}\n/**\r\n * Multiplies two mat2's\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the first operand\r\n * @param {ReadonlyMat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  return out;\n}\n/**\r\n * Rotates a mat2 by the given angle\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  return out;\n}\n/**\r\n * Scales the mat2 by the dimensions in the given vec2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the matrix to rotate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat2} out\r\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2.identity(dest);\r\n *     mat2.rotate(dest, dest, rad);\r\n *\r\n * @param {mat2} out mat2 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2.identity(dest);\r\n *     mat2.scale(dest, dest, vec);\r\n *\r\n * @param {mat2} out mat2 receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat2} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  return out;\n}\n/**\r\n * Returns a string representation of a mat2\r\n *\r\n * @param {ReadonlyMat2} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat2\r\n *\r\n * @param {ReadonlyMat2} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3]);\n}\n/**\r\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\r\n * @param {ReadonlyMat2} L the lower triangular matrix\r\n * @param {ReadonlyMat2} D the diagonal matrix\r\n * @param {ReadonlyMat2} U the upper triangular matrix\r\n * @param {ReadonlyMat2} a the input matrix to factorize\r\n */\n\nexport function LDU(L, D, U, a) {\n  L[2] = a[2] / a[0];\n  U[0] = a[0];\n  U[1] = a[1];\n  U[3] = a[3] - L[2] * U[1];\n  return [L, D, U];\n}\n/**\r\n * Adds two mat2's\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the first operand\r\n * @param {ReadonlyMat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the first operand\r\n * @param {ReadonlyMat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat2} a The first matrix.\r\n * @param {ReadonlyMat2} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat2} a The first matrix.\r\n * @param {ReadonlyMat2} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat2} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two mat2's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat2} out the receiving vector\r\n * @param {ReadonlyMat2} a the first operand\r\n * @param {ReadonlyMat2} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat2} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Alias for {@link mat2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 2x3 Matrix\r\n * @module mat2d\r\n * @description\r\n * A mat2d contains six elements defined as:\r\n * <pre>\r\n * [a, b,\r\n *  c, d,\r\n *  tx, ty]\r\n * </pre>\r\n * This is a short form for the 3x3 matrix:\r\n * <pre>\r\n * [a, b, 0,\r\n *  c, d, 0,\r\n *  tx, ty, 1]\r\n * </pre>\r\n * The last column is ignored so the array is shorter and operations are faster.\r\n */\n\n/**\r\n * Creates a new identity mat2d\r\n *\r\n * @returns {mat2d} a new 2x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(6);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[4] = 0;\n    out[5] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat2d initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat2d} a matrix to clone\r\n * @returns {mat2d} a new 2x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\r\n * Copy the values from one mat2d to another\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the source matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\r\n * Set a mat2d to the identity matrix\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Create a new mat2d with the given values\r\n *\r\n * @param {Number} a Component A (index 0)\r\n * @param {Number} b Component B (index 1)\r\n * @param {Number} c Component C (index 2)\r\n * @param {Number} d Component D (index 3)\r\n * @param {Number} tx Component TX (index 4)\r\n * @param {Number} ty Component TY (index 5)\r\n * @returns {mat2d} A new mat2d\r\n */\n\nexport function fromValues(a, b, c, d, tx, ty) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\r\n * Set the components of a mat2d to the given values\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {Number} a Component A (index 0)\r\n * @param {Number} b Component B (index 1)\r\n * @param {Number} c Component C (index 2)\r\n * @param {Number} d Component D (index 3)\r\n * @param {Number} tx Component TX (index 4)\r\n * @param {Number} ty Component TY (index 5)\r\n * @returns {mat2d} out\r\n */\n\nexport function set(out, a, b, c, d, tx, ty) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\r\n * Inverts a mat2d\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the source matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function invert(out, a) {\n  var aa = a[0],\n      ab = a[1],\n      ac = a[2],\n      ad = a[3];\n  var atx = a[4],\n      aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat2d\r\n *\r\n * @param {ReadonlyMat2d} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[1] * a[2];\n}\n/**\r\n * Multiplies two mat2d's\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the first operand\r\n * @param {ReadonlyMat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  out[4] = a0 * b4 + a2 * b5 + a4;\n  out[5] = a1 * b4 + a3 * b5 + a5;\n  return out;\n}\n/**\r\n * Rotates a mat2d by the given angle\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2d} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\r\n * Scales the mat2d by the dimensions in the given vec2\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to translate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat2d} out\r\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\r\n * Translates the mat2d by the dimensions in the given vec2\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to translate\r\n * @param {ReadonlyVec2} v the vec2 to translate the matrix by\r\n * @returns {mat2d} out\r\n **/\n\nexport function translate(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0;\n  out[1] = a1;\n  out[2] = a2;\n  out[3] = a3;\n  out[4] = a0 * v0 + a2 * v1 + a4;\n  out[5] = a1 * v0 + a3 * v1 + a5;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.rotate(dest, dest, rad);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2d} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.scale(dest, dest, vec);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat2d} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.translate(dest, dest, vec);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {ReadonlyVec2} v Translation vector\r\n * @returns {mat2d} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = v[0];\n  out[5] = v[1];\n  return out;\n}\n/**\r\n * Returns a string representation of a mat2d\r\n *\r\n * @param {ReadonlyMat2d} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat2d(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat2d\r\n *\r\n * @param {ReadonlyMat2d} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], 1);\n}\n/**\r\n * Adds two mat2d's\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the first operand\r\n * @param {ReadonlyMat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the first operand\r\n * @param {ReadonlyMat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat2d} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  return out;\n}\n/**\r\n * Adds two mat2d's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat2d} out the receiving vector\r\n * @param {ReadonlyMat2d} a the first operand\r\n * @param {ReadonlyMat2d} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat2d} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat2d} a The first matrix.\r\n * @param {ReadonlyMat2d} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat2d} a The first matrix.\r\n * @param {ReadonlyMat2d} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5));\n}\n/**\r\n * Alias for {@link mat2d.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat2d.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 3x3 Matrix\r\n * @module mat3\r\n */\n\n/**\r\n * Creates a new identity mat3\r\n *\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {ReadonlyMat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\r\n * Creates a new mat3 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat3} a matrix to clone\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Create a new mat3 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} A new mat3\r\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} out\r\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to translate\r\n * @param {ReadonlyVec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.translate(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Translation vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.rotate(dest, dest, rad);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.scale(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the values from a mat2d into a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to copy\r\n * @returns {mat3} out\r\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Calculates a 3x3 matrix from the given quaternion\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\r\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat3\r\n *\r\n * @param {ReadonlyMat3} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\r\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat3} out the receiving vector\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\r\n * Alias for {@link mat3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {ReadonlyQuat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nexport function perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {ReadonlyMat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {ReadonlyVec4} result the receiving vector\r\n * @param {ReadonlyVec4} U the first vector\r\n * @param {ReadonlyVec4} V the second vector\r\n * @param {ReadonlyVec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\r\n * Quaternion\r\n * @module quat\r\n */\n\n/**\r\n * Creates a new identity quat\r\n *\r\n * @returns {quat} a new quaternion\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Set a quat to the identity quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Sets a quat from the given angle and rotation axis,\r\n * then returns it.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyVec3} axis the axis around which to rotate\r\n * @param {Number} rad the angle in radians\r\n * @returns {quat} out\r\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\r\n * Gets the rotation axis and angle for a given\r\n *  quaternion. If a quaternion is created with\r\n *  setAxisAngle, this method will return the same\r\n *  values as providied in the original parameter list\r\n *  OR functionally equivalent values.\r\n * Example: The quaternion formed by axis [0, 0, 1] and\r\n *  angle -90 is the same as the quaternion formed by\r\n *  [0, 0, 1] and 270. This method favors the latter.\r\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\r\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\r\n * @return {Number}     Angle, in radians, of the rotation\r\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\r\n * Gets the angular distance between two unit quaternions\r\n *\r\n * @param  {ReadonlyQuat} a     Origin unit quaternion\r\n * @param  {ReadonlyQuat} b     Destination unit quaternion\r\n * @return {Number}     Angle, in radians, between the two quaternions\r\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\r\n * Multiplies two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @returns {quat} out\r\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the X axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {ReadonlyQuat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Y axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {ReadonlyQuat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Z axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {ReadonlyQuat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\r\n * Calculates the W component of a quat from the X, Y, and Z components.\r\n * Assumes that quaternion is 1 unit in length.\r\n * Any existing W component will be ignored.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate W component of\r\n * @returns {quat} out\r\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\r\n * Calculate the exponential of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate the exponential of\r\n * @returns {quat} out\r\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\r\n * Calculate the natural logarithm of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate the exponential of\r\n * @returns {quat} out\r\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\r\n * Calculate the scalar power of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate the exponential of\r\n * @param {Number} b amount to scale the quaternion by\r\n * @returns {quat} out\r\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\r\n * Performs a spherical linear interpolation between two quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\r\n * Generates a random unit quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\r\n * Calculates the inverse of a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate inverse of\r\n * @returns {quat} out\r\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a quat\r\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate conjugate of\r\n * @returns {quat} out\r\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a quaternion from the given 3x3 rotation matrix.\r\n *\r\n * NOTE: The resultant quaternion is not normalized, so you should be sure\r\n * to renormalize the quaternion yourself where necessary.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyMat3} m rotation matrix\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\r\n * Creates a quaternion from the given euler angle x, y, z.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {x} Angle to rotate around X axis in degrees.\r\n * @param {y} Angle to rotate around Y axis in degrees.\r\n * @param {z} Angle to rotate around Z axis in degrees.\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\r\n * Returns a string representation of a quatenion\r\n *\r\n * @param {ReadonlyQuat} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {ReadonlyQuat} a quaternion to clone\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var clone = vec4.clone;\n/**\r\n * Creates a new quat initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var fromValues = vec4.fromValues;\n/**\r\n * Copy the values from one quat to another\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the source quaternion\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var copy = vec4.copy;\n/**\r\n * Set the components of a quat to the given values\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var set = vec4.set;\n/**\r\n * Adds two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var add = vec4.add;\n/**\r\n * Alias for {@link quat.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Scales a quat by a scalar number\r\n *\r\n * @param {quat} out the receiving vector\r\n * @param {ReadonlyQuat} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var scale = vec4.scale;\n/**\r\n * Calculates the dot product of two quat's\r\n *\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nexport var dot = vec4.dot;\n/**\r\n * Performs a linear interpolation between two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var lerp = vec4.lerp;\n/**\r\n * Calculates the length of a quat\r\n *\r\n * @param {ReadonlyQuat} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport var length = vec4.length;\n/**\r\n * Alias for {@link quat.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Calculates the squared length of a quat\r\n *\r\n * @param {ReadonlyQuat} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\r\n * Alias for {@link quat.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Normalize a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quaternion to normalize\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var normalize = vec4.normalize;\n/**\r\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyQuat} a The first quaternion.\r\n * @param {ReadonlyQuat} b The second quaternion.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\r\n * Returns whether or not the quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyQuat} a The first vector.\r\n * @param {ReadonlyQuat} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var equals = vec4.equals;\n/**\r\n * Sets a quaternion to represent the shortest rotation from one\r\n * vector to another.\r\n *\r\n * Both vectors are assumed to be unit length.\r\n *\r\n * @param {quat} out the receiving quaternion.\r\n * @param {ReadonlyVec3} a the initial vector\r\n * @param {ReadonlyVec3} b the destination vector\r\n * @returns {quat} out\r\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\r\n * Performs a spherical linear interpolation with two control points\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @param {ReadonlyQuat} c the third operand\r\n * @param {ReadonlyQuat} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\r\n * Sets the specified quaternion with values corresponding to the given\r\n * axes. Each axis is a vec3 and is expected to be unit length and\r\n * perpendicular to all other specified axes.\r\n *\r\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\r\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\r\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\r\n * @returns {quat} out\r\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as quat from \"./quat.js\";\nimport * as mat4 from \"./mat4.js\";\n/**\r\n * Dual Quaternion<br>\r\n * Format: [real, dual]<br>\r\n * Quaternion format: XYZW<br>\r\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\r\n * @module quat2\r\n */\n\n/**\r\n * Creates a new identity dual quat\r\n *\r\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\r\n */\n\nexport function create() {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    dq[0] = 0;\n    dq[1] = 0;\n    dq[2] = 0;\n    dq[4] = 0;\n    dq[5] = 0;\n    dq[6] = 0;\n    dq[7] = 0;\n  }\n\n  dq[3] = 1;\n  return dq;\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {ReadonlyQuat2} a dual quaternion to clone\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function clone(a) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = a[0];\n  dq[1] = a[1];\n  dq[2] = a[2];\n  dq[3] = a[3];\n  dq[4] = a[4];\n  dq[5] = a[5];\n  dq[6] = a[6];\n  dq[7] = a[7];\n  return dq;\n}\n/**\r\n * Creates a new dual quat initialized with the given values\r\n *\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component\r\n * @param {Number} y2 Y component\r\n * @param {Number} z2 Z component\r\n * @param {Number} w2 W component\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function fromValues(x1, y1, z1, w1, x2, y2, z2, w2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  dq[4] = x2;\n  dq[5] = y2;\n  dq[6] = z2;\n  dq[7] = w2;\n  return dq;\n}\n/**\r\n * Creates a new dual quat from the given values (quat and translation)\r\n *\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component (translation)\r\n * @param {Number} y2 Y component (translation)\r\n * @param {Number} z2 Z component (translation)\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  var ax = x2 * 0.5,\n      ay = y2 * 0.5,\n      az = z2 * 0.5;\n  dq[4] = ax * w1 + ay * z1 - az * y1;\n  dq[5] = ay * w1 + az * x1 - ax * z1;\n  dq[6] = az * w1 + ax * y1 - ay * x1;\n  dq[7] = -ax * x1 - ay * y1 - az * z1;\n  return dq;\n}\n/**\r\n * Creates a dual quat from a quaternion and a translation\r\n *\r\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\r\n * @param {ReadonlyQuat} q a normalized quaternion\r\n * @param {ReadonlyVec3} t tranlation vector\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromRotationTranslation(out, q, t) {\n  var ax = t[0] * 0.5,\n      ay = t[1] * 0.5,\n      az = t[2] * 0.5,\n      bx = q[0],\n      by = q[1],\n      bz = q[2],\n      bw = q[3];\n  out[0] = bx;\n  out[1] = by;\n  out[2] = bz;\n  out[3] = bw;\n  out[4] = ax * bw + ay * bz - az * by;\n  out[5] = ay * bw + az * bx - ax * bz;\n  out[6] = az * bw + ax * by - ay * bx;\n  out[7] = -ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Creates a dual quat from a translation\r\n *\r\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\r\n * @param {ReadonlyVec3} t translation vector\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromTranslation(out, t) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = t[0] * 0.5;\n  out[5] = t[1] * 0.5;\n  out[6] = t[2] * 0.5;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Creates a dual quat from a quaternion\r\n *\r\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\r\n * @param {ReadonlyQuat} q the quaternion\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromRotation(out, q) {\n  out[0] = q[0];\n  out[1] = q[1];\n  out[2] = q[2];\n  out[3] = q[3];\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Creates a new dual quat from a matrix (4x4)\r\n *\r\n * @param {quat2} out the dual quaternion\r\n * @param {ReadonlyMat4} a the matrix\r\n * @returns {quat2} dual quat receiving operation result\r\n * @function\r\n */\n\nexport function fromMat4(out, a) {\n  //TODO Optimize this\n  var outer = quat.create();\n  mat4.getRotation(outer, a);\n  var t = new glMatrix.ARRAY_TYPE(3);\n  mat4.getTranslation(t, a);\n  fromRotationTranslation(out, outer, t);\n  return out;\n}\n/**\r\n * Copy the values from one dual quat to another\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the source dual quaternion\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\r\n * Set a dual quat to the identity dual quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @returns {quat2} out\r\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Set the components of a dual quat to the given values\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component\r\n * @param {Number} y2 Y component\r\n * @param {Number} z2 Z component\r\n * @param {Number} w2 W component\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function set(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n  out[0] = x1;\n  out[1] = y1;\n  out[2] = z1;\n  out[3] = w1;\n  out[4] = x2;\n  out[5] = y2;\n  out[6] = z2;\n  out[7] = w2;\n  return out;\n}\n/**\r\n * Gets the real part of a dual quat\r\n * @param  {quat} out real part\r\n * @param  {ReadonlyQuat2} a Dual Quaternion\r\n * @return {quat} real part\r\n */\n\nexport var getReal = quat.copy;\n/**\r\n * Gets the dual part of a dual quat\r\n * @param  {quat} out dual part\r\n * @param  {ReadonlyQuat2} a Dual Quaternion\r\n * @return {quat} dual part\r\n */\n\nexport function getDual(out, a) {\n  out[0] = a[4];\n  out[1] = a[5];\n  out[2] = a[6];\n  out[3] = a[7];\n  return out;\n}\n/**\r\n * Set the real component of a dual quat to the given quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {ReadonlyQuat} q a quaternion representing the real part\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport var setReal = quat.copy;\n/**\r\n * Set the dual component of a dual quat to the given quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {ReadonlyQuat} q a quaternion representing the dual part\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function setDual(out, q) {\n  out[4] = q[0];\n  out[5] = q[1];\n  out[6] = q[2];\n  out[7] = q[3];\n  return out;\n}\n/**\r\n * Gets the translation of a normalized dual quat\r\n * @param  {vec3} out translation\r\n * @param  {ReadonlyQuat2} a Dual Quaternion to be decomposed\r\n * @return {vec3} translation\r\n */\n\nexport function getTranslation(out, a) {\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3];\n  out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n  out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n  out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  return out;\n}\n/**\r\n * Translates a dual quat by the given vector\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {quat2} out\r\n */\n\nexport function translate(out, a, v) {\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3],\n      bx1 = v[0] * 0.5,\n      by1 = v[1] * 0.5,\n      bz1 = v[2] * 0.5,\n      ax2 = a[4],\n      ay2 = a[5],\n      az2 = a[6],\n      aw2 = a[7];\n  out[0] = ax1;\n  out[1] = ay1;\n  out[2] = az1;\n  out[3] = aw1;\n  out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n  out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n  out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n  out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the X axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateX(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the Y axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateY(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the Z axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateZ(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat by a given quaternion (a * q)\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @param {ReadonlyQuat} q quaternion to rotate by\r\n * @returns {quat2} out\r\n */\n\nexport function rotateByQuatAppend(out, a, q) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  out[0] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[1] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[2] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[3] = aw * qw - ax * qx - ay * qy - az * qz;\n  ax = a[4];\n  ay = a[5];\n  az = a[6];\n  aw = a[7];\n  out[4] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[5] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[6] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[7] = aw * qw - ax * qx - ay * qy - az * qz;\n  return out;\n}\n/**\r\n * Rotates a dual quat by a given quaternion (q * a)\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat} q quaternion to rotate by\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @returns {quat2} out\r\n */\n\nexport function rotateByQuatPrepend(out, q, a) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      bx = a[0],\n      by = a[1],\n      bz = a[2],\n      bw = a[3];\n  out[0] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[1] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[2] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[3] = qw * bw - qx * bx - qy * by - qz * bz;\n  bx = a[4];\n  by = a[5];\n  bz = a[6];\n  bw = a[7];\n  out[4] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[5] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[6] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[7] = qw * bw - qx * bx - qy * by - qz * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around a given axis. Does the normalisation automatically\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @param {Number} rad how far the rotation should be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateAroundAxis(out, a, axis, rad) {\n  //Special case for rad = 0\n  if (Math.abs(rad) < glMatrix.EPSILON) {\n    return copy(out, a);\n  }\n\n  var axisLength = Math.hypot(axis[0], axis[1], axis[2]);\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  var bx = s * axis[0] / axisLength;\n  var by = s * axis[1] / axisLength;\n  var bz = s * axis[2] / axisLength;\n  var bw = Math.cos(rad);\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3];\n  out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  out[4] = ax * bw + aw * bx + ay * bz - az * by;\n  out[5] = ay * bw + aw * by + az * bx - ax * bz;\n  out[6] = az * bw + aw * bz + ax * by - ay * bx;\n  out[7] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Adds two dual quat's\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the first operand\r\n * @param {ReadonlyQuat2} b the second operand\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  return out;\n}\n/**\r\n * Multiplies two dual quat's\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the first operand\r\n * @param {ReadonlyQuat2} b the second operand\r\n * @returns {quat2} out\r\n */\n\nexport function multiply(out, a, b) {\n  var ax0 = a[0],\n      ay0 = a[1],\n      az0 = a[2],\n      aw0 = a[3],\n      bx1 = b[4],\n      by1 = b[5],\n      bz1 = b[6],\n      bw1 = b[7],\n      ax1 = a[4],\n      ay1 = a[5],\n      az1 = a[6],\n      aw1 = a[7],\n      bx0 = b[0],\n      by0 = b[1],\n      bz0 = b[2],\n      bw0 = b[3];\n  out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n  out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n  out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n  out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n  out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n  out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n  out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n  out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n  return out;\n}\n/**\r\n * Alias for {@link quat2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Scales a dual quat by a scalar number\r\n *\r\n * @param {quat2} out the receiving dual quat\r\n * @param {ReadonlyQuat2} a the dual quat to scale\r\n * @param {Number} b amount to scale the dual quat by\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  return out;\n}\n/**\r\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\r\n *\r\n * @param {ReadonlyQuat2} a the first operand\r\n * @param {ReadonlyQuat2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nexport var dot = quat.dot;\n/**\r\n * Performs a linear interpolation between two dual quats's\r\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\r\n *\r\n * @param {quat2} out the receiving dual quat\r\n * @param {ReadonlyQuat2} a the first operand\r\n * @param {ReadonlyQuat2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var mt = 1 - t;\n  if (dot(a, b) < 0) t = -t;\n  out[0] = a[0] * mt + b[0] * t;\n  out[1] = a[1] * mt + b[1] * t;\n  out[2] = a[2] * mt + b[2] * t;\n  out[3] = a[3] * mt + b[3] * t;\n  out[4] = a[4] * mt + b[4] * t;\n  out[5] = a[5] * mt + b[5] * t;\n  out[6] = a[6] * mt + b[6] * t;\n  out[7] = a[7] * mt + b[7] * t;\n  return out;\n}\n/**\r\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a dual quat to calculate inverse of\r\n * @returns {quat2} out\r\n */\n\nexport function invert(out, a) {\n  var sqlen = squaredLength(a);\n  out[0] = -a[0] / sqlen;\n  out[1] = -a[1] / sqlen;\n  out[2] = -a[2] / sqlen;\n  out[3] = a[3] / sqlen;\n  out[4] = -a[4] / sqlen;\n  out[5] = -a[5] / sqlen;\n  out[6] = -a[6] / sqlen;\n  out[7] = a[7] / sqlen;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a dual quat\r\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {ReadonlyQuat2} a quat to calculate conjugate of\r\n * @returns {quat2} out\r\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  out[4] = -a[4];\n  out[5] = -a[5];\n  out[6] = -a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\r\n * Calculates the length of a dual quat\r\n *\r\n * @param {ReadonlyQuat2} a dual quat to calculate length of\r\n * @returns {Number} length of a\r\n * @function\r\n */\n\nexport var length = quat.length;\n/**\r\n * Alias for {@link quat2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Calculates the squared length of a dual quat\r\n *\r\n * @param {ReadonlyQuat2} a dual quat to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexport var squaredLength = quat.squaredLength;\n/**\r\n * Alias for {@link quat2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Normalize a dual quat\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a dual quaternion to normalize\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function normalize(out, a) {\n  var magnitude = squaredLength(a);\n\n  if (magnitude > 0) {\n    magnitude = Math.sqrt(magnitude);\n    var a0 = a[0] / magnitude;\n    var a1 = a[1] / magnitude;\n    var a2 = a[2] / magnitude;\n    var a3 = a[3] / magnitude;\n    var b0 = a[4];\n    var b1 = a[5];\n    var b2 = a[6];\n    var b3 = a[7];\n    var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = (b0 - a0 * a_dot_b) / magnitude;\n    out[5] = (b1 - a1 * a_dot_b) / magnitude;\n    out[6] = (b2 - a2 * a_dot_b) / magnitude;\n    out[7] = (b3 - a3 * a_dot_b) / magnitude;\n  }\n\n  return out;\n}\n/**\r\n * Returns a string representation of a dual quatenion\r\n *\r\n * @param {ReadonlyQuat2} a dual quaternion to represent as a string\r\n * @returns {String} string representation of the dual quat\r\n */\n\nexport function str(a) {\n  return \"quat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \")\";\n}\n/**\r\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyQuat2} a the first dual quaternion.\r\n * @param {ReadonlyQuat2} b the second dual quaternion.\r\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n/**\r\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyQuat2} a the first dual quat.\r\n * @param {ReadonlyQuat2} b the second dual quat.\r\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}","import * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as mat2 from \"./mat2.js\";\nimport * as mat2d from \"./mat2d.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as mat4 from \"./mat4.js\";\nimport * as quat from \"./quat.js\";\nimport * as quat2 from \"./quat2.js\";\nimport * as vec2 from \"./vec2.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\nexport { glMatrix, mat2, mat2d, mat3, mat4, quat, quat2, vec2, vec3, vec4 };","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"GlRenderer\"] = factory();\n\telse\n\t\troot[\"GlRenderer\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/js/\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_renderer__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Renderer; });\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(11);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(15);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(16);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(17);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(18);\n/* harmony import */ var _default_vert_glsl__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(20);\n/* harmony import */ var _default_vert_glsl__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_default_vert_glsl__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _default_frag_glsl__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(21);\n/* harmony import */ var _default_frag_glsl__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_default_frag_glsl__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _default_feeback_vert_glsl__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(22);\n/* harmony import */ var _default_feeback_vert_glsl__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_default_feeback_vert_glsl__WEBPACK_IMPORTED_MODULE_10__);\n\n\n\n\n\n\n\n\n\n\n\nvar GLSL_LIBS = {};\n\nfunction mapTextureCoordinate(positions) {\n  var size = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;\n  var texVertexData = [];\n  var len = positions.length;\n\n  for (var i = 0; i < len; i++) {\n    if (i % size < 2) texVertexData.push(0.5 * (positions[i] + 1));\n  }\n\n  return texVertexData;\n}\n\nfunction clearBuffers(gl, program) {\n  var buffers = program._buffers;\n  Object.values(buffers).forEach(function (buffer) {\n    gl.deleteBuffer(buffer);\n  });\n  program._buffers = {};\n}\n\nfunction bindTexture(gl, texture, i) {\n  gl.activeTexture(gl.TEXTURE0 + i);\n\n  if (Array.isArray(texture._img)) {\n    gl.bindTexture(gl.TEXTURE_CUBE_MAP, texture);\n  } else {\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n  }\n\n  return texture;\n}\n\nvar uniformTypeMap = {\n  int: '1i',\n  ivec2: '2i',\n  ivec3: '3i',\n  ivec4: '4i',\n  float: '1f',\n  vec2: '2f',\n  vec3: '3f',\n  vec4: '4f',\n  mat2: 'Matrix2fv',\n  mat3: 'Matrix3fv',\n  mat4: 'Matrix4fv',\n  sampler1D: 'sampler1D',\n  sampler2D: 'sampler2D',\n  sampler3D: 'sampler3D',\n  samplerCube: 'samplerCube',\n  sampler1DShadow: 'sampler1DShadow',\n  sampler2DShadow: 'sampler2DShadow',\n  sampler2DRect: 'sampler2DRect',\n  sampler2DRectShadow: 'sampler2DRectShadow'\n};\n\nvar Renderer = /*#__PURE__*/function () {\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default()(Renderer, null, [{\n    key: \"addLibs\",\n    value: function addLibs() {\n      var libs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      Object.assign(GLSL_LIBS, libs);\n    }\n  }, {\n    key: \"FLOAT\",\n    value: function FLOAT(points, buffer) {\n      return Object(_helpers__WEBPACK_IMPORTED_MODULE_7__[\"pointsToBuffer\"])(points, Float32Array, buffer);\n    }\n  }, {\n    key: \"UNSIGNED_BYTE\",\n    value: function UNSIGNED_BYTE(points, buffer) {\n      return Object(_helpers__WEBPACK_IMPORTED_MODULE_7__[\"pointsToBuffer\"])(points, Uint8Array, buffer);\n    }\n  }, {\n    key: \"UNSIGNED_SHORT\",\n    value: function UNSIGNED_SHORT(points, buffer) {\n      return Object(_helpers__WEBPACK_IMPORTED_MODULE_7__[\"pointsToBuffer\"])(points, Uint16Array, buffer);\n    }\n  }, {\n    key: \"BYTE\",\n    value: function BYTE(points, buffer) {\n      return Object(_helpers__WEBPACK_IMPORTED_MODULE_7__[\"pointsToBuffer\"])(points, Int8Array, buffer);\n    }\n  }, {\n    key: \"SHORT\",\n    value: function SHORT(points, buffer) {\n      return Object(_helpers__WEBPACK_IMPORTED_MODULE_7__[\"pointsToBuffer\"])(points, Int16Array, buffer);\n    }\n  }]);\n\n  function Renderer(canvas) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default()(this, Renderer);\n\n    this.options = Object.assign({}, Renderer.defaultOptions, opts);\n    this.canvas = canvas;\n    var gl;\n\n    if (this.options.webgl2) {\n      gl = canvas.getContext('webgl2', this.options);\n    }\n\n    if (gl == null) {\n      gl = Object(_helpers__WEBPACK_IMPORTED_MODULE_7__[\"setupWebGL\"])(canvas, this.options);\n      this.aia_ext = gl.getExtension('ANGLE_instanced_arrays');\n    }\n\n    this.gl = gl;\n    gl.viewport(0, 0, canvas.width, canvas.height); // gl.clearColor(1.0, 1.0, 1.0, 1.0);\n    // gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\n    gl.clearColor(0.0, 0.0, 0.0, 0.0);\n    gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n    this.programs = [];\n    this._events = {};\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default()(Renderer, [{\n    key: \"_declareUniform\",\n    // WebGLRenderingContext.uniform[1234][fi][v]()\n    // WebGLRenderingContext.uniformMatrix[234]fv()\n    value: function _declareUniform(program, name) {\n      var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '1f';\n      var gl = this.gl;\n      var uniform = gl.getUniformLocation(program, name);\n      var value;\n      var that = this;\n\n      if (/^sampler/.test(type)) {\n        var samplerMap = program._samplerMap;\n        var textures = program._bindTextures;\n        Object.defineProperty(program.uniforms, name, {\n          get: function get() {\n            return value;\n          },\n          set: function set(v) {\n            value = v;\n            var idx = samplerMap[name] != null ? samplerMap[name] : textures.length;\n            textures[idx] = v;\n            bindTexture(gl, v, idx);\n\n            if (!samplerMap[name]) {\n              samplerMap[name] = idx;\n              gl.uniform1i(uniform, idx);\n            } // gl.bindTexture(gl.TEXTURE_2D, null);\n\n\n            if (that.options.autoUpdate) that.update();\n          },\n          configurable: false,\n          enumerable: true\n        });\n      } else {\n        var isMatrix = type.indexOf('Matrix') === 0;\n        var isTypeV = !isMatrix && /v$/.test(type);\n        var setUniform = gl[\"uniform\".concat(type)].bind(gl);\n        Object.defineProperty(program.uniforms, name, {\n          get: function get() {\n            return value;\n          },\n          set: function set(v) {\n            value = v;\n\n            if (typeof v === 'number') {\n              v = [v];\n            }\n\n            if (isMatrix) setUniform(uniform, false, v);else if (isTypeV) setUniform(uniform, v);else setUniform.apply(void 0, [uniform].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3___default()(v)));\n            if (that.options.autoUpdate) that.update();\n          },\n          configurable: false,\n          enumerable: true\n        });\n      }\n    }\n  }, {\n    key: \"_draw\",\n    value: function _draw() {\n      var _this = this;\n\n      var program = this.program;\n      program.meshData.forEach(function (meshData, meshIndex) {\n        var positions = meshData.positions,\n            cells = meshData.cells,\n            instanceCount = meshData.instanceCount,\n            cellsCount = meshData.cellsCount,\n            attributes = meshData.attributes,\n            uniforms = meshData.uniforms,\n            textureCoord = meshData.textureCoord,\n            enableBlend = meshData.enableBlend;\n        var gl = _this.gl;\n        var mode = meshData.mode != null ? meshData.mode : gl.TRIANGLES;\n\n        if (typeof mode === 'string') {\n          mode = gl[mode];\n        }\n\n        if (enableBlend) gl.enable(gl.BLEND);else gl.disable(gl.BLEND);\n        gl.bindBuffer(gl.ARRAY_BUFFER, program._buffers.verticesBuffer);\n        gl.bufferData(gl.ARRAY_BUFFER, positions, gl.STATIC_DRAW);\n\n        if (cells) {\n          gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, program._buffers.cellsBuffer);\n          gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, cells, gl.STATIC_DRAW);\n        }\n\n        var locations = [];\n\n        if (attributes) {\n          Object.values(attributes).forEach(function (_ref) {\n            var name = _ref.name,\n                data = _ref.data,\n                divisor = _ref.divisor;\n            gl.bindBuffer(gl.ARRAY_BUFFER, program._buffers[name]);\n            gl.bufferData(gl.ARRAY_BUFFER, data, gl.STATIC_DRAW);\n\n            if (divisor != null) {\n              var location = gl.getAttribLocation(program, name);\n\n              if (location >= 0) {\n                gl.enableVertexAttribArray(location);\n                locations.push(location);\n\n                if (gl.vertexAttribDivisor) {\n                  gl.vertexAttribDivisor(location, divisor);\n                } else if (_this.aia_ext) {\n                  _this.aia_ext.vertexAttribDivisorANGLE(location, divisor);\n                }\n              }\n            }\n          });\n        }\n\n        if (uniforms) {\n          Object.entries(uniforms).forEach(function (_ref2) {\n            var _ref3 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_ref2, 2),\n                key = _ref3[0],\n                value = _ref3[1];\n\n            _this.uniforms[key] = value;\n          });\n        }\n\n        var count;\n\n        if (!cells) {\n          var dimension = program._dimension;\n          count = positions.length / dimension;\n        }\n\n        if (program._enableTextures && program._buffers.texCoordBuffer) {\n          var texVertexData = textureCoord || mapTextureCoordinate(positions, program._dimension);\n          gl.bindBuffer(gl.ARRAY_BUFFER, program._buffers.texCoordBuffer);\n          gl.bufferData(gl.ARRAY_BUFFER, Renderer.FLOAT(texVertexData), gl.STATIC_DRAW);\n        }\n\n        if (instanceCount != null) {\n          if (cells) {\n            if (gl.drawElementsInstanced) {\n              gl.drawElementsInstanced(mode, cellsCount, gl.UNSIGNED_SHORT, 0, instanceCount);\n            } else if (_this.aia_ext) {\n              _this.aia_ext.drawElementsInstancedANGLE(mode, cellsCount, gl.UNSIGNED_SHORT, 0, instanceCount);\n            }\n          } else if (gl.drawArraysInstanced) {\n            gl.drawArraysInstanced(mode, 0, count, instanceCount);\n          } else {\n            _this.aia_ext.drawArraysInstancedANGLE(mode, 0, count, instanceCount);\n          }\n\n          locations.forEach(function (location) {\n            if (gl.vertexAttribDivisor) {\n              gl.vertexAttribDivisor(location, null);\n            } else if (_this.aia_ext) {\n              _this.aia_ext.vertexAttribDivisorANGLE(location, null);\n            }\n          });\n        } else if (cells) {\n          gl.drawElements(mode, cellsCount, gl.UNSIGNED_SHORT, 0);\n        } else {\n          gl.drawArrays(mode, 0, count);\n        }\n      });\n    }\n  }, {\n    key: \"deleteProgram\",\n    value: function deleteProgram(program) {\n      var gl = this.gl;\n\n      if (this.program === program) {\n        this.startRender = false;\n\n        if (this._renderFrameID) {\n          cancelAnimationFrame(this._renderFrameID);\n          delete this._renderFrameID;\n        }\n\n        gl.useProgram(null);\n      }\n\n      var idx = this.programs.indexOf(program);\n\n      if (idx >= 0) {\n        this.programs.splice(idx, 1);\n      }\n\n      clearBuffers(gl, program);\n      gl.deleteProgram(program);\n    }\n    /**\n      [{\n        positions: ...\n        cells: ...\n        textureCoord: ...\n        attributes: {name: {data:..., normalize: true}},\n        uniforms: ...\n      }]\n     */\n\n  }, {\n    key: \"setMeshData\",\n    value: function setMeshData(data) {\n      var _this2 = this;\n\n      if (!Array.isArray(data)) {\n        data = [data];\n      }\n\n      var program = this.program;\n      program.meshData = data.map(function (_ref4) {\n        var mode = _ref4.mode,\n            positions = _ref4.positions,\n            instanceCount = _ref4.instanceCount,\n            cells = _ref4.cells,\n            cellsCount = _ref4.cellsCount,\n            attributes = _ref4.attributes,\n            uniforms = _ref4.uniforms,\n            textureCoord = _ref4.textureCoord,\n            enableBlend = _ref4.enableBlend;\n        var meshData = {\n          positions: Renderer.FLOAT(positions),\n          uniforms: uniforms,\n          enableBlend: !!enableBlend,\n          textureCoord: Renderer.FLOAT(textureCoord)\n        };\n\n        if (cells) {\n          meshData.cells = Renderer.USHORT(cells);\n          meshData.cellsCount = cellsCount || meshData.cells.length;\n        }\n\n        if (mode != null) {\n          meshData.mode = mode;\n        }\n\n        if (instanceCount != null) {\n          if (!_this2.isWebGL2 && !_this2.aia_ext) throw new Error('Cannot use instanceCount in this rendering context, use webgl2 context instead.');else meshData.instanceCount = instanceCount;\n        }\n\n        if (attributes) {\n          var copied = {};\n          Object.entries(attributes).forEach(function (_ref5) {\n            var _ref6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_ref5, 2),\n                key = _ref6[0],\n                value = _ref6[1];\n\n            if (!program._attribute[key]) {\n              // throw new Error(`Invalid attribute ${key}.`);\n              if (false) {}\n              program._attribute[key] = 'ignored';\n            } else if (program._attribute[key] !== 'ignored') {\n              var _program$_attribute$k = program._attribute[key],\n                  name = _program$_attribute$k.name,\n                  type = _program$_attribute$k.type;\n              var buffer = value.data || value;\n\n              if (Array.isArray(buffer)) {\n                buffer = Renderer[type](buffer);\n              }\n\n              copied[key] = {\n                name: name,\n                data: buffer\n              };\n\n              if (value.divisor != null) {\n                if (!_this2.isWebGL2 && !_this2.aia_ext) throw new Error('Cannot use divisor in this rendering context, use webgl2 context instead.');else copied[key].divisor = value.divisor;\n              }\n            }\n          });\n          meshData.attributes = copied;\n        }\n\n        return meshData;\n      });\n      if (this.options.autoUpdate) this.update();\n    }\n  }, {\n    key: \"createProgram\",\n    value: function createProgram(fragmentShader, vertexShader) {\n      var _this3 = this;\n\n      // this.deleteProgram();\n      // this._events = {};\n      var enableTextures = /^\\s*uniform\\s+sampler/mg.test(fragmentShader);\n      if (fragmentShader == null) fragmentShader = _default_frag_glsl__WEBPACK_IMPORTED_MODULE_9___default.a;\n      if (vertexShader == null) vertexShader = enableTextures ? _default_feeback_vert_glsl__WEBPACK_IMPORTED_MODULE_10___default.a : _default_vert_glsl__WEBPACK_IMPORTED_MODULE_8___default.a;\n      var gl = this.gl;\n\n      var program = Object(_helpers__WEBPACK_IMPORTED_MODULE_7__[\"createProgram\"])(gl, vertexShader, fragmentShader);\n\n      program.shaderText = {\n        vertexShader: vertexShader,\n        fragmentShader: fragmentShader\n      };\n      program._buffers = {};\n      program._attribute = {};\n      program.uniforms = {};\n      program._samplerMap = {};\n      program._bindTextures = []; // console.log(vertexShader);\n\n      var pattern = new RegExp(\"(?:attribute|in) vec(\\\\d) \".concat(this.options.vertexPosition), 'im');\n      var matched = vertexShader.match(pattern);\n\n      if (matched) {\n        program._dimension = Number(matched[1]);\n      }\n\n      var texCoordPattern = new RegExp(\"(?:attribute|in) vec(\\\\d) \".concat(this.options.vertexTextureCoord), 'im');\n      matched = vertexShader.match(texCoordPattern);\n\n      if (matched) {\n        program._texCoordSize = Number(matched[1]);\n      }\n\n      var attributePattern = /^\\s*(?:attribute|in) (\\w+?)(\\d*) (\\w+)/gim;\n      matched = vertexShader.match(attributePattern);\n\n      if (matched) {\n        for (var i = 0; i < matched.length; i++) {\n          var patt = /^\\s*(?:attribute|in) (\\w+?)(\\d*) (\\w+)/im;\n\n          var _matched = matched[i].match(patt);\n\n          if (_matched && _matched[3] !== this.options.vertexPosition && _matched[3] !== this.options.vertexTextureCoord) {\n            var _matched2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_matched, 4),\n                type = _matched2[1],\n                size = _matched2[2],\n                name = _matched2[3];\n\n            if (type === 'mat') size = Math.pow(size, 2);\n            program._buffers[name] = gl.createBuffer();\n            program._attribute[name] = {\n              name: name,\n              type: type,\n              size: Number(size) || 1\n            };\n          }\n        }\n      }\n\n      var uniformPattern = /^\\s*uniform\\s+(\\w+)\\s+(\\w+)(\\[\\d+\\])?/mg;\n      matched = vertexShader.match(uniformPattern) || [];\n      matched = matched.concat(fragmentShader.match(uniformPattern) || []);\n      matched.forEach(function (m) {\n        var _matched = m.match(/^\\s*uniform\\s+(\\w+)\\s+(\\w+)(\\[\\d+\\])?/);\n\n        var _matched$slice = _matched.slice(1),\n            _matched$slice2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_matched$slice, 3),\n            type = _matched$slice2[0],\n            name = _matched$slice2[1],\n            isTypeV = _matched$slice2[2];\n\n        type = uniformTypeMap[type];\n        isTypeV = !!isTypeV;\n\n        if (type.indexOf('Matrix') !== 0 && isTypeV) {\n          type += 'v';\n        }\n\n        _this3._declareUniform(program, name, type);\n      });\n      program._buffers.verticesBuffer = gl.createBuffer();\n      program._buffers.cellsBuffer = gl.createBuffer();\n      var vTexCoord = gl.getAttribLocation(program, this.options.vertexTextureCoord);\n      program._enableTextures = vTexCoord >= 0;\n\n      if (program._enableTextures) {\n        program._buffers.texCoordBuffer = gl.createBuffer();\n      }\n\n      this.programs.push(program);\n      return program;\n    }\n  }, {\n    key: \"useProgram\",\n    value: function useProgram(program) {\n      var attrOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.startRender = false;\n\n      if (this._renderFrameID) {\n        cancelAnimationFrame(this._renderFrameID);\n        delete this._renderFrameID;\n      }\n\n      var gl = this.gl;\n      gl.useProgram(program); // this.program = program;\n\n      var dimension = program._dimension;\n      gl.bindBuffer(gl.ARRAY_BUFFER, program._buffers.verticesBuffer);\n      var vPosition = gl.getAttribLocation(program, this.options.vertexPosition);\n      gl.vertexAttribPointer(vPosition, dimension, gl.FLOAT, false, 0, 0);\n      gl.enableVertexAttribArray(vPosition);\n\n      if (program._enableTextures) {\n        gl.bindBuffer(gl.ARRAY_BUFFER, program._buffers.texCoordBuffer);\n        var vTexCoord = gl.getAttribLocation(program, this.options.vertexTextureCoord);\n        gl.vertexAttribPointer(vTexCoord, program._texCoordSize || 2, gl.FLOAT, false, 0, 0);\n        gl.enableVertexAttribArray(vTexCoord);\n      }\n\n      Object.entries(program._attribute).forEach(function (_ref7) {\n        var _ref8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_ref7, 2),\n            name = _ref8[0],\n            item = _ref8[1];\n\n        if (item !== 'ignored') {\n          var size = item.size;\n          var options = attrOptions[name] || {};\n          var normalize = !!options.normalize;\n          var bufferType = options.type || 'FLOAT';\n          var key = options.key || name;\n          if (bufferType === 'UBYTE') bufferType = 'UNSIGNED_BYTE';\n          if (bufferType === 'USHORT') bufferType = 'UNSIGNED_SHORT';\n          item.type = bufferType;\n\n          if (key && key !== name) {\n            program._attribute[key] = item;\n          }\n\n          gl.bindBuffer(gl.ARRAY_BUFFER, program._buffers[name]);\n          var attrib = gl.getAttribLocation(program, name); // console.log(size, gl[bufferType]);\n\n          if (attrib >= 0) {\n            gl.vertexAttribPointer(attrib, size, gl[bufferType], normalize, 0, 0);\n            gl.enableVertexAttribArray(attrib);\n          }\n        }\n      });\n\n      if (!program.meshData) {\n        var positions = [[-1, -1, 0, 1].slice(0, dimension), [1, -1, 0, 1].slice(0, dimension), [1, 1, 0, 1].slice(0, dimension), [-1, 1, 0, 1].slice(0, dimension)];\n        var cells = [[0, 1, 3], [3, 1, 2]];\n        this.setMeshData({\n          positions: positions,\n          cells: cells\n        });\n      }\n\n      return program;\n    }\n  }, {\n    key: \"compileSync\",\n    value: function compileSync(frag, vert) {\n      frag = frag || _default_frag_glsl__WEBPACK_IMPORTED_MODULE_9___default.a;\n      var loaded = {};\n\n      function _compile(content) {\n        content = content.replace(/^\\s*/mg, '');\n        var includes = [];\n        var matched = content.match(/^#pragma\\s+include\\s+.*/mg);\n\n        if (matched) {\n          // console.log(matched, url);\n          for (var i = 0; i < matched.length; i++) {\n            var m = matched[i];\n\n            var _matched = m.match(/(?:<|\")(.*)(?:>|\")/);\n\n            if (_matched) {\n              var type = _matched[0].indexOf('<') === 0 ? 'lib' : 'link';\n              var name = _matched[1];\n              if (name === 'graph') name = 'graphics';\n\n              if (!loaded[name]) {\n                loaded[name] = true;\n\n                if (type === 'lib') {\n                  var c = _compile(GLSL_LIBS[name]); // eslint-disable-line no-await-in-loop\n\n\n                  includes.push(c);\n                } else if (type === 'link') {\n                  throw new Error('Cannot load external links synchronously. Use compile instead of compileSync.');\n                }\n              } else {\n                includes.push(\"/* included \".concat(name, \" */\"));\n              }\n            }\n          }\n\n          includes.forEach(function (inc) {\n            content = content.replace(/^#pragma\\s+include\\s+.*/m, inc);\n          });\n        }\n\n        return content;\n      }\n\n      var fragmentShader = _compile(frag);\n\n      var vertexShader = vert ? _compile(vert) : null;\n      var program = this.createProgram(fragmentShader, vertexShader);\n      return program;\n    }\n  }, {\n    key: \"compile\",\n    value: function () {\n      var _compile2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(frag, vert) {\n        var loaded, _compile, _compile3, fragmentShader, vertexShader, program;\n\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _compile3 = function _compile5() {\n                  _compile3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(content) {\n                    var includes, matched, i, m, _matched, type, name, c, _c;\n\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            content = content.replace(/^\\s*/mg, '');\n                            includes = [];\n                            matched = content.match(/^#pragma\\s+include\\s+.*/mg);\n\n                            if (!matched) {\n                              _context.next = 36;\n                              break;\n                            }\n\n                            i = 0;\n\n                          case 5:\n                            if (!(i < matched.length)) {\n                              _context.next = 35;\n                              break;\n                            }\n\n                            m = matched[i];\n                            _matched = m.match(/(?:<|\")(.*)(?:>|\")/);\n\n                            if (!_matched) {\n                              _context.next = 32;\n                              break;\n                            }\n\n                            type = _matched[0].indexOf('<') === 0 ? 'lib' : 'link';\n                            name = _matched[1];\n                            if (name === 'graph') name = 'graphics';\n\n                            if (loaded[name]) {\n                              _context.next = 31;\n                              break;\n                            }\n\n                            loaded[name] = true; // TODO: \n\n                            if (!(type === 'lib')) {\n                              _context.next = 21;\n                              break;\n                            }\n\n                            _context.next = 17;\n                            return _compile(GLSL_LIBS[name]);\n\n                          case 17:\n                            c = _context.sent;\n                            // eslint-disable-line no-await-in-loop\n                            includes.push(c);\n                            _context.next = 29;\n                            break;\n\n                          case 21:\n                            if (!(type === 'link')) {\n                              _context.next = 29;\n                              break;\n                            }\n\n                            _context.next = 24;\n                            return Renderer.fetchShader(name);\n\n                          case 24:\n                            _c = _context.sent;\n                            _context.next = 27;\n                            return _compile(_c);\n\n                          case 27:\n                            _c = _context.sent;\n                            // eslint-disable-line no-await-in-loop\n                            includes.push(_c);\n\n                          case 29:\n                            _context.next = 32;\n                            break;\n\n                          case 31:\n                            includes.push(\"/* included \".concat(name, \" */\"));\n\n                          case 32:\n                            i++;\n                            _context.next = 5;\n                            break;\n\n                          case 35:\n                            includes.forEach(function (inc) {\n                              content = content.replace(/^#pragma\\s+include\\s+.*/m, inc);\n                            });\n\n                          case 36:\n                            return _context.abrupt(\"return\", content);\n\n                          case 37:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee);\n                  }));\n                  return _compile3.apply(this, arguments);\n                };\n\n                _compile = function _compile4(_x3) {\n                  return _compile3.apply(this, arguments);\n                };\n\n                frag = frag || _default_frag_glsl__WEBPACK_IMPORTED_MODULE_9___default.a;\n                loaded = {};\n                _context2.next = 6;\n                return _compile(frag);\n\n              case 6:\n                fragmentShader = _context2.sent;\n\n                if (!vert) {\n                  _context2.next = 13;\n                  break;\n                }\n\n                _context2.next = 10;\n                return _compile(vert);\n\n              case 10:\n                _context2.t0 = _context2.sent;\n                _context2.next = 14;\n                break;\n\n              case 13:\n                _context2.t0 = null;\n\n              case 14:\n                vertexShader = _context2.t0;\n                program = this.createProgram(fragmentShader, vertexShader);\n                return _context2.abrupt(\"return\", program);\n\n              case 17:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function compile(_x, _x2) {\n        return _compile2.apply(this, arguments);\n      }\n\n      return compile;\n    }()\n  }, {\n    key: \"load\",\n    value: function () {\n      var _load = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(frag) {\n        var vert,\n            _args3 = arguments;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                vert = _args3.length > 1 && _args3[1] !== undefined ? _args3[1] : null;\n                _context3.next = 3;\n                return Renderer.fetchShader(frag);\n\n              case 3:\n                frag = _context3.sent;\n\n                if (!vert) {\n                  _context3.next = 8;\n                  break;\n                }\n\n                _context3.next = 7;\n                return Renderer.fetchShader(vert);\n\n              case 7:\n                vert = _context3.sent;\n\n              case 8:\n                return _context3.abrupt(\"return\", this.compile(frag, vert));\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function load(_x4) {\n        return _load.apply(this, arguments);\n      }\n\n      return load;\n    }()\n  }, {\n    key: \"createTexture\",\n    value: function createTexture() {\n      var _this4 = this;\n\n      var img = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      var _ref9 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref9$wrapS = _ref9.wrapS,\n          wrapS = _ref9$wrapS === void 0 ? this.gl.CLAMP_TO_EDGE : _ref9$wrapS,\n          _ref9$wrapT = _ref9.wrapT,\n          wrapT = _ref9$wrapT === void 0 ? this.gl.CLAMP_TO_EDGE : _ref9$wrapT,\n          _ref9$minFilter = _ref9.minFilter,\n          minFilter = _ref9$minFilter === void 0 ? this.gl.LINEAR : _ref9$minFilter,\n          _ref9$magFilter = _ref9.magFilter,\n          magFilter = _ref9$magFilter === void 0 ? this.gl.LINEAR : _ref9$magFilter;\n\n      var gl = this.gl;\n      var target = Array.isArray(img) ? gl.TEXTURE_CUBE_MAP : gl.TEXTURE_2D;\n      this._max_texture_image_units = this._max_texture_image_units || gl.getParameter(gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS);\n      gl.activeTexture(gl.TEXTURE0 + this._max_texture_image_units - 1);\n      var texture = gl.createTexture();\n      gl.bindTexture(target, texture);\n      gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n      var _this$canvas = this.canvas,\n          width = _this$canvas.width,\n          height = _this$canvas.height;\n\n      if (img) {\n        if (target === gl.TEXTURE_CUBE_MAP) {\n          // For cube maps\n          for (var i = 0; i < 6; i++) {\n            gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, img[i]);\n          }\n        } else {\n          gl.texImage2D(target, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, img);\n        }\n      } else if (target === gl.TEXTURE_CUBE_MAP) {\n        // For cube maps\n        for (var _i = 0; _i < 6; _i++) {\n          this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X + _i, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n        }\n      } else {\n        gl.texImage2D(target, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n      } // gl.NEAREST is also allowed, instead of gl.LINEAR, as neither mipmap.\n\n\n      gl.texParameteri(target, gl.TEXTURE_MIN_FILTER, minFilter);\n      gl.texParameteri(target, gl.TEXTURE_MAG_FILTER, magFilter); // Prevents s-coordinate wrapping (repeating).\n\n      gl.texParameteri(target, gl.TEXTURE_WRAP_S, wrapS); // Prevents t-coordinate wrapping (repeating).\n\n      gl.texParameteri(target, gl.TEXTURE_WRAP_T, wrapT);\n\n      if (target === gl.TEXTURE_CUBE_MAP) {\n        // gl.texParameteri(target, gl.TEXTURE_WRAP_R, gl.CLAMP_TO_EDGE);\n        img.width = img[0].width;\n        img.height = img[0].height;\n      }\n\n      gl.bindTexture(target, null);\n      texture._img = img || {\n        width: width,\n        height: height\n      };\n\n      texture.delete = function () {\n        _this4.deleteTexture(texture);\n      };\n\n      return texture;\n    }\n  }, {\n    key: \"deleteTexture\",\n    value: function deleteTexture(texture) {\n      var image = texture._img;\n      this.gl.deleteTexture(texture);\n\n      if (typeof image.close === 'function') {\n        // release ImageBitmap\n        image.close();\n      }\n    }\n  }, {\n    key: \"loadTexture\",\n    value: function () {\n      var _loadTexture = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(source) {\n        var _ref10,\n            _ref10$useImageBitmap,\n            useImageBitmap,\n            img,\n            _args4 = arguments;\n\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _ref10 = _args4.length > 1 && _args4[1] !== undefined ? _args4[1] : {}, _ref10$useImageBitmap = _ref10.useImageBitmap, useImageBitmap = _ref10$useImageBitmap === void 0 ? true : _ref10$useImageBitmap;\n                _context4.next = 3;\n                return Renderer.loadImage(source, {\n                  useImageBitmap: useImageBitmap\n                });\n\n              case 3:\n                img = _context4.sent;\n                return _context4.abrupt(\"return\", this.createTexture(img));\n\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function loadTexture(_x5) {\n        return _loadTexture.apply(this, arguments);\n      }\n\n      return loadTexture;\n    }()\n  }, {\n    key: \"createFBO\",\n    value: function createFBO() {\n      var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref11$color = _ref11.color,\n          color = _ref11$color === void 0 ? 1 : _ref11$color,\n          _ref11$blend = _ref11.blend,\n          blend = _ref11$blend === void 0 ? false : _ref11$blend,\n          _ref11$depth = _ref11.depth,\n          depth = _ref11$depth === void 0 ? this.options.depth !== false : _ref11$depth,\n          _ref11$stencil = _ref11.stencil,\n          stencil = _ref11$stencil === void 0 ? !!this.options.stencil : _ref11$stencil;\n\n      var gl = this.gl;\n      var buffer = gl.createFramebuffer();\n      gl.bindFramebuffer(gl.FRAMEBUFFER, buffer);\n      var textures = [];\n\n      for (var i = 0; i < color; i++) {\n        var texture = this.createTexture();\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i, gl.TEXTURE_2D, texture, 0\n        /* level */\n        );\n        textures.push(texture);\n      }\n\n      buffer.textures = textures;\n      buffer.texture = textures[0];\n      buffer.blend = blend;\n      var _this$canvas2 = this.canvas,\n          width = _this$canvas2.width,\n          height = _this$canvas2.height; // Render buffers\n\n      if (depth && !stencil) {\n        buffer.depthBuffer = gl.createRenderbuffer();\n        gl.bindRenderbuffer(gl.RENDERBUFFER, buffer.depthBuffer);\n        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, width, height);\n        gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, buffer.depthBuffer);\n      }\n\n      if (stencil && !depth) {\n        buffer.stencilBuffer = gl.createRenderbuffer();\n        gl.bindRenderbuffer(gl.RENDERBUFFER, buffer.stencilBuffer);\n        gl.renderbufferStorage(gl.RENDERBUFFER, gl.STENCIL_INDEX8, width, height);\n        gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.STENCIL_ATTACHMENT, gl.RENDERBUFFER, buffer.stencilBuffer);\n      }\n\n      if (depth && stencil) {\n        buffer.depthStencilBuffer = gl.createRenderbuffer();\n        gl.bindRenderbuffer(gl.RENDERBUFFER, buffer.depthStencilBuffer);\n        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, width, height);\n        gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, buffer.depthStencilBuffer);\n      }\n\n      gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n      return buffer;\n    }\n  }, {\n    key: \"bindFBO\",\n    value: function bindFBO() {\n      var fbo = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      this.fbo = fbo;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref12$clearBuffer = _ref12.clearBuffer,\n          clearBuffer = _ref12$clearBuffer === void 0 ? true : _ref12$clearBuffer;\n\n      this.startRender = true;\n      var gl = this.gl;\n      var program = this.program;\n\n      if (!program) {\n        program = this.createProgram();\n        this.useProgram(program);\n      }\n\n      if (this.fbo) {\n        gl.bindFramebuffer(gl.FRAMEBUFFER, this.fbo);\n      }\n\n      var depth = this.options.depth;\n\n      if (depth) {\n        gl.enable(gl.DEPTH_TEST);\n      }\n\n      this.gl.clear(this.gl.COLOR_BUFFER_BIT | (depth ? this.gl.DEPTH_BUFFER_BIT : 0) | (this.options.stencil ? this.gl.STENCIL_BUFFER_BIT : 0));\n      var lastFrameID = this._renderFrameID;\n\n      this._draw();\n\n      if (this.fbo) {\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n      }\n\n      if (this._renderFrameID === lastFrameID) {\n        this._renderFrameID = null;\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (!this.startRender) return;\n\n      if (this._renderFrameID == null) {\n        this._renderFrameID = requestAnimationFrame(this.render.bind(this));\n      }\n    }\n  }, {\n    key: \"program\",\n    get: function get() {\n      var gl = this.gl;\n      return gl.getParameter(gl.CURRENT_PROGRAM);\n    }\n  }, {\n    key: \"isWebGL2\",\n    get: function get() {\n      return typeof WebGL2RenderingContext !== 'undefined' && this.gl instanceof WebGL2RenderingContext;\n    }\n  }, {\n    key: \"enableTextures\",\n    get: function get() {\n      return this.program && this.program._enableTextures;\n    }\n  }, {\n    key: \"uniforms\",\n    get: function get() {\n      var program = this.program;\n\n      if (!program || !program.uniforms) {\n        throw Error('No avaliable program.');\n      }\n\n      return program.uniforms;\n    }\n  }]);\n\n  return Renderer;\n}();\n\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(Renderer, \"defaultOptions\", {\n  preserveDrawingBuffer: true,\n  autoUpdate: true,\n  vertexPosition: 'a_vertexPosition',\n  vertexTextureCoord: 'a_vertexTextureCoord',\n  webgl2: false\n});\n\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(Renderer, \"UBYTE\", Renderer.UNSIGNED_BYTE);\n\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(Renderer, \"USHORT\", Renderer.UNSIGNED_SHORT);\n\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(Renderer, \"fetchShader\", _helpers__WEBPACK_IMPORTED_MODULE_7__[\"fetchShader\"]);\n\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(Renderer, \"loadImage\", _helpers__WEBPACK_IMPORTED_MODULE_7__[\"loadImage\"]);\n\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(3);\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   true ? module.exports : undefined\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar arrayWithHoles = __webpack_require__(6);\n\nvar iterableToArrayLimit = __webpack_require__(7);\n\nvar unsupportedIterableToArray = __webpack_require__(8);\n\nvar nonIterableRest = __webpack_require__(10);\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar arrayLikeToArray = __webpack_require__(9);\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar arrayWithoutHoles = __webpack_require__(12);\n\nvar iterableToArray = __webpack_require__(13);\n\nvar unsupportedIterableToArray = __webpack_require__(8);\n\nvar nonIterableSpread = __webpack_require__(14);\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar arrayLikeToArray = __webpack_require__(9);\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setupWebGL\", function() { return setupWebGL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createProgram\", function() { return createProgram; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pointsToBuffer\", function() { return pointsToBuffer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadImage\", function() { return loadImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetchShader\", function() { return fetchShader; });\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(19);\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nfunction create3DContext(canvas, opt_attribs) {\n  var names = ['webgl', 'experimental-webgl', 'webkit-3d', 'moz-webgl'];\n  var context = null;\n\n  for (var ii = 0; ii < names.length; ++ii) {\n    try {\n      context = canvas.getContext(names[ii], opt_attribs);\n    } catch (e) {// no-empty\n    }\n\n    if (context) {\n      break;\n    }\n  }\n\n  return context;\n}\n\nfunction setupWebGL(canvas, opt_attribs) {\n  var context = create3DContext(canvas, opt_attribs);\n\n  if (!context) {\n    throw new Error(\"Sorry, your browser doesn't support WebGL.\");\n  }\n\n  return context;\n}\nfunction createProgram(gl, vertex, fragment) {\n  var vertShdr = gl.createShader(gl.VERTEX_SHADER);\n  gl.shaderSource(vertShdr, vertex);\n  gl.compileShader(vertShdr);\n\n  if (!gl.getShaderParameter(vertShdr, gl.COMPILE_STATUS)) {\n    var msg = \"Vertex shader failed to compile.  The error log is:\".concat(gl.getShaderInfoLog(vertShdr));\n    throw new Error(msg);\n  }\n\n  var fragShdr = gl.createShader(gl.FRAGMENT_SHADER);\n  gl.shaderSource(fragShdr, fragment);\n  gl.compileShader(fragShdr);\n\n  if (!gl.getShaderParameter(fragShdr, gl.COMPILE_STATUS)) {\n    var _msg = \"Fragment shader failed to compile.  The error log is:\".concat(gl.getShaderInfoLog(fragShdr));\n\n    throw new Error(_msg);\n  }\n\n  var program = gl.createProgram();\n  gl.attachShader(program, vertShdr);\n  gl.attachShader(program, fragShdr);\n  gl.linkProgram(program);\n\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    var _msg2 = \"Shader program failed to link.  The error log is:\".concat(gl.getProgramInfoLog(program));\n\n    throw new Error(_msg2);\n  }\n\n  gl.deleteShader(vertShdr);\n  gl.deleteShader(fragShdr);\n  return program;\n}\nfunction pointsToBuffer(points) {\n  var Type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Float32Array;\n  var buffer = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  if (buffer && !(buffer instanceof Type)) throw new TypeError('Wrong buffer type.');\n  if (points == null) return points;\n  if (points instanceof Type) return points;\n\n  if (points[0] == null || points[0].length == null) {\n    if (buffer) {\n      buffer.set(points, 0);\n      return buffer;\n    }\n\n    return new Type(points);\n  }\n\n  var deminsion = points[0].length;\n  var len = points.length;\n\n  if (!buffer) {\n    buffer = new Type(deminsion * len);\n  }\n\n  var idx = 0;\n\n  for (var i = 0; i < len; i++) {\n    for (var j = 0; j < deminsion; j++) {\n      buffer[idx++] = points[i][j];\n    }\n  }\n\n  return buffer;\n}\nvar imageCache = {};\nfunction loadImage(src) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$useImageBitmap = _ref.useImageBitmap,\n      useImageBitmap = _ref$useImageBitmap === void 0 ? true : _ref$useImageBitmap,\n      _ref$alias = _ref.alias,\n      alias = _ref$alias === void 0 ? null : _ref$alias;\n\n  if (!imageCache[src]) {\n    if (typeof Image === 'function') {\n      var img = new Image();\n\n      if (typeof src === 'string' && !((typeof location === \"undefined\" ? \"undefined\" : _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(location)) === 'object' && /^file:/.test(location.href)) // eslint-disable-line no-restricted-globals\n      && !/^data:/.test(src)) {\n        // base64 dont need crossOrigin - fix early webkit cross domain bug\n        img.crossOrigin = 'anonymous';\n      }\n\n      imageCache[src] = new Promise(function (resolve) {\n        img.onload = function () {\n          if (useImageBitmap && typeof createImageBitmap === 'function') {\n            createImageBitmap(img, {\n              imageOrientation: 'flipY'\n            }).then(function (bitmap) {\n              imageCache[src] = bitmap;\n              if (alias) imageCache[alias] = bitmap;\n              resolve(bitmap);\n            });\n          } else {\n            imageCache[src] = img;\n            if (alias) imageCache[alias] = img;\n            resolve(img);\n          }\n        };\n\n        img.src = src;\n      });\n      if (alias) imageCache[alias] = imageCache[src];\n    } else if (typeof fetch === 'function') {\n      // run in worker\n      return fetch(src, {\n        method: 'GET',\n        mode: 'cors',\n        cache: 'default'\n      }).then(function (response) {\n        return response.blob();\n      }).then(function (blob) {\n        return createImageBitmap(blob, {\n          imageOrientation: 'flipY'\n        }).then(function (bitmap) {\n          imageCache[src] = bitmap;\n          if (alias) imageCache[alias] = bitmap;\n          return bitmap;\n        });\n      });\n    }\n  }\n\n  return imageCache[src];\n}\nvar shaderCache = {};\nfunction fetchShader(_x) {\n  return _fetchShader.apply(this, arguments);\n}\n\nfunction _fetchShader() {\n  _fetchShader = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(url) {\n    var res, content;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!shaderCache[url]) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", shaderCache[url]);\n\n          case 2:\n            _context.next = 4;\n            return fetch(url);\n\n          case 4:\n            res = _context.sent;\n\n            if (!(res.status >= 200 && res.status < 300)) {\n              _context.next = 11;\n              break;\n            }\n\n            _context.next = 8;\n            return res.text();\n\n          case 8:\n            content = _context.sent;\n            shaderCache[url] = content;\n            return _context.abrupt(\"return\", content);\n\n          case 11:\n            throw new Error('Shader loaded error.');\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _fetchShader.apply(this, arguments);\n}\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"attribute vec3 a_vertexPosition;\\nvoid main() {\\n\\tgl_PointSize = 1.0;\\n\\tgl_Position = vec4(a_vertexPosition, 1);\\n}\\n\"\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"#ifdef GL_ES\\nprecision mediump float;\\n#endif\\nvoid main() {\\n\\tgl_FragColor = vec4(0.0, 0.0, 0.0, 0.1);\\n}\\n\"\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"attribute vec4 a_vertexPosition;\\nattribute vec2 a_vertexTextureCoord;\\nvarying vec2 vTextureCoord;\\nvoid main() {\\n\\tgl_PointSize = 1.0;\\n\\tgl_Position = a_vertexPosition;\\n\\tvTextureCoord = a_vertexTextureCoord;\\n}\\n\"\n\n/***/ })\n/******/ ])[\"default\"];\n});","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","module.exports = require(\"regenerator-runtime\");\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function sizeToPixel(value, defaultWidth) { // eslint-disable-line complexity\n  if(typeof value === 'string') {\n    const matched = value.trim().match(/^([\\d.]+)(px|pt|pc|in|cm|mm|em|ex|rem|q|vw|vh|vmax|vmin|%)$/);\n    if(matched) {\n      value = {size: parseFloat(matched[1]), unit: matched[2]};\n    } else {\n      value = {size: parseInt(value, 10), unit: 'px'};\n    }\n  }\n\n  let {size, unit} = value;\n  if(unit === 'pt') {\n    size /= 0.75;\n  } else if(unit === 'pc') {\n    size *= 16;\n  } else if(unit === 'in') {\n    size *= 96;\n  } else if(unit === 'cm') {\n    size *= 96.0 / 2.54;\n  } else if(unit === 'mm') {\n    size *= 96.0 / 25.4;\n  } else if(unit === 'em' || unit === 'rem' || unit === 'ex') {\n    if(!defaultWidth && typeof getComputedStyle === 'function' && typeof document !== 'undefined') {\n      const root = getComputedStyle(document.documentElement).fontSize;\n      defaultWidth = sizeToPixel(root, 16);\n    }\n    size *= defaultWidth;\n    if(unit === 'ex') size /= 2;\n  } else if(unit === 'q') {\n    size *= 96.0 / 25.4 / 4;\n  } else if(unit === 'vw' || unit === 'vh') {\n    if(typeof document !== 'undefined') {\n      const val = unit === 'vw' ? document.documentElement.clientWidth\n        : document.documentElement.clientHeight;\n      size *= val / 100;\n    }\n  } else if(unit === 'vmax' || unit === 'vmin') {\n    if(typeof document !== 'undefined') {\n      const width = document.documentElement.clientWidth;\n      const height = document.documentElement.clientHeight;\n      if(unit === 'vmax') {\n        size *= Math.max(width, height) / 100;\n      } else {\n        size *= Math.min(width, height) / 100;\n      }\n    }\n  }\n\n  return size;\n}\n\n\n// borrow from node-canvas (https://github.com/Automattic/node-canvas)\n\n/**\n * Font RegExp helpers.\n */\n\nconst weights = 'bold|bolder|lighter|[1-9]00',\n  styles = 'italic|oblique',\n  variants = 'small-caps',\n  stretches = 'ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded',\n  units = 'px|pt|pc|in|cm|mm|em|ex|rem|q|vw|vh|vmax|vmin|%',\n  string = '\\'([^\\']+)\\'|\"([^\"]+)\"|([\\\\w-]|[\\u4e00-\\u9fa5])+';\n\n// [ [ <font-style> || <font-variant-css21> || <font-weight> || <font-stretch> ]?\n//    <font-size> [ / <line-height> ]? <font-family> ]\n// https://drafts.csswg.org/css-fonts-3/#font-prop\nconst weightRe = new RegExp(`(${weights}) +`, 'i');\nconst styleRe = new RegExp(`(${styles}) +`, 'i');\nconst variantRe = new RegExp(`(${variants}) +`, 'i');\nconst stretchRe = new RegExp(`(${stretches}) +`, 'i');\n\n/* eslint-disable prefer-template */\nconst sizeFamilyRe = new RegExp(\n  '([\\\\d\\\\.]+)(' + units + ')(?:\\\\/([\\\\d\\\\.]+)(' + units + '))? *'\n  + '((?:' + string + ')( *, *(?:' + string + '))*)'\n);\n/* eslint-enable prefer-template */\n\n/**\n * Parse font `str`.\n *\n * @param {String} str\n * @return {Object} Parsed font. `size` is in device units. `unit` is the unit\n *   appearing in the input string.\n * @api private\n */\n\nexport default function parseFont(str, defaultHeight) {\n  // Try for required properties first.\n  const sizeFamily = sizeFamilyRe.exec(str);\n\n  if(!sizeFamily) return; // invalid\n\n  const lineHeight = parseFloat(sizeFamily[3]);\n\n  // Default values and required properties\n  const font = {\n    weight: 'normal',\n    style: 'normal',\n    stretch: 'normal',\n    variant: 'normal',\n    size: parseFloat(sizeFamily[1]),\n    unit: sizeFamily[2],\n    lineHeight: Number.isFinite(lineHeight) ? lineHeight : undefined,\n    lineHeightUnit: sizeFamily[4],\n    family: sizeFamily[5].replace(/ *, */g, ','),\n  };\n\n  // Stop search at `sizeFamily.index`\n  const substr = str.substring(0, sizeFamily.index);\n\n  // Optional, unordered properties.\n  const weight = weightRe.exec(substr),\n    style = styleRe.exec(substr),\n    variant = variantRe.exec(substr),\n    stretch = stretchRe.exec(substr);\n\n  if(weight) font.weight = weight[1];\n  if(style) font.style = style[1];\n  if(variant) font.variant = variant[1];\n  if(stretch) font.stretch = stretch[1];\n\n  font.pxHeight = sizeToPixel({size: font.size, unit: font.unit}, defaultHeight);\n  font.pxLineHeight = sizeToPixel({size: font.lineHeight || font.size, unit: font.lineHeightUnit || font.unit}, defaultHeight);\n\n  return font;\n}\n","export default function vectorToRGBA(vector) {\n  return `rgba(${vector.map((c, i) => {\n    if(i < 3) return Math.round(c * 255);\n    return c;\n  }).join()})`;\n}\n","import GlRenderer from 'gl-renderer';\nimport parseFont from './parse-font';\nimport vectorToRGBA from './vector-to-rgba';\n\nconst cacheMap = {};\n\nfunction fontEx(info, ratio) {\n  const {style, variant, weight, stretch, size, pxLineHeight, family} = info;\n  if(stretch === 'normal') {\n    // fix iOS10 bug\n    return `${style} ${variant} ${weight} ${size * ratio}px/${pxLineHeight * ratio}px ${family}`;\n  }\n  return `${style} ${variant} ${weight} ${stretch} ${size * ratio}px/${pxLineHeight * ratio}px ${family}`;\n}\n\nfunction createText(text, {font, fillColor, strokeColor, strokeWidth, ratio = 1, textCanvas, cachable = false}) {\n  let key;\n  if(cachable) {\n    key = [text, font, String(fillColor), String(strokeColor), String(strokeWidth)].join('###');\n    const cachedCanvas = cacheMap[key];\n    if(cachedCanvas) return cachedCanvas;\n  }\n\n  if(!textCanvas) {\n    textCanvas = createCanvas(1, 1);\n  }\n\n  const textContext = textCanvas.getContext('2d');\n  textContext.save();\n  textContext.font = font;\n  let {width} = textContext.measureText(text);\n  textContext.restore();\n\n  const fontInfo = parseFont(font);\n  const height = Math.max(fontInfo.pxLineHeight, fontInfo.pxHeight * 1.13);\n  if(/italic|oblique/.test(font)) {\n    width += height * Math.tan(15 * Math.PI / 180);\n  }\n\n  if(!fillColor && !strokeColor) fillColor = '#000';\n\n  const canvas = textContext.canvas;\n  const w = Math.ceil(width);\n  const h = Math.ceil(height);\n\n  canvas.width = Math.round(w * ratio);\n  canvas.height = Math.round(h * ratio);\n\n  textContext.save();\n  textContext.font = fontEx(fontInfo, ratio);\n  textContext.textAlign = 'center';\n  textContext.textBaseline = 'middle';\n\n  const top = canvas.height * 0.5 + fontInfo.pxHeight * 0.05 * ratio;\n  const left = canvas.width * 0.5;\n\n  if(fillColor) {\n    if(Array.isArray(fillColor)) fillColor = vectorToRGBA(fillColor);\n    else if(fillColor.vector) {\n      let gradient;\n      const {vector, colors} = fillColor;\n      if(vector.length === 6) {\n        gradient = textContext.createRadialGradient(...vector);\n      } else {\n        gradient = textContext.createLinearGradient(...vector);\n      }\n      colors.forEach(({offset, color}) => {\n        gradient.addColorStop(offset, color);\n      });\n      fillColor = gradient;\n    }\n    textContext.fillStyle = fillColor;\n    textContext.fillText(text, left, top);\n  }\n  if(strokeColor) {\n    textContext.lineWidth = strokeWidth * ratio;\n    if(Array.isArray(strokeColor)) strokeColor = vectorToRGBA(strokeColor);\n    else if(strokeColor.vector) {\n      let gradient;\n      const {vector, colors} = strokeColor;\n      if(vector.length === 6) {\n        gradient = textContext.createRadialGradient(...vector);\n      } else {\n        gradient = textContext.createLinearGradient(...vector);\n      }\n      colors.forEach(({offset, color}) => {\n        gradient.addColorStop(offset, color);\n      });\n      strokeColor = gradient;\n    }\n    textContext.strokeStyle = strokeColor;\n    textContext.strokeText(text, left, top);\n  }\n  textContext.restore();\n\n  const ret = {image: textCanvas, rect: [0, 0, w, h]};\n\n  if(cachable) {\n    cacheMap[key] = ret;\n  }\n  return ret;\n}\n\n// Fixed: use offscreen canvas as texture will fail in early chrome.\nlet isEarlyChrome = false;\nif(typeof navigator === 'object' && typeof navigator.userAgent === 'string') {\n  const matched = navigator.userAgent.toLowerCase().match(/chrome\\/(\\d+)/);\n  if(matched) {\n    isEarlyChrome = Number(matched[1]) < 70;\n  }\n}\n\nfunction createCanvas(width, height, options = {}) {\n  const offscreen = options.offscreen || !isEarlyChrome && options.offscreen !== false;\n  let canvas;\n  if(typeof global.createCanvas === 'function') {\n    canvas = global.createCanvas(width, height, options);\n  } else if(offscreen && typeof OffscreenCanvas === 'function') {\n    canvas = new OffscreenCanvas(width, height);\n  } else {\n    canvas = document.createElement('canvas');\n    canvas.width = width;\n    canvas.height = height;\n  }\n  return canvas;\n}\n\nconst ENV = {\n  createCanvas,\n  createText,\n  loadImage: GlRenderer.loadImage,\n};\n\nexport default ENV;","export function clamp(value, min, max) {\n  if(min > max) [min, max] = [max, min];\n  if(value < min) return min;\n  if(value > max) return max;\n  return value;\n}\n\nexport function mix(src, dest, p) {\n  return src * (1 - p) + dest * p;\n}\n\nexport function transformPoint(p, m) {\n  const [x, y] = p;\n  return [x * m[0] + y * m[2] + m[4], x * m[1] + y * m[3] + m[5]];\n}","import {vec2} from 'gl-matrix';\nimport vectorToRGBA from './vector-to-rgba';\nimport parseFont from './parse-font';\nimport {mix} from './math';\n\nexport function applyFilter(context, filter) {\n  const canvas = context.canvas;\n  context.save();\n  context.filter = filter;\n  context.drawImage(canvas, 0, 0, canvas.width, canvas.height);\n  context.restore();\n}\n\nfunction mixRGBA(a, b) {\n  const pattern = /rgba\\((\\d+),(\\d+),(\\d+),(\\d+)\\)/;\n  a = a.match(pattern).slice(1, 5).map(Number);\n  b = b.match(pattern).slice(1, 5).map(Number);\n  const c = [];\n  const alpha = b[3];\n  for(let i = 0; i < 4; i++) {\n    c[i] = mix(a[i], b[i], alpha);\n  }\n  return `rgba(${c.join()})`;\n}\n\nexport function drawMesh2D(mesh, context, enableFilter = true, cloudFill = null,\n  cloudStroke = null, cloudFrame = null, cloudTransform = null) {\n  context.save();\n  let stroke = false;\n  let fill = false;\n\n  context.globalAlpha = mesh.getOpacity();\n  if(mesh._updateMatrix) {\n    const acc = mesh.transformScale / mesh.contours.scale;\n    if(acc > 1.5) {\n      mesh.accurate(mesh.transformScale);\n    }\n  }\n  if(mesh.lineWidth) {\n    let gradient = mesh.gradient && mesh.gradient.stroke;\n    if(gradient) {\n      const {vector, colors} = gradient;\n      if(vector.length === 6) {\n        gradient = context.createRadialGradient(...vector);\n      } else if(vector.length === 4) {\n        gradient = context.createLinearGradient(...vector);\n      } else if(vector.length === 3) {\n        gradient = context.createCircularGradient(...vector);\n      } else {\n        throw new TypeError('Invalid vector dimension.');\n      }\n      colors.forEach(({offset, color}) => {\n        let rgba = vectorToRGBA(color);\n        if(cloudStroke) rgba = mixRGBA(rgba, cloudStroke);\n        gradient.addColorStop(offset, rgba);\n      });\n      context.strokeStyle = gradient;\n      stroke = true;\n    } else if(mesh.strokeStyle) {\n      if(cloudStroke) {\n        context.strokeStyle = mixRGBA(mesh.strokeStyle, cloudStroke);\n      } else {\n        context.strokeStyle = mesh.strokeStyle;\n      }\n      stroke = true;\n    }\n  }\n  if(stroke) {\n    context.lineWidth = mesh.lineWidth;\n    context.lineJoin = mesh.lineJoin;\n    context.lineCap = mesh.lineCap;\n    context.miterLimit = mesh.miterLimit;\n    if(mesh.lineDash) {\n      context.setLineDash(mesh.lineDash);\n      if(mesh.lineDashOffset) {\n        context.lineDashOffset = mesh.lineDashOffset;\n      }\n    }\n  }\n\n  let gradient = mesh.gradient && mesh.gradient.fill;\n  if(gradient) {\n    const {vector, colors} = gradient;\n    if(vector.length === 6) {\n      gradient = context.createRadialGradient(...vector);\n    } else if(vector.length === 4) {\n      gradient = context.createLinearGradient(...vector);\n    } else if(vector.length === 3) {\n      gradient = context.createCircularGradient(...vector);\n    } else {\n      throw new TypeError('Invalid vector dimension.');\n    }\n    colors.forEach(({offset, color}) => {\n      let rgba = vectorToRGBA(color);\n      if(cloudStroke) rgba = mixRGBA(rgba, cloudStroke);\n      gradient.addColorStop(offset, rgba);\n    });\n    context.fillStyle = gradient;\n    fill = true;\n  } else if(mesh.fillStyle) {\n    if(cloudFill) {\n      context.fillStyle = mixRGBA(mesh.fillStyle, cloudFill);\n    } else {\n      context.fillStyle = mesh.fillStyle;\n    }\n    fill = true;\n  }\n  // if(enableFilter) {\n  //   const filter = mesh.filter;\n  //   if(filter) {\n  //     context.filter = filter;\n  //   }\n  // }\n  if(cloudTransform) {\n    context.transform(...cloudTransform);\n  }\n  context.transform(...mesh.transformMatrix);\n  if(mesh.clipPath) {\n    const clipPath = mesh.clipPath;\n    const path = new Path2D(clipPath);\n    context.clip(path);\n  }\n  const count = mesh.contours.length;\n  mesh.contours.forEach((points, i) => { // eslint-disable-line complexity\n    const len = points.length;\n    const closed = len > 1 && vec2.equals(points[0], points[len - 1]);\n    const drawTexture = i === count - 1 && mesh.texture;\n    if(points && len > 0) {\n      if(fill || stroke || drawTexture) {\n        context.beginPath();\n        context.moveTo(...points[0]);\n        for(let i = 1; i < len; i++) {\n          if(i === len - 1 && closed) {\n            context.closePath();\n          } else {\n            context.lineTo(...points[i]);\n          }\n        }\n      }\n      if(fill) {\n        context.fill(mesh.fillRule);\n      }\n\n      if(drawTexture) {\n        context.save();\n        context.clip();\n        let {image, options} = mesh.texture;\n        if(cloudFrame) image = cloudFrame;\n        if(options.repeat) console.warn('Context 2D not supported image repeat yet.');\n        if(image.font) {\n          if(options.scale) console.warn('Context 2D not supported text scale yet.');\n          if(options.srcRect) console.warn('Context 2D not supported text srcRect yet.');\n          let {font, fillColor, strokeColor, strokeWidth, text} = image;\n          if(!fillColor && !strokeColor) fillColor = '#000';\n          if(Array.isArray(fillColor)) fillColor = vectorToRGBA(fillColor);\n          if(Array.isArray(strokeColor)) strokeColor = vectorToRGBA(strokeColor);\n          context.font = font;\n          const {width} = context.measureText(text);\n          const fontInfo = parseFont(font);\n          const height = Math.max(fontInfo.pxLineHeight, fontInfo.pxHeight * 1.13);\n          context.textAlign = 'center';\n          context.textBaseline = 'middle';\n          // text ignore rect scale\n          const rect = options.rect;\n          const top = rect[0] + height * 0.5 + fontInfo.pxHeight * 0.06;\n          const left = rect[1] + width * 0.5;\n          if(rect[2] != null) {\n            context.scale(rect[2] / width, rect[3] / height);\n          }\n          if(fillColor) {\n            context.fillStyle = fillColor;\n            context.fillText(text, left, top);\n          }\n          if(strokeColor) {\n            context.lineWidth = strokeWidth;\n            context.strokeStyle = strokeColor;\n            context.strokeText(text, left, top);\n          }\n        } else {\n          let rect = options.rect;\n          const srcRect = options.srcRect;\n          if(options.scale) {\n            rect = [0, 0, context.canvas.width, context.canvas.height];\n          }\n          if(options.rotated && rect) {\n            rect = [-rect[1], rect[0], rect[3], rect[2]];\n          }\n          if(srcRect) {\n            rect = rect || [0, 0, srcRect[2], srcRect[3]];\n          }\n          if(options.rotated) {\n            context.translate(0, rect ? rect[2] : image.width);\n            context.rotate(-0.5 * Math.PI);\n          }\n          if(srcRect) {\n            context.drawImage(image, ...srcRect, ...rect);\n          } else if(rect) {\n            context.drawImage(image, ...rect);\n          } else {\n            context.drawImage(image, 0, 0);\n          }\n        }\n        context.restore();\n      }\n\n      if(stroke) {\n        context.stroke();\n      }\n    }\n  });\n  context.restore();\n\n  if(enableFilter) {\n    const filter = mesh.filter;\n    if(filter) {\n      applyFilter(context, filter);\n    }\n  }\n}","import ENV from './utils/env';\nimport {drawMesh2D, applyFilter} from './utils/canvas';\n\nconst _transform = Symbol('transform');\n\nexport default class CanvasRenderer {\n  constructor(canvas, options) {\n    this.context = canvas.getContext('2d');\n    this.options = options;\n    this[_transform] = [1, 0, 0, 1, 0, 0];\n  }\n\n  createTexture(img) {\n    const texture = {_img: img};\n    return texture;\n  }\n\n  async loadTexture(textureURL) {\n    const image = await ENV.loadImage(textureURL, {useImageBitmap: false});\n    return this.createTexture(image);\n  }\n\n  deleteTexture(texture) {\n    return texture;\n  }\n\n  clear(x, y, w, h) {\n    const context = this.context;\n    x = x || 0;\n    y = y || 0;\n    w = w || context.canvas.width - x;\n    h = h || context.canvas.height - y;\n    context.clearRect(x, y, w, h);\n  }\n\n  drawMeshCloud(cloud, {clear = false} = {}) {\n    const cloudMeshes = [];\n    for(let i = 0; i < cloud.amount; i++) {\n      const transform = cloud.getTransform(i);\n      let frame = cloud.getTextureFrame(i);\n      if(frame) frame = frame._img;\n      const filter = cloud.getFilter(i);\n      const {fill, stroke} = cloud.getCloudRGBA(i);\n      cloudMeshes.push({\n        mesh: cloud.mesh,\n        _cloudOptions: [fill, stroke, frame, transform, filter],\n      });\n      // console.log(transform, colorTransform, frame);\n    }\n    if(cloud.beforeRender) cloud.beforeRender(this.context, cloud);\n    this.drawMeshes(cloudMeshes, {clear, hook: false});\n    if(cloud.afterRender) cloud.afterRender(this.context, cloud);\n  }\n\n  drawMeshes(meshes, {clear = false, hook = true} = {}) {\n    const context = this.context;\n    if(clear) {\n      context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n    }\n    let lastFilter = null;\n    const {width, height} = context.canvas;\n    const len = meshes.length;\n\n    meshes.forEach((mesh, i) => {\n      let fill,\n        stroke,\n        frame,\n        transform,\n        cloudFilter;\n\n      if(hook && mesh.beforeRender) mesh.beforeRender(context, mesh);\n      if(mesh._cloudOptions) {\n        [fill, stroke, frame, transform, cloudFilter] = mesh._cloudOptions;\n        mesh = mesh.mesh;\n      }\n      let filter = mesh.filter;\n      if(cloudFilter) filter = filter ? `${filter} ${cloudFilter}` : cloudFilter;\n\n      if(filter && !this.filterBuffer && this.filterBuffer !== false) {\n        const canvas = ENV.createCanvas(width, height);\n        if(canvas) {\n          this.filterBuffer = canvas.getContext('2d');\n        } else {\n          this.filterBuffer = false;\n        }\n      }\n\n      if(lastFilter && lastFilter !== filter) {\n        applyFilter(this.filterBuffer, lastFilter);\n        context.drawImage(this.filterBuffer.canvas, 0, 0, width, height);\n        this.filterBuffer.clearRect(0, 0, width, height);\n        lastFilter = null;\n      }\n      if(filter && this.filterBuffer) {\n        this.filterBuffer.save();\n        this.filterBuffer.transform(...this[_transform]);\n        // console.log(this[_transform]);\n        drawMesh2D(mesh, this.filterBuffer, false, fill, stroke, frame, transform);\n        this.filterBuffer.restore();\n        if(i === len - 1) {\n          applyFilter(this.filterBuffer, filter);\n          context.drawImage(this.filterBuffer.canvas, 0, 0, width, height);\n          this.filterBuffer.clearRect(0, 0, width, height);\n        } else {\n          lastFilter = filter;\n        }\n      } else {\n        context.save();\n        context.transform(...this[_transform]);\n        drawMesh2D(mesh, context, false, fill, stroke, frame, transform);\n        context.restore();\n      }\n      if(hook && mesh.afterRender) mesh.afterRender(context, mesh);\n    });\n  }\n\n  setTransform(transform) {\n    this[_transform] = transform;\n  }\n}\n","const typeMap = {\n  UNSIGNED_BYTE: Uint8Array,\n  UNSIGNED_SHORT: Uint16Array,\n  BYTE: Int8Array,\n  SHORT: Int16Array,\n  FLOAT: Float32Array,\n};\n\nfunction allocateBuffer(meshes, bufferCache) { // eslint-disable-line complexity\n  let positionsCount = 0;\n  let cellsCount = 0;\n  let textureCoordCount = 0;\n  let sourceRectCount = 0;\n  let clipUVCount = 0;\n  let colorCount = 0;\n  let count = 0;\n  const program = meshes[0].program;\n  for(let i = 0; i < meshes.length; i++) {\n    const mesh = meshes[i].meshData;\n    if(mesh) {\n      count += mesh.positions.length;\n      const dimension = mesh.positions[0].length;\n      positionsCount += mesh.positions.length * dimension;\n      cellsCount += mesh.cells.length * 3;\n      colorCount += mesh.attributes.a_color.length * 4;\n      const _textureCoord = mesh.textureCoord;\n      if(_textureCoord) {\n        textureCoordCount += _textureCoord.length * _textureCoord[0].length;\n      }\n      const _sourceRect = mesh.attributes.a_sourceRect;\n      if(_sourceRect) {\n        sourceRectCount += _sourceRect.length * 4;\n      }\n      const _clipUV = mesh.attributes.a_clipUV;\n      if(_clipUV) {\n        clipUVCount += _clipUV.length * 2;\n      }\n    }\n  }\n  if(!bufferCache.positions || bufferCache.positions.length < positionsCount) {\n    bufferCache.positions = new Float32Array(positionsCount);\n  }\n  if(!bufferCache.cells || bufferCache.cells.length < cellsCount) {\n    bufferCache.cells = new Uint16Array(cellsCount);\n  }\n  if(textureCoordCount) {\n    if(!bufferCache.textureCoord || bufferCache.textureCoord.length < textureCoordCount) {\n      bufferCache.textureCoord = new Float32Array(textureCoordCount);\n    }\n  }\n  if(!bufferCache.a_color || bufferCache.a_color.length < colorCount) {\n    bufferCache.a_color = new Uint8Array(colorCount);\n  }\n  if(sourceRectCount) {\n    if(!bufferCache.a_sourceRect || bufferCache.a_sourceRect.length < sourceRectCount) {\n      bufferCache.a_sourceRect = new Float32Array(sourceRectCount);\n    }\n  }\n  if(clipUVCount) {\n    if(!bufferCache.a_clipUV || bufferCache.a_clipUV.length < clipUVCount) {\n      bufferCache.a_clipUV = new Float32Array(clipUVCount);\n    }\n  }\n  if(program) {\n    const attribs = Object.entries(program._attribute);\n    const meta = program._attribOpts || {};\n    for(let i = 0; i < attribs.length; i++) {\n      const [key, opts] = attribs[i];\n      if(key !== 'a_color' && key !== 'a_sourceRect' && opts !== 'ignored') {\n        const type = meta[key] ? meta[key].type : 'FLOAT';\n        const TypeArray = typeMap[type];\n        const attribCount = opts.size * count;\n        if(!bufferCache[key] || bufferCache[key].length < attribCount) {\n          bufferCache[key] = new TypeArray(attribCount);\n        }\n      }\n    }\n  }\n  return bufferCache;\n}\n\nexport default function flattenMeshes(meshes, bufferCache) { // eslint-disable-line complexity\n  let positions = [];\n  let cells = [];\n  let textureCoord = [];\n  let a_color = [];\n  let a_sourceRect = []; // sourceRect no buffer;\n  let a_clipUV = []; // uv no buffer\n\n  let idx = 0;\n  let cidx = 0;\n\n  const uniforms = meshes[0] ? meshes[0].uniforms || {} : {};\n  const program = meshes[0] ? meshes[0].program : null;\n\n  if(bufferCache) {\n    allocateBuffer(meshes, bufferCache);\n    cells = bufferCache.cells;\n    positions = bufferCache.positions;\n    textureCoord = bufferCache.textureCoord;\n    a_color = bufferCache.a_color;\n    a_sourceRect = bufferCache.a_sourceRect;\n    a_clipUV = bufferCache.a_clipUV;\n  }\n\n  let hasSourceRect = false;\n  let hasClipPath = false;\n\n  const attributes = {};\n  for(let i = 0; i < meshes.length; i++) {\n    let mesh = meshes[i];\n    if(mesh) {\n      if(mesh.meshData) mesh = mesh.meshData;\n      if(bufferCache) {\n        const _positions = mesh.positions;\n        for(let j = 0; j < _positions.length; j++) {\n          const p = _positions[j];\n          const o = 3 * (idx + j);\n          for(let k = 0; k < p.length; k++) {\n            positions[o + k] = p[k];\n          }\n        }\n      } else {\n        positions.push(...mesh.positions);\n      }\n      const _cells = mesh.cells;\n      for(let j = 0; j < _cells.length; j++) {\n        const cell = _cells[j];\n        if(bufferCache) {\n          const o = 3 * (cidx + j);\n          cells[o] = cell[0] + idx;\n          cells[o + 1] = cell[1] + idx;\n          cells[o + 2] = cell[2] + idx;\n        } else {\n          cells.push([cell[0] + idx, cell[1] + idx, cell[2] + idx]);\n        }\n      }\n      // cells.push(...mesh.cells.map(cell => cell.map(c => c + idx)));\n      if(bufferCache) {\n        const _colors = mesh.attributes.a_color;\n        for(let j = 0; j < _colors.length; j++) {\n          const c = _colors[j];\n          const o = 4 * (idx + j);\n          a_color[o] = c[0];\n          a_color[o + 1] = c[1];\n          a_color[o + 2] = c[2];\n          a_color[o + 3] = c[3];\n        }\n      } else {\n        a_color.push(...mesh.attributes.a_color);\n      }\n      if(mesh.attributes.a_sourceRect) {\n        hasSourceRect = true;\n        if(bufferCache) {\n          const _sourceRect = mesh.attributes.a_sourceRect;\n          for(let j = 0; j < _sourceRect.length; j++) {\n            const s = _sourceRect[j];\n            const o = 4 * (idx + j);\n            a_sourceRect[o] = s[0];\n            a_sourceRect[o + 1] = s[1];\n            a_sourceRect[o + 2] = s[2];\n            a_sourceRect[o + 3] = s[3];\n          }\n        } else {\n          a_sourceRect.push(...mesh.attributes.a_sourceRect);\n        }\n      }\n      if(mesh.attributes.a_clipUV) {\n        hasClipPath = true;\n        if(bufferCache) {\n          const _clipUV = mesh.attributes.a_clipUV;\n          for(let j = 0; j < _clipUV.length; j++) {\n            const s = _clipUV[j];\n            const o = 2 * (idx + j);\n            a_clipUV[o] = s[0];\n            a_clipUV[o + 1] = s[1];\n          }\n        } else {\n          a_clipUV.push(...mesh.attributes.a_clipUV);\n        }\n      }\n      if(mesh.textureCoord) {\n        if(bufferCache) {\n          const _textureCoord = mesh.textureCoord;\n          for(let j = 0; j < _textureCoord.length; j++) {\n            const t = _textureCoord[j];\n            const o = 3 * (idx + j);\n            for(let k = 0; k < t.length; k++) {\n              textureCoord[o + k] = t[k];\n            }\n          }\n        } else {\n          textureCoord.push(...mesh.textureCoord);\n        }\n      }\n\n      if(program) {\n        const attribs = Object.entries(program._attribute);\n        for(let j = 0; j < attribs.length; j++) {\n          const [name, opts] = attribs[j];\n          if(name !== 'a_color' && name !== 'a_sourceRect' && opts !== 'ignored') {\n            attributes[name] = [];\n            if(bufferCache) {\n              attributes[name] = bufferCache[name];\n              const _attr = mesh.attributes[name];\n              const size = _attr[0].length;\n              for(let k = 0; k < _attr.length; k++) {\n                const t = _attr[k];\n                const o = size * (idx + k);\n                for(let w = 0; w < t.length; w++) {\n                  attributes[name][o + w] = t[w];\n                }\n              }\n            } else {\n              attributes[name].push(...mesh.attributes[name]);\n            }\n          }\n        }\n      }\n\n      idx += mesh.positions.length;\n      cidx += mesh.cells.length;\n    }\n  }\n\n  attributes.a_color = a_color;\n  if(hasSourceRect && a_sourceRect && a_sourceRect.length > 0) attributes.a_sourceRect = a_sourceRect;\n  const ret = {positions, cells, attributes, uniforms, cellsCount: cidx * 3, program};\n\n  if(textureCoord && textureCoord.length) {\n    ret.textureCoord = textureCoord;\n  }\n\n  if(hasClipPath && a_clipUV.length > 0) attributes.a_clipUV = a_clipUV;\n\n  return ret;\n}\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import {clamp} from './math';\n\nexport function multiply(a, b) {\n  const out = [];\n  const a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3], a04 = a[4]; // eslint-disable-line one-var-declaration-per-line\n  const a10 = a[5], a11 = a[6], a12 = a[7], a13 = a[8], a14 = a[9]; // eslint-disable-line one-var-declaration-per-line\n  const a20 = a[10], a21 = a[11], a22 = a[12], a23 = a[13], a24 = a[14]; // eslint-disable-line one-var-declaration-per-line\n  const a30 = a[15], a31 = a[16], a32 = a[17], a33 = a[18], a34 = a[19]; // eslint-disable-line one-var-declaration-per-line\n\n  // Cache only the current line of the second matrix\n  let b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3], b4 = b[4]; // eslint-disable-line one-var-declaration-per-line\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  out[4] = b0 * a04 + b1 * a14 + b2 * a24 + b3 * a34 + b4;\n\n  b0 = b[5]; b1 = b[6]; b2 = b[7]; b3 = b[8]; b4 = b[9];\n  out[5] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[6] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[7] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[8] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  out[9] = b0 * a04 + b1 * a14 + b2 * a24 + b3 * a34 + b4;\n\n  b0 = b[10]; b1 = b[11]; b2 = b[12]; b3 = b[13]; b4 = b[14];\n  out[10] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[11] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[12] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[13] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  out[14] = b0 * a04 + b1 * a14 + b2 * a24 + b3 * a34 + b4;\n\n  b0 = b[15]; b1 = b[16]; b2 = b[17]; b3 = b[18]; b4 = b[19];\n  out[15] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[16] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[17] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[18] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  out[19] = b0 * a04 + b1 * a14 + b2 * a24 + b3 * a34 + b4;\n\n  return out;\n}\n\n// export function transformColor(color, m) {\n//   const [r, g, b, a] = color;\n\n//   color[0] = m[0] * r + m[1] * g + m[2] * b + m[3] * a + m[4];\n//   color[1] = m[5] * r + m[6] * g + m[7] * b + m[8] * a + m[9];\n//   color[2] = m[10] * r + m[11] * g + m[12] * b + m[13] * a + m[14];\n//   color[3] = m[15] * r + m[16] * g + m[17] * b + m[18] * a + m[19];\n\n//   return color;\n// }\n\nexport function grayscale(p) {\n  p = clamp(0, 1, p);\n  const r = 0.2126 * p;\n  const g = 0.7152 * p;\n  const b = 0.0722 * p;\n\n  return [\n    r + 1 - p, g, b, 0, 0,\n    r, g + 1 - p, b, 0, 0,\n    r, g, b + 1 - p, 0, 0,\n    0, 0, 0, 1, 0,\n  ];\n}\n\nexport function brightness(p) {\n  return [\n    p, 0, 0, 0, 0,\n    0, p, 0, 0, 0,\n    0, 0, p, 0, 0,\n    0, 0, 0, 1, 0,\n  ];\n}\n\nexport function saturate(p) {\n  // p = clamp(0, 1, p);\n  const r = 0.2126 * (1 - p);\n  const g = 0.7152 * (1 - p);\n  const b = 0.0722 * (1 - p);\n  return [\n    r + p, g, b, 0, 0,\n    r, g + p, b, 0, 0,\n    r, g, b + p, 0, 0,\n    0, 0, 0, 1, 0,\n  ];\n}\n\nexport function contrast(p) {\n  const d = 0.5 * (1 - p);\n  return [\n    p, 0, 0, 0, d,\n    0, p, 0, 0, d,\n    0, 0, p, 0, d,\n    0, 0, 0, 1, 0,\n  ];\n}\n\nexport function invert(p) {\n  const d = 1 - 2 * p;\n  return [\n    d, 0, 0, 0, p,\n    0, d, 0, 0, p,\n    0, 0, d, 0, p,\n    0, 0, 0, 1, 0,\n  ];\n}\n\nexport function sepia(p) {\n  return [\n    1 - 0.607 * p, 0.769 * p, 0.189 * p, 0, 0,\n    0.349 * p, 1 - 0.314 * p, 0.168 * p, 0, 0,\n    0.272 * p, 0.534 * p, 1 - 0.869 * p, 0, 0,\n    0, 0, 0, 1, 0,\n  ];\n}\n\nexport function opacity(p) {\n  return [\n    1, 0, 0, 0, 0,\n    0, 1, 0, 0, 0,\n    0, 0, 1, 0, 0,\n    0, 0, 0, p, 0,\n  ];\n}\n\nexport function hueRotate(deg) {\n  const rotation = deg / 180 * Math.PI;\n  const cos = Math.cos(rotation),\n    sin = Math.sin(rotation),\n    lumR = 0.2126,\n    lumG = 0.7152,\n    lumB = 0.0722;\n  return [\n    lumR + cos * (1 - lumR) + sin * (-lumR), lumG + cos * (-lumG) + sin * (-lumG), lumB + cos * (-lumB) + sin * (1 - lumB), 0, 0,\n    lumR + cos * (-lumR) + sin * (0.143), lumG + cos * (1 - lumG) + sin * (0.140), lumB + cos * (-lumB) + sin * (-0.283), 0, 0,\n    lumR + cos * (-lumR) + sin * (-(1 - lumR)), lumG + cos * (-lumG) + sin * (lumG), lumB + cos * (1 - lumB) + sin * (lumB), 0, 0,\n    0, 0, 0, 1, 0,\n  ];\n}","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","/**\r\n * @module color-parse\r\n */\r\n\r\n'use strict'\r\n\r\nvar names = require('color-name')\r\n\r\nmodule.exports = parse\r\n\r\n/**\r\n * Base hues\r\n * http://dev.w3.org/csswg/css-color/#typedef-named-hue\r\n */\r\n//FIXME: use external hue detector\r\nvar baseHues = {\r\n\tred: 0,\r\n\torange: 60,\r\n\tyellow: 120,\r\n\tgreen: 180,\r\n\tblue: 240,\r\n\tpurple: 300\r\n}\r\n\r\n/**\r\n * Parse color from the string passed\r\n *\r\n * @return {Object} A space indicator `space`, an array `values` and `alpha`\r\n */\r\nfunction parse (cstr) {\r\n\tvar m, parts = [], alpha = 1, space\r\n\r\n\tif (typeof cstr === 'string') {\r\n\t\t//keyword\r\n\t\tif (names[cstr]) {\r\n\t\t\tparts = names[cstr].slice()\r\n\t\t\tspace = 'rgb'\r\n\t\t}\r\n\r\n\t\t//reserved words\r\n\t\telse if (cstr === 'transparent') {\r\n\t\t\talpha = 0\r\n\t\t\tspace = 'rgb'\r\n\t\t\tparts = [0,0,0]\r\n\t\t}\r\n\r\n\t\t//hex\r\n\t\telse if (/^#[A-Fa-f0-9]+$/.test(cstr)) {\r\n\t\t\tvar base = cstr.slice(1)\r\n\t\t\tvar size = base.length\r\n\t\t\tvar isShort = size <= 4\r\n\t\t\talpha = 1\r\n\r\n\t\t\tif (isShort) {\r\n\t\t\t\tparts = [\r\n\t\t\t\t\tparseInt(base[0] + base[0], 16),\r\n\t\t\t\t\tparseInt(base[1] + base[1], 16),\r\n\t\t\t\t\tparseInt(base[2] + base[2], 16)\r\n\t\t\t\t]\r\n\t\t\t\tif (size === 4) {\r\n\t\t\t\t\talpha = parseInt(base[3] + base[3], 16) / 255\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tparts = [\r\n\t\t\t\t\tparseInt(base[0] + base[1], 16),\r\n\t\t\t\t\tparseInt(base[2] + base[3], 16),\r\n\t\t\t\t\tparseInt(base[4] + base[5], 16)\r\n\t\t\t\t]\r\n\t\t\t\tif (size === 8) {\r\n\t\t\t\t\talpha = parseInt(base[6] + base[7], 16) / 255\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!parts[0]) parts[0] = 0\r\n\t\t\tif (!parts[1]) parts[1] = 0\r\n\t\t\tif (!parts[2]) parts[2] = 0\r\n\r\n\t\t\tspace = 'rgb'\r\n\t\t}\r\n\r\n\t\t//color space\r\n\t\telse if (m = /^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\\s*\\(([^\\)]*)\\)/.exec(cstr)) {\r\n\t\t\tvar name = m[1]\r\n\t\t\tvar isRGB = name === 'rgb'\r\n\t\t\tvar base = name.replace(/a$/, '')\r\n\t\t\tspace = base\r\n\t\t\tvar size = base === 'cmyk' ? 4 : base === 'gray' ? 1 : 3\r\n\t\t\tparts = m[2].trim()\r\n\t\t\t\t.split(/\\s*[,\\/]\\s*|\\s+/)\r\n\t\t\t\t.map(function (x, i) {\r\n\t\t\t\t\t//<percentage>\r\n\t\t\t\t\tif (/%$/.test(x)) {\r\n\t\t\t\t\t\t//alpha\r\n\t\t\t\t\t\tif (i === size)\treturn parseFloat(x) / 100\r\n\t\t\t\t\t\t//rgb\r\n\t\t\t\t\t\tif (base === 'rgb') return parseFloat(x) * 255 / 100\r\n\t\t\t\t\t\treturn parseFloat(x)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//hue\r\n\t\t\t\t\telse if (base[i] === 'h') {\r\n\t\t\t\t\t\t//<deg>\r\n\t\t\t\t\t\tif (/deg$/.test(x)) {\r\n\t\t\t\t\t\t\treturn parseFloat(x)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//<base-hue>\r\n\t\t\t\t\t\telse if (baseHues[x] !== undefined) {\r\n\t\t\t\t\t\t\treturn baseHues[x]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn parseFloat(x)\r\n\t\t\t\t})\r\n\r\n\t\t\tif (name === base) parts.push(1)\r\n\t\t\talpha = (isRGB) ? 1 : (parts[size] === undefined) ? 1 : parts[size]\r\n\t\t\tparts = parts.slice(0, size)\r\n\t\t}\r\n\r\n\t\t//named channels case\r\n\t\telse if (cstr.length > 10 && /[0-9](?:\\s|\\/)/.test(cstr)) {\r\n\t\t\tparts = cstr.match(/([0-9]+)/g).map(function (value) {\r\n\t\t\t\treturn parseFloat(value)\r\n\t\t\t})\r\n\r\n\t\t\tspace = cstr.match(/([a-z])/ig).join('').toLowerCase()\r\n\t\t}\r\n\t}\r\n\r\n\t//numeric case\r\n\telse if (!isNaN(cstr)) {\r\n\t\tspace = 'rgb'\r\n\t\tparts = [cstr >>> 16, (cstr & 0x00ff00) >>> 8, cstr & 0x0000ff]\r\n\t}\r\n\r\n\t//array-like\r\n\telse if (Array.isArray(cstr) || cstr.length) {\r\n\t\tparts = [cstr[0], cstr[1], cstr[2]]\r\n\t\tspace = 'rgb'\r\n\t\talpha = cstr.length === 4 ? cstr[3] : 1\r\n\t}\r\n\r\n\t//object case - detects css cases of rgb and hsl\r\n\telse if (cstr instanceof Object) {\r\n\t\tif (cstr.r != null || cstr.red != null || cstr.R != null) {\r\n\t\t\tspace = 'rgb'\r\n\t\t\tparts = [\r\n\t\t\t\tcstr.r || cstr.red || cstr.R || 0,\r\n\t\t\t\tcstr.g || cstr.green || cstr.G || 0,\r\n\t\t\t\tcstr.b || cstr.blue || cstr.B || 0\r\n\t\t\t]\r\n\t\t}\r\n\t\telse {\r\n\t\t\tspace = 'hsl'\r\n\t\t\tparts = [\r\n\t\t\t\tcstr.h || cstr.hue || cstr.H || 0,\r\n\t\t\t\tcstr.s || cstr.saturation || cstr.S || 0,\r\n\t\t\t\tcstr.l || cstr.lightness || cstr.L || cstr.b || cstr.brightness\r\n\t\t\t]\r\n\t\t}\r\n\r\n\t\talpha = cstr.a || cstr.alpha || cstr.opacity || 1\r\n\r\n\t\tif (cstr.opacity != null) alpha /= 100\r\n\t}\r\n\r\n\treturn {\r\n\t\tspace: space,\r\n\t\tvalues: parts,\r\n\t\talpha: alpha\r\n\t}\r\n}\r\n","/**\n * RGB space.\n *\n * @module  color-space/rgb\n */\n'use strict'\n\nmodule.exports = {\n\tname: 'rgb',\n\tmin: [0,0,0],\n\tmax: [255,255,255],\n\tchannel: ['red', 'green', 'blue'],\n\talias: ['RGB']\n};\n","/**\n * @module color-space/hsl\n */\n'use strict'\n\nvar rgb = require('./rgb');\n\nmodule.exports = {\n\tname: 'hsl',\n\tmin: [0,0,0],\n\tmax: [360,100,100],\n\tchannel: ['hue', 'saturation', 'lightness'],\n\talias: ['HSL'],\n\n\trgb: function(hsl) {\n\t\tvar h = hsl[0] / 360,\n\t\t\t\ts = hsl[1] / 100,\n\t\t\t\tl = hsl[2] / 100,\n\t\t\t\tt1, t2, t3, rgb, val;\n\n\t\tif (s === 0) {\n\t\t\tval = l * 255;\n\t\t\treturn [val, val, val];\n\t\t}\n\n\t\tif (l < 0.5) {\n\t\t\tt2 = l * (1 + s);\n\t\t}\n\t\telse {\n\t\t\tt2 = l + s - l * s;\n\t\t}\n\t\tt1 = 2 * l - t2;\n\n\t\trgb = [0, 0, 0];\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\tt3 = h + 1 / 3 * - (i - 1);\n\t\t\tif (t3 < 0) {\n\t\t\t\tt3++;\n\t\t\t}\n\t\t\telse if (t3 > 1) {\n\t\t\t\tt3--;\n\t\t\t}\n\n\t\t\tif (6 * t3 < 1) {\n\t\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t\t}\n\t\t\telse if (2 * t3 < 1) {\n\t\t\t\tval = t2;\n\t\t\t}\n\t\t\telse if (3 * t3 < 2) {\n\t\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tval = t1;\n\t\t\t}\n\n\t\t\trgb[i] = val * 255;\n\t\t}\n\n\t\treturn rgb;\n\t}\n};\n\n\n//extend rgb\nrgb.hsl = function(rgb) {\n\tvar r = rgb[0]/255,\n\t\t\tg = rgb[1]/255,\n\t\t\tb = rgb[2]/255,\n\t\t\tmin = Math.min(r, g, b),\n\t\t\tmax = Math.max(r, g, b),\n\t\t\tdelta = max - min,\n\t\t\th, s, l;\n\n\tif (max === min) {\n\t\th = 0;\n\t}\n\telse if (r === max) {\n\t\th = (g - b) / delta;\n\t}\n\telse if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t}\n\telse if (b === max) {\n\t\th = 4 + (r - g)/ delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tl = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t}\n\telse if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t}\n\telse {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n","/** @module  color-rgba */\r\n\r\n'use strict'\r\n\r\nvar parse = require('color-parse')\r\nvar hsl = require('color-space/hsl')\r\n\r\nmodule.exports = function rgba (color) {\r\n\t// template literals\r\n\tif (Array.isArray(color) && color.raw) color = String.raw.apply(null, arguments)\r\n\r\n\tvar values, i, l\r\n\r\n\t//attempt to parse non-array arguments\r\n\tvar parsed = parse(color)\r\n\r\n\tif (!parsed.space) return []\r\n\r\n\tvalues = Array(3)\r\n\tvalues[0] = Math.min(Math.max(parsed.values[0], 0), 255)\r\n\tvalues[1] = Math.min(Math.max(parsed.values[1], 0), 255)\r\n\tvalues[2] = Math.min(Math.max(parsed.values[2], 0), 255)\r\n\r\n\tif (parsed.space[0] === 'h') {\r\n\t\tvalues = hsl.rgb(values)\r\n\t}\r\n\r\n\tvalues.push(Math.min(Math.max(parsed.alpha, 0), 1))\r\n\r\n\treturn values\r\n}\r\n","\nimport rgba from 'color-rgba';\n\nexport default function parseColor(colorStr) {\n  const ret = rgba(colorStr);\n  if(!ret || !ret.length) throw new TypeError('Invalid color value.');\n  return [ret[0] / 255, ret[1] / 255, ret[2] / 255, ret[3]];\n}\n","import {mat2d} from 'gl-matrix';\nimport {multiply, grayscale, brightness,\n  saturate, contrast, invert,\n  sepia, opacity, hueRotate} from './utils/color-matrix';\nimport {transformPoint} from './utils/math';\nimport parseColor from './utils/parse-color';\n\nconst _mesh = Symbol('mesh');\nconst _count = Symbol('count');\n\nconst _blend = Symbol('blend');\nconst _filters = Symbol('filter');\n\nconst _textures = Symbol('textures');\nconst _textureOptions = Symbol('textureOptions');\n\nconst _hasCloudColor = Symbol('cloudColor');\nconst _hasCloudFilter = Symbol('cloudFilter');\n\nconst _buffer = Symbol('buffer');\n\nfunction createBuffer(buffer, oldBuffer = null) {\n  const transform0 = new Float32Array(3 * buffer);\n  const transform1 = new Float32Array(3 * buffer);\n\n  const color0 = new Float32Array(4 * buffer);\n  const color1 = new Float32Array(4 * buffer);\n  const color2 = new Float32Array(4 * buffer);\n  const color3 = new Float32Array(4 * buffer);\n  const color4 = new Float32Array(4 * buffer);\n\n  const frameIndex = new Uint8Array(buffer);\n  const fillColor = new Uint8Array(4 * buffer);\n  const strokeColor = new Uint8Array(4 * buffer);\n\n  if(oldBuffer) {\n    transform0.set(oldBuffer.transform0, 0);\n    transform1.set(oldBuffer.transform1, 0);\n    color0.set(oldBuffer.color0, 0);\n    color1.set(oldBuffer.color1, 0);\n    color2.set(oldBuffer.color2, 0);\n    color3.set(oldBuffer.color3, 0);\n    color4.set(oldBuffer.color4, 0);\n    frameIndex.set(oldBuffer.frameIndex, 0);\n    fillColor.set(oldBuffer.fillColor, 0);\n    strokeColor.set(oldBuffer.strokeColor, 0);\n  }\n\n  return {\n    bufferSize: buffer,\n    transform0,\n    transform1,\n    color0,\n    color1,\n    color2,\n    color3,\n    color4,\n    frameIndex,\n    fillColor,\n    strokeColor,\n  };\n}\n\nexport default class {\n  constructor(mesh, amount = 1, {buffer = 1000} = {}) {\n    buffer = Math.max(buffer, amount);\n\n    this[_count] = amount;\n    this[_mesh] = mesh;\n    this[_buffer] = createBuffer(buffer);\n\n    this[_textures] = [];\n    this[_filters] = [];\n\n    this[_hasCloudColor] = false;\n    this[_hasCloudFilter] = false;\n\n    this[_blend] = false;\n\n    this.initBuffer();\n  }\n\n  initBuffer(offset = 0) {\n    const amount = this[_count];\n\n    for(let i = offset; i < amount; i++) {\n      this[_buffer].transform0.set([1, 0, 0], i * 3);\n      this[_buffer].transform1.set([0, 1, 0], i * 3);\n      this[_buffer].frameIndex.set([-1], i);\n      this[_buffer].fillColor.set([0, 0, 0, 0], i * 4);\n      this[_buffer].strokeColor.set([0, 0, 0, 0], i * 4);\n      this.setColorTransform(i, null);\n    }\n  }\n\n  get bufferSize() {\n    return this[_buffer].bufferSize;\n  }\n\n  get mesh() {\n    return this[_mesh];\n  }\n\n  set mesh(mesh) {\n    this[_mesh] = mesh;\n    if(this[_textures]) {\n      this.setTextureFrames(this[_textures], this[_textureOptions]);\n    }\n  }\n\n  get hasCloudColor() {\n    return this[_hasCloudColor];\n  }\n\n  get hasCloudFilter() {\n    return this[_hasCloudFilter];\n  }\n\n  _getFilter(idx) {\n    this[_filters][idx] = this[_filters][idx] || [];\n    return this[_filters][idx];\n  }\n\n  getFilter(idx) {\n    return this._getFilter(idx).join(' ');\n  }\n\n  get enableBlend() {\n    return this[_mesh].enableBlend || this[_blend];\n  }\n\n  canIgnore() {\n    return this[_mesh].canIgnore();\n  }\n\n  delete(idx) {\n    if(idx >= this[_count] || idx < 0) throw new Error('Out of range.');\n    const {transform0, transform1, color0, color1, color2, color3, color4, frameIndex, fillColor, strokeColor} = this[_buffer];\n    transform0.set(transform0.subarray(3 * (idx + 1)), 3 * idx);\n    transform1.set(transform1.subarray(3 * (idx + 1)), 3 * idx);\n    color0.set(color0.subarray(4 * (idx + 1)), 4 * idx);\n    color1.set(color1.subarray(4 * (idx + 1)), 4 * idx);\n    color2.set(color2.subarray(4 * (idx + 1)), 4 * idx);\n    color3.set(color3.subarray(4 * (idx + 1)), 4 * idx);\n    color4.set(color4.subarray(4 * (idx + 1)), 4 * idx);\n    frameIndex.set(frameIndex.subarray(idx + 1), idx);\n    fillColor.set(fillColor.subarray(4 * (idx + 1)), 4 * idx);\n    strokeColor.set(strokeColor.subarray(4 * (idx + 1)), 4 * idx);\n    for(const i in this[_filters]) { // eslint-disable-line no-restricted-syntax\n      if(i === idx) {\n        delete this[_filters][i];\n      } else if(i > idx) {\n        this[_filters][i - 1] = this[_filters][i];\n        delete this[_filters][i];\n      }\n    }\n    this[_count]--;\n  }\n\n  setColorTransform(idx, m) {\n    if(idx >= this[_count] || idx < 0) throw new Error('Out of range.');\n    idx *= 4;\n    const {color0, color1, color2, color3, color4} = this[_buffer];\n    if(m != null) {\n      color0.set([m[0], m[5], m[10], m[15]], idx);\n      color1.set([m[1], m[6], m[11], m[16]], idx);\n      color2.set([m[2], m[7], m[12], m[17]], idx);\n      color3.set([m[3], m[8], m[13], m[18]], idx);\n      color4.set([m[4], m[9], m[14], m[19]], idx);\n      this[_blend] = this[_blend] || m[18] < 1.0;\n      this[_hasCloudFilter] = true;\n    } else {\n      color0.set([1, 0, 0, 0], idx);\n      color1.set([0, 1, 0, 0], idx);\n      color2.set([0, 0, 1, 0], idx);\n      color3.set([0, 0, 0, 1], idx);\n      color4.set([0, 0, 0, 0], idx);\n    }\n    return this;\n  }\n\n  getColorTransform(idx) {\n    if(idx >= this[_count] || idx < 0) throw new Error('Out of range.');\n    idx *= 4;\n    const {color0, color1, color2, color3, color4} = this[_buffer];\n    return [\n      color0[idx], color1[idx], color2[idx], color3[idx], color4[idx],\n      color0[idx + 1], color1[idx + 1], color2[idx + 1], color3[idx + 1], color4[idx + 1],\n      color0[idx + 2], color1[idx + 2], color2[idx + 2], color3[idx + 2], color4[idx + 2],\n      color0[idx + 3], color1[idx + 3], color2[idx + 3], color3[idx + 3], color4[idx + 3],\n    ];\n  }\n\n  transformColor(idx, m) {\n    let transform = this.getColorTransform(idx);\n    transform = multiply(transform, m);\n    this.setColorTransform(idx, transform);\n    return this;\n  }\n\n  setFillColor(idx, color) {\n    if(idx >= this[_count] || idx < 0) throw new Error('Out of range.');\n    if(typeof color === 'string') color = parseColor(color);\n    if(color[3] > 0.0) this[_hasCloudColor] = true;\n    this[_buffer].fillColor.set(color.map(c => Math.round(255 * c)), 4 * idx);\n  }\n\n  setStrokeColor(idx, color) {\n    if(idx >= this[_count] || idx < 0) throw new Error('Out of range.');\n    if(typeof color === 'string') color = parseColor(color);\n    if(color[3] > 0.0) this[_hasCloudColor] = true;\n    this[_buffer].strokeColor.set(color.map(c => Math.round(255 * c)), 4 * idx);\n  }\n\n  getCloudRGBA(idx) {\n    if(idx >= this[_count] || idx < 0) throw new Error('Out of range.');\n    idx *= 4;\n    const {fillColor, strokeColor} = this[_buffer];\n    const _fillColor = [fillColor[idx], fillColor[idx + 1], fillColor[idx + 2], fillColor[idx + 3]];\n    const _strokeColor = [strokeColor[idx], strokeColor[idx + 1], strokeColor[idx + 2], strokeColor[idx + 3]];\n    _fillColor[3] /= 255;\n    _strokeColor[3] /= 255;\n\n    return {\n      fill: `rgba(${_fillColor.join()})`,\n      stroke: `rgba(${_strokeColor.join()})`,\n    };\n  }\n\n  grayscale(idx, p) {\n    this.transformColor(idx, grayscale(p));\n    this._getFilter(idx).push(`grayscale(${100 * p}%)`);\n  }\n\n  brightness(idx, p) {\n    this.transformColor(idx, brightness(p));\n    this._getFilter(idx).push(`brightness(${100 * p}%)`);\n  }\n\n  saturate(idx, p) {\n    this.transformColor(idx, saturate(p));\n    this._getFilter(idx).push(`saturate(${100 * p}%)`);\n  }\n\n  contrast(idx, p) {\n    this.transformColor(idx, contrast(p));\n    this._getFilter(idx).push(`contrast(${100 * p}%)`);\n  }\n\n  invert(idx, p) {\n    this.transformColor(idx, invert(p));\n    this._getFilter(idx).push(`invert(${100 * p}%)`);\n  }\n\n  sepia(idx, p) {\n    this.transformColor(idx, sepia(p));\n    this._getFilter(idx).push(`sepia(${100 * p}%)`);\n  }\n\n  opacity(idx, p) {\n    this.transformColor(idx, opacity(p));\n    this._getFilter(idx).push(`opacity(${100 * p}%)`);\n  }\n\n  hueRotate(idx, deg) {\n    this.transformColor(idx, hueRotate(deg));\n    this._getFilter(idx).push(`hue-rotate(${deg}deg)`);\n  }\n\n  setTransform(idx, m) {\n    if(idx >= this[_count] || idx < 0) throw new Error('Out of range.');\n    idx *= 3;\n    if(m == null) m = [1, 0, 0, 1, 0, 0];\n    const {transform0, transform1} = this[_buffer];\n    transform0.set([m[0], m[2], m[4]], idx);\n    transform1.set([m[1], m[3], m[5]], idx);\n    return this;\n  }\n\n  getTransform(idx) {\n    if(idx >= this[_count] || idx < 0) throw new Error('Out of range.');\n    idx *= 3;\n    const {transform0, transform1} = this[_buffer];\n    const m = [transform0[idx], transform1[idx],\n      transform0[idx + 1], transform1[idx + 1],\n      transform0[idx + 2], transform1[idx + 2]];\n    return m;\n  }\n\n  getTextureFrame(idx) {\n    return this[_textures][this[_buffer].frameIndex[idx]];\n  }\n\n  setTextureFrames(frames = [], options = {}) {\n    if(frames.length > 12) {\n      throw new Error('Max frames exceed. Allow 12 frames.');\n    }\n    if(frames.length) {\n      const mesh = this[_mesh];\n      mesh.setTexture(frames[0], options);\n    }\n    this[_textures] = frames;\n    this[_textureOptions] = options;\n  }\n\n  setFrameIndex(idx, frameIndex) {\n    if(idx >= this[_count] || idx < 0) throw new Error('Out of range.');\n    const len = this[_textures].length;\n    if(len <= 0) throw new Error('No frames');\n    this[_buffer].frameIndex[idx] = frameIndex % len;\n  }\n\n  get amount() {\n    return this[_count];\n  }\n\n  set amount(value) {\n    const amount = this[_count];\n    if(value === amount) return;\n\n    if(value > this[_buffer].bufferSize) {\n      this[_buffer] = createBuffer(Math.max(value, this[_buffer].bufferSize + 1000), this[_buffer]);\n    }\n\n    this[_count] = value;\n    if(value > amount) {\n      this.initBuffer(amount);\n    }\n  }\n\n  get meshData() {\n    const {attributes, cells, positions, textureCoord, uniforms} = this[_mesh].meshData;\n    const frames = this[_textures];\n\n    const meshData = {\n      attributes: {...attributes},\n      cells,\n      positions,\n      textureCoord,\n      uniforms: {...uniforms},\n      instanceCount: this[_count],\n      enableBlend: this.enableBlend,\n    };\n\n    if(frames.length) {\n      frames.forEach((frame, i) => {\n        meshData.uniforms[`u_texFrame${i}`] = frame;\n      });\n    }\n    const {transform0, transform1, color0, color1, color2, color3, color4, fillColor, strokeColor, frameIndex} = this[_buffer];\n    if(this[_mesh].uniforms.u_texSampler) {\n      meshData.attributes.a_frameIndex = {data: frameIndex, divisor: 1};\n    }\n    // console.log(this[_mesh].meshData)\n\n    meshData.attributes.a_transform0 = {data: transform0, divisor: 1};\n    meshData.attributes.a_transform1 = {data: transform1, divisor: 1};\n    meshData.attributes.a_colorCloud0 = {data: color0, divisor: 1};\n    meshData.attributes.a_colorCloud1 = {data: color1, divisor: 1};\n    meshData.attributes.a_colorCloud2 = {data: color2, divisor: 1};\n    meshData.attributes.a_colorCloud3 = {data: color3, divisor: 1};\n    meshData.attributes.a_colorCloud4 = {data: color4, divisor: 1};\n\n    if(this.hasCloudColor) {\n      meshData.attributes.a_fillCloudColor = {data: fillColor, divisor: 1};\n      meshData.attributes.a_strokeCloudColor = {data: strokeColor, divisor: 1};\n    }\n\n    return meshData;\n  }\n\n  setProgram(program) {\n    this[_mesh].setProgram(program);\n  }\n\n  get program() {\n    return this[_mesh].program;\n  }\n\n  transform(idx, m) {\n    const transform = this.getTransform(idx);\n    m = mat2d(transform) * mat2d(m);\n    this.setTransform(idx, m);\n    return this;\n  }\n\n  translate(idx, [x, y]) {\n    let m = mat2d.create();\n    m = mat2d.translate(m, [x, y]);\n    return this.transform(idx, m);\n  }\n\n  rotate(idx, rad, [ox, oy] = [0, 0]) {\n    let m = mat2d.create();\n    m = mat2d.translate(m, [ox, oy]);\n    m = mat2d.rotate(m, rad);\n    m = mat2d.translate(m, [-ox, -oy]);\n    return this.transform(idx, m);\n  }\n\n  scale(idx, [x, y = x], [ox, oy] = [0, 0]) {\n    let m = mat2d.create();\n    m = mat2d.translate(m, [ox, oy]);\n    m = mat2d.scale(m, [x, y]);\n    m = mat2d.translate(m, [-ox, -oy]);\n    return this.transform(idx, m);\n  }\n\n  skew(idx, [x, y = x], [ox, oy] = [0, 0]) {\n    let m = mat2d.create();\n    m = mat2d.translate(m, [ox, oy]);\n    m = mat2d(m) * mat2d(1, Math.tan(y), Math.tan(x), 1, 0, 0);\n    m = mat2d.translate(m, [-ox, -oy]);\n    return this.transform(idx, m);\n  }\n\n  isPointCollision(idx, [x, y], type = 'both') {\n    const m = this.getTransform(idx);\n    const p = transformPoint([x, y], mat2d.invert(m));\n    return this[_mesh].isPointCollision(...p, type);\n  }\n\n  isPointInFill(idx, [x, y]) {\n    return this.isPointCollision(idx, [x, y], 'fill');\n  }\n\n  isPointInStroke(idx, [x, y]) {\n    return this.isPointCollision(idx, [x, y], 'stroke');\n  }\n}","import flattenMeshes from './flatten-meshes';\nimport MeshCloud from '../mesh-cloud';\n\nfunction compareUniform(a, b, temp) {\n  const ua = a.uniforms || {};\n  const ub = b.uniforms || {};\n\n  if(ua.u_texSampler && ub.u_texSampler && ua.u_texSampler !== ub.u_texSampler) return false;\n\n  const keysA = Object.keys(ua),\n    keysB = Object.keys(ub);\n\n  // console.log(keysA, keysB);\n  const idx1 = keysA.indexOf('u_texSampler');\n  const idx2 = keysB.indexOf('u_texSampler');\n  if(idx1 >= 0) keysA.splice(idx1, 1);\n  if(idx2 >= 0) keysB.splice(idx2, 1);\n\n  if(keysA.length !== keysB.length) return false;\n\n  const ret = keysA.every((key) => {\n    const va = ua[key],\n      vb = ub[key];\n\n    if(va === vb) return true;\n    if(va.length && vb.length && va.length === vb.length) {\n      for(let i = 0; i < va.length; i++) {\n        if(va[i] !== vb[i]) return false;\n      }\n      return true;\n    }\n    return false;\n  });\n\n  if(ret) {\n    if(ua.u_texSampler && !ub.u_texSampler) {\n      b.setTexture(ua.u_texSampler, {hidden: true});\n    } else if(!ua.u_texSampler && ub.u_texSampler) {\n      // a.setTexture(ub.u_texSampler, {hidden: true});\n      for(let i = 0; i < temp.length; i++) {\n        temp[i].setTexture(ub.u_texSampler, {hidden: true});\n      }\n    }\n  }\n\n  return ret;\n}\n\nconst bufferCache = {\n\n};\n\nfunction packData(temp, enableBlend) {\n  if(temp.length) {\n    const meshData = flattenMeshes(temp, bufferCache);\n\n    meshData.enableBlend = enableBlend;\n    if(temp[0].filterCanvas) {\n      meshData.filterCanvas = true;\n    }\n\n    meshData.packIndex = temp[0].packIndex;\n    meshData.packLength = temp.length;\n    meshData.beforeRender = temp[0].beforeRender;\n    meshData.pass = temp[0].pass;\n    meshData.afterRender = temp[temp.length - 1].afterRender;\n    temp.length = 0;\n    return meshData;\n  }\n}\n\nexport default function* compress(renderer, meshes, ignoreTrasnparent = false) {\n  const temp = [];\n  const maxSize = renderer.options.bufferSize;\n  let size = 0;\n  let enableBlend = false;\n\n  for(let i = 0; i < meshes.length; i++) {\n    const mesh = meshes[i];\n\n    if(mesh instanceof MeshCloud) {\n      if(temp.length) yield packData(temp, enableBlend);\n      size = 0;\n      enableBlend = false;\n      yield mesh;\n    } else {\n      const meshData = mesh.meshData;\n      if(meshData.clipPath && !meshData.uniforms.u_clipSampler) {\n        const texture = renderer.createTexture(meshData.clipPath);\n        meshData.uniforms.u_clipSampler = texture;\n      }\n      let len = 0;\n\n      if((!ignoreTrasnparent || !mesh.canIgnore()) && meshData && meshData.positions.length) {\n        mesh.packIndex = i;\n        const filterCanvas = mesh.filterCanvas;\n\n        len = meshData.positions.length;\n\n        if(filterCanvas || size + len > maxSize) { // cannot merge\n          if(temp.length) yield packData(temp, enableBlend);\n          size = 0;\n          enableBlend = false;\n        } else if(size) {\n          const lastMesh = temp[temp.length - 1];\n          if(lastMesh && (lastMesh.filterCanvas || lastMesh.afterRender || mesh.beforeRender\n            || lastMesh.pass.length\n            || mesh.pass.length\n            || lastMesh.program !== mesh.program\n            || !compareUniform(lastMesh, mesh, temp))) {\n            yield packData(temp, enableBlend);\n            size = 0;\n            enableBlend = false;\n          }\n        }\n\n        temp.push(mesh);\n        enableBlend = enableBlend || mesh.enableBlend;\n        size += len;\n      }\n\n      if(i === meshes.length - 1) {\n        if(temp.length) {\n          yield packData(temp, enableBlend);\n        }\n      }\n    }\n  }\n}","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}\n\nmodule.exports = _toArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","\nmodule.exports = parse\n\n/**\n * expected argument lengths\n * @type {Object}\n */\n\nvar length = {a: 7, c: 6, h: 1, l: 2, m: 2, q: 4, s: 4, t: 2, v: 1, z: 0}\n\n/**\n * segment pattern\n * @type {RegExp}\n */\n\nvar segment = /([astvzqmhlc])([^astvzqmhlc]*)/ig\n\n/**\n * parse an svg path data string. Generates an Array\n * of commands where each command is an Array of the\n * form `[command, arg1, arg2, ...]`\n *\n * @param {String} path\n * @return {Array}\n */\n\nfunction parse(path) {\n\tvar data = []\n\tpath.replace(segment, function(_, command, args){\n\t\tvar type = command.toLowerCase()\n\t\targs = parseValues(args)\n\n\t\t// overloaded moveTo\n\t\tif (type == 'm' && args.length > 2) {\n\t\t\tdata.push([command].concat(args.splice(0, 2)))\n\t\t\ttype = 'l'\n\t\t\tcommand = command == 'm' ? 'l' : 'L'\n\t\t}\n\n\t\twhile (true) {\n\t\t\tif (args.length == length[type]) {\n\t\t\t\targs.unshift(command)\n\t\t\t\treturn data.push(args)\n\t\t\t}\n\t\t\tif (args.length < length[type]) throw new Error('malformed path data')\n\t\t\tdata.push([command].concat(args.splice(0, length[type])))\n\t\t}\n\t})\n\treturn data\n}\n\nvar number = /-?[0-9]*\\.?[0-9]+(?:e[-+]?\\d+)?/ig\n\nfunction parseValues(args) {\n\tvar numbers = args.match(number)\n\treturn numbers ? numbers.map(Number) : []\n}\n","'use strict'\n\nmodule.exports = findBounds\n\nfunction findBounds(points) {\n  var n = points.length\n  if(n === 0) {\n    return [[], []]\n  }\n  var d = points[0].length\n  var lo = points[0].slice()\n  var hi = points[0].slice()\n  for(var i=1; i<n; ++i) {\n    var p = points[i]\n    for(var j=0; j<d; ++j) {\n      var x = p[j]\n      lo[j] = Math.min(lo[j], x)\n      hi[j] = Math.max(hi[j], x)\n    }\n  }\n  return [lo, hi]\n}","\nmodule.exports = absolutize\n\n/**\n * redefine `path` with absolute coordinates\n *\n * @param {Array} path\n * @return {Array}\n */\n\nfunction absolutize(path){\n\tvar startX = 0\n\tvar startY = 0\n\tvar x = 0\n\tvar y = 0\n\n\treturn path.map(function(seg){\n\t\tseg = seg.slice()\n\t\tvar type = seg[0]\n\t\tvar command = type.toUpperCase()\n\n\t\t// is relative\n\t\tif (type != command) {\n\t\t\tseg[0] = command\n\t\t\tswitch (type) {\n\t\t\t\tcase 'a':\n\t\t\t\t\tseg[6] += x\n\t\t\t\t\tseg[7] += y\n\t\t\t\t\tbreak\n\t\t\t\tcase 'v':\n\t\t\t\t\tseg[1] += y\n\t\t\t\t\tbreak\n\t\t\t\tcase 'h':\n\t\t\t\t\tseg[1] += x\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tfor (var i = 1; i < seg.length;) {\n\t\t\t\t\t\tseg[i++] += x\n\t\t\t\t\t\tseg[i++] += y\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// update cursor state\n\t\tswitch (command) {\n\t\t\tcase 'Z':\n\t\t\t\tx = startX\n\t\t\t\ty = startY\n\t\t\t\tbreak\n\t\t\tcase 'H':\n\t\t\t\tx = seg[1]\n\t\t\t\tbreak\n\t\t\tcase 'V':\n\t\t\t\ty = seg[1]\n\t\t\t\tbreak\n\t\t\tcase 'M':\n\t\t\t\tx = startX = seg[1]\n\t\t\t\ty = startY = seg[2]\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tx = seg[seg.length - 2]\n\t\t\t\ty = seg[seg.length - 1]\n\t\t}\n\n\t\treturn seg\n\t})\n}\n","// https://github.com/colinmeinke/svg-arc-to-cubic-bezier\n//\n// Convert an arc to a sequence of cubic bzier curves\n//\n\n\nconst TAU = Math.PI * 2;\n\n\n/* eslint-disable space-infix-ops */\n\n// Calculate an angle between two unit vectors\n//\n// Since we measure angle between radii of circular arcs,\n// we can use simplified math (without length normalization)\n//\nfunction unit_vector_angle(ux, uy, vx, vy) {\n  const sign = (ux * vy - uy * vx < 0) ? -1 : 1;\n  let dot = ux * vx + uy * vy;\n\n  // Add this to work with arbitrary vectors:\n  // dot /= Math.sqrt(ux * ux + uy * uy) * Math.sqrt(vx * vx + vy * vy);\n\n  // rounding errors, e.g. -1.0000000000000002 can screw up this\n  if(dot > 1.0) { dot = 1.0 }\n  if(dot < -1.0) { dot = -1.0 }\n\n  return sign * Math.acos(dot);\n}\n\n\n// Convert from endpoint to center parameterization,\n// see http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n//\n// Return [cx, cy, theta1, delta_theta]\n//\nfunction get_arc_center(x1, y1, x2, y2, fa, fs, rx, ry, sin_phi, cos_phi) {\n  // Step 1.\n  //\n  // Moving an ellipse so origin will be the middlepoint between our two\n  // points. After that, rotate it to line up ellipse axes with coordinate\n  // axes.\n  //\n  const x1p = cos_phi*(x1-x2)/2 + sin_phi*(y1-y2)/2;\n  const y1p = -sin_phi*(x1-x2)/2 + cos_phi*(y1-y2)/2;\n\n  const rx_sq = rx * rx;\n  const ry_sq = ry * ry;\n  const x1p_sq = x1p * x1p;\n  const y1p_sq = y1p * y1p;\n\n  // Step 2.\n  //\n  // Compute coordinates of the centre of this ellipse (cx', cy')\n  // in the new coordinate system.\n  //\n  let radicant = (rx_sq * ry_sq) - (rx_sq * y1p_sq) - (ry_sq * x1p_sq);\n\n  if(radicant < 0) {\n    // due to rounding errors it might be e.g. -1.3877787807814457e-17\n    radicant = 0;\n  }\n\n  radicant /= (rx_sq * y1p_sq) + (ry_sq * x1p_sq);\n  radicant = Math.sqrt(radicant) * (fa === fs ? -1 : 1);\n\n  const cxp = radicant * rx/ry * y1p;\n  const cyp = radicant * -ry/rx * x1p;\n\n  // Step 3.\n  //\n  // Transform back to get centre coordinates (cx, cy) in the original\n  // coordinate system.\n  //\n  const cx = cos_phi*cxp - sin_phi*cyp + (x1+x2)/2;\n  const cy = sin_phi*cxp + cos_phi*cyp + (y1+y2)/2;\n\n  // Step 4.\n  //\n  // Compute angles (theta1, delta_theta).\n  //\n  const v1x = (x1p - cxp) / rx;\n  const v1y = (y1p - cyp) / ry;\n  const v2x = (-x1p - cxp) / rx;\n  const v2y = (-y1p - cyp) / ry;\n\n  const theta1 = unit_vector_angle(1, 0, v1x, v1y);\n  let delta_theta = unit_vector_angle(v1x, v1y, v2x, v2y);\n\n  if(fs === 0 && delta_theta > 0) {\n    delta_theta -= TAU;\n  }\n  if(fs === 1 && delta_theta < 0) {\n    delta_theta += TAU;\n  }\n\n  return [cx, cy, theta1, delta_theta];\n}\n\n//\n// Approximate one unit arc segment with bzier curves,\n// see http://math.stackexchange.com/questions/873224\n//\nfunction approximate_unit_arc(theta1, delta_theta) {\n  const alpha = 4/3 * Math.tan(delta_theta/4);\n\n  const x1 = Math.cos(theta1);\n  const y1 = Math.sin(theta1);\n  const x2 = Math.cos(theta1 + delta_theta);\n  const y2 = Math.sin(theta1 + delta_theta);\n\n  return [x1, y1, x1 - y1*alpha, y1 + x1*alpha, x2 + y2*alpha, y2 - x2*alpha, x2, y2];\n}\n\nexport default function a2c(x1, y1, x2, y2, fa, fs, rx, ry, phi) {\n  const sin_phi = Math.sin(phi * TAU / 360);\n  const cos_phi = Math.cos(phi * TAU / 360);\n\n  // Make sure radii are valid\n  //\n  const x1p = cos_phi*(x1-x2)/2 + sin_phi*(y1-y2)/2;\n  const y1p = -sin_phi*(x1-x2)/2 + cos_phi*(y1-y2)/2;\n\n  if(x1p === 0 && y1p === 0) {\n    // we're asked to draw line to itself\n    return [];\n  }\n\n  if(rx === 0 || ry === 0) {\n    // one of the radii is zero\n    return [];\n  }\n\n\n  // Compensate out-of-range radii\n  //\n  rx = Math.abs(rx);\n  ry = Math.abs(ry);\n\n  const lambda = (x1p * x1p) / (rx * rx) + (y1p * y1p) / (ry * ry);\n  if(lambda > 1) {\n    rx *= Math.sqrt(lambda);\n    ry *= Math.sqrt(lambda);\n  }\n\n\n  // Get center parameters (cx, cy, theta1, delta_theta)\n  //\n  const cc = get_arc_center(x1, y1, x2, y2, fa, fs, rx, ry, sin_phi, cos_phi);\n\n  const result = [];\n  let theta1 = cc[2];\n  let delta_theta = cc[3];\n\n  // Split an arc to multiple segments, so each segment\n  // will be less than /4 (= 90)\n  //\n  const segments = Math.max(Math.ceil(Math.abs(delta_theta) / (TAU / 4)), 1);\n  delta_theta /= segments;\n\n  for(let i = 0; i < segments; i++) {\n    result.push(approximate_unit_arc(theta1, delta_theta));\n    theta1 += delta_theta;\n  }\n\n  // We have a bezier approximation of a unit circle,\n  // now need to transform back to the original ellipse\n  //\n  return result.map((curve) => {\n    for(let i = 0; i < curve.length; i += 2) {\n      let x = curve[i + 0];\n      let y = curve[i + 1];\n\n      // scale\n      x *= rx;\n      y *= ry;\n\n      // rotate\n      const xp = cos_phi*x - sin_phi*y;\n      const yp = sin_phi*x + cos_phi*y;\n\n      // translate\n      curve[i + 0] = xp + cc[0];\n      curve[i + 1] = yp + cc[1];\n    }\n\n    return curve;\n  });\n}\n","// https://github.com/jkroso/normalize-svg-path\nimport a2c from './a2c';\n\n/* eslint-disable */\nexport default function normalize(path){\n  // init state\n  var prev\n  var result = []\n  var bezierX = 0\n  var bezierY = 0\n  var startX = 0\n  var startY = 0\n  var quadX = null\n  var quadY = null\n  var x = 0\n  var y = 0\n\n  for (var i = 0, len = path.length; i < len; i++) {\n    var seg = path[i]\n    var command = seg[0]\n\n    switch (command) {\n      case 'M':\n        startX = seg[1]\n        startY = seg[2]\n        break\n      case 'A':\n        var curves = a2c(x, y, seg[6], seg[7], seg[4], seg[5], seg[1], seg[2], seg[3])\n\n        if (!curves.length) continue\n\n        curves = curves.map(curve => {\n          const [x0, y0, x1, y1, x2, y2, x, y] = curve\n          return {x1, y1, x2, y2, x, y}\n        })\n\n        for (var j = 0, c; j < curves.length; j++) {\n          c = curves[j]\n          seg = ['C', c.x1, c.y1, c.x2, c.y2, c.x, c.y]\n          if (j < curves.length - 1) result.push(seg)\n        }\n\n        break\n      case 'S':\n        // default control point\n        var cx = x\n        var cy = y\n        if (prev == 'C' || prev == 'S') {\n          cx += cx - bezierX // reflect the previous command's control\n          cy += cy - bezierY // point relative to the current point\n        }\n        seg = ['C', cx, cy, seg[1], seg[2], seg[3], seg[4]]\n        break\n      case 'T':\n        if (prev == 'Q' || prev == 'T') {\n          quadX = x * 2 - quadX // as with 'S' reflect previous control point\n          quadY = y * 2 - quadY\n        } else {\n          quadX = x\n          quadY = y\n        }\n        seg = quadratic(x, y, quadX, quadY, seg[1], seg[2])\n        break\n      case 'Q':\n        quadX = seg[1]\n        quadY = seg[2]\n        seg = quadratic(x, y, seg[1], seg[2], seg[3], seg[4])\n        break\n      case 'L':\n        seg = line(x, y, seg[1], seg[2])\n        break\n      case 'H':\n        seg = line(x, y, seg[1], y)\n        break\n      case 'V':\n        seg = line(x, y, x, seg[1])\n        break\n      case 'Z':\n        seg = line(x, y, startX, startY)\n        break\n    }\n\n    // update state\n    prev = command\n    x = seg[seg.length - 2]\n    y = seg[seg.length - 1]\n    if (seg.length > 4) {\n      bezierX = seg[seg.length - 4]\n      bezierY = seg[seg.length - 3]\n    } else {\n      bezierX = x\n      bezierY = y\n    }\n    result.push(seg)\n  }\n\n  return result\n}\n\nfunction line(x1, y1, x2, y2){\n  return ['C', x1, y1, x2, y2, x2, y2]\n}\n\nfunction quadratic(x1, y1, cx, cy, x2, y2){\n  return [\n    'C',\n    x1/3 + (2/3) * cx,\n    y1/3 + (2/3) * cy,\n    x2/3 + (2/3) * cx,\n    y2/3 + (2/3) * cy,\n    x2,\n    y2\n  ]\n}\n/* eslint-enable */\n","function clone(point) { //TODO: use gl-vec2 for this\n    return [point[0], point[1]]\n}\n\nfunction vec2(x, y) {\n    return [x, y]\n}\n\nmodule.exports = function createBezierBuilder(opt) {\n    opt = opt||{}\n\n    var RECURSION_LIMIT = typeof opt.recursion === 'number' ? opt.recursion : 8\n    var FLT_EPSILON = typeof opt.epsilon === 'number' ? opt.epsilon : 1.19209290e-7\n    var PATH_DISTANCE_EPSILON = typeof opt.pathEpsilon === 'number' ? opt.pathEpsilon : 1.0\n\n    var curve_angle_tolerance_epsilon = typeof opt.angleEpsilon === 'number' ? opt.angleEpsilon : 0.01\n    var m_angle_tolerance = opt.angleTolerance || 0\n    var m_cusp_limit = opt.cuspLimit || 0\n\n    return function bezierCurve(start, c1, c2, end, scale, points) {\n        if (!points)\n            points = []\n\n        scale = typeof scale === 'number' ? scale : 1.0\n        var distanceTolerance = PATH_DISTANCE_EPSILON / scale\n        distanceTolerance *= distanceTolerance\n        begin(start, c1, c2, end, points, distanceTolerance)\n        return points\n    }\n\n\n    ////// Based on:\n    ////// https://github.com/pelson/antigrain/blob/master/agg-2.4/src/agg_curves.cpp\n\n    function begin(start, c1, c2, end, points, distanceTolerance) {\n        points.push(clone(start))\n        var x1 = start[0],\n            y1 = start[1],\n            x2 = c1[0],\n            y2 = c1[1],\n            x3 = c2[0],\n            y3 = c2[1],\n            x4 = end[0],\n            y4 = end[1]\n        recursive(x1, y1, x2, y2, x3, y3, x4, y4, points, distanceTolerance, 0)\n        points.push(clone(end))\n    }\n\n    function recursive(x1, y1, x2, y2, x3, y3, x4, y4, points, distanceTolerance, level) {\n        if(level > RECURSION_LIMIT) \n            return\n\n        var pi = Math.PI\n\n        // Calculate all the mid-points of the line segments\n        //----------------------\n        var x12   = (x1 + x2) / 2\n        var y12   = (y1 + y2) / 2\n        var x23   = (x2 + x3) / 2\n        var y23   = (y2 + y3) / 2\n        var x34   = (x3 + x4) / 2\n        var y34   = (y3 + y4) / 2\n        var x123  = (x12 + x23) / 2\n        var y123  = (y12 + y23) / 2\n        var x234  = (x23 + x34) / 2\n        var y234  = (y23 + y34) / 2\n        var x1234 = (x123 + x234) / 2\n        var y1234 = (y123 + y234) / 2\n\n        if(level > 0) { // Enforce subdivision first time\n            // Try to approximate the full cubic curve by a single straight line\n            //------------------\n            var dx = x4-x1\n            var dy = y4-y1\n\n            var d2 = Math.abs((x2 - x4) * dy - (y2 - y4) * dx)\n            var d3 = Math.abs((x3 - x4) * dy - (y3 - y4) * dx)\n\n            var da1, da2\n\n            if(d2 > FLT_EPSILON && d3 > FLT_EPSILON) {\n                // Regular care\n                //-----------------\n                if((d2 + d3)*(d2 + d3) <= distanceTolerance * (dx*dx + dy*dy)) {\n                    // If the curvature doesn't exceed the distanceTolerance value\n                    // we tend to finish subdivisions.\n                    //----------------------\n                    if(m_angle_tolerance < curve_angle_tolerance_epsilon) {\n                        points.push(vec2(x1234, y1234))\n                        return\n                    }\n\n                    // Angle & Cusp Condition\n                    //----------------------\n                    var a23 = Math.atan2(y3 - y2, x3 - x2)\n                    da1 = Math.abs(a23 - Math.atan2(y2 - y1, x2 - x1))\n                    da2 = Math.abs(Math.atan2(y4 - y3, x4 - x3) - a23)\n                    if(da1 >= pi) da1 = 2*pi - da1\n                    if(da2 >= pi) da2 = 2*pi - da2\n\n                    if(da1 + da2 < m_angle_tolerance) {\n                        // Finally we can stop the recursion\n                        //----------------------\n                        points.push(vec2(x1234, y1234))\n                        return\n                    }\n\n                    if(m_cusp_limit !== 0.0) {\n                        if(da1 > m_cusp_limit) {\n                            points.push(vec2(x2, y2))\n                            return\n                        }\n\n                        if(da2 > m_cusp_limit) {\n                            points.push(vec2(x3, y3))\n                            return\n                        }\n                    }\n                }\n            }\n            else {\n                if(d2 > FLT_EPSILON) {\n                    // p1,p3,p4 are collinear, p2 is considerable\n                    //----------------------\n                    if(d2 * d2 <= distanceTolerance * (dx*dx + dy*dy)) {\n                        if(m_angle_tolerance < curve_angle_tolerance_epsilon) {\n                            points.push(vec2(x1234, y1234))\n                            return\n                        }\n\n                        // Angle Condition\n                        //----------------------\n                        da1 = Math.abs(Math.atan2(y3 - y2, x3 - x2) - Math.atan2(y2 - y1, x2 - x1))\n                        if(da1 >= pi) da1 = 2*pi - da1\n\n                        if(da1 < m_angle_tolerance) {\n                            points.push(vec2(x2, y2))\n                            points.push(vec2(x3, y3))\n                            return\n                        }\n\n                        if(m_cusp_limit !== 0.0) {\n                            if(da1 > m_cusp_limit) {\n                                points.push(vec2(x2, y2))\n                                return\n                            }\n                        }\n                    }\n                }\n                else if(d3 > FLT_EPSILON) {\n                    // p1,p2,p4 are collinear, p3 is considerable\n                    //----------------------\n                    if(d3 * d3 <= distanceTolerance * (dx*dx + dy*dy)) {\n                        if(m_angle_tolerance < curve_angle_tolerance_epsilon) {\n                            points.push(vec2(x1234, y1234))\n                            return\n                        }\n\n                        // Angle Condition\n                        //----------------------\n                        da1 = Math.abs(Math.atan2(y4 - y3, x4 - x3) - Math.atan2(y3 - y2, x3 - x2))\n                        if(da1 >= pi) da1 = 2*pi - da1\n\n                        if(da1 < m_angle_tolerance) {\n                            points.push(vec2(x2, y2))\n                            points.push(vec2(x3, y3))\n                            return\n                        }\n\n                        if(m_cusp_limit !== 0.0) {\n                            if(da1 > m_cusp_limit)\n                            {\n                                points.push(vec2(x3, y3))\n                                return\n                            }\n                        }\n                    }\n                }\n                else {\n                    // Collinear case\n                    //-----------------\n                    dx = x1234 - (x1 + x4) / 2\n                    dy = y1234 - (y1 + y4) / 2\n                    if(dx*dx + dy*dy <= distanceTolerance) {\n                        points.push(vec2(x1234, y1234))\n                        return\n                    }\n                }\n            }\n        }\n\n        // Continue subdivision\n        //----------------------\n        recursive(x1, y1, x12, y12, x123, y123, x1234, y1234, points, distanceTolerance, level + 1) \n        recursive(x1234, y1234, x234, y234, x34, y34, x4, y4, points, distanceTolerance, level + 1) \n    }\n}\n","module.exports = require('./function')()","import {vec2} from 'gl-matrix';\n\nfunction clone(arr) {\n  return [arr[0], arr[1]];\n}\n\nfunction create() {\n  return [0, 0];\n}\n\nconst copy = vec2.copy;\nconst scaleAndAdd = vec2.scaleAndAdd;\nconst dot = vec2.dot;\nconst rotate = vec2.rotate;\nconst cross = vec2.cross;\nconst sub = vec2.sub;\nconst add = vec2.add;\nconst normalize = vec2.normalize;\nconst set = vec2.set;\n\nconst tmp = create();\n\nfunction computeMiter(tangent, miter, lineA, lineB, halfThick) {\n  // get tangent line\n  add(tangent, lineA, lineB);\n  normalize(tangent, tangent);\n\n  // get miter as a unit vector\n  set(miter, -tangent[1], tangent[0]);\n  set(tmp, -lineA[1], lineA[0]);\n\n  // get the necessary length of our miter\n  const miterLen = halfThick / dot(miter, tmp);\n  return Math.abs(miterLen); // avoid -Infinity\n}\n\nfunction normal(out, dir) {\n  // get perpendicular\n  set(out, -dir[1], dir[0]);\n  return out;\n}\n\nfunction direction(out, a, b) {\n  // get unit dir of two lines\n  sub(out, a, b);\n  normalize(out, out);\n  return out;\n}\n\nexport {\n  create,\n  clone,\n  copy,\n  scaleAndAdd,\n  dot,\n  rotate,\n  cross,\n  sub,\n  add,\n\n  computeMiter,\n  normal,\n  direction,\n};\n","function getSqDist(p1, p2) {\n    var dx = p1[0] - p2[0],\n        dy = p1[1] - p2[1];\n\n    return dx * dx + dy * dy;\n}\n\n// basic distance-based simplification\nmodule.exports = function simplifyRadialDist(points, tolerance) {\n    if (points.length<=1)\n        return points;\n    tolerance = typeof tolerance === 'number' ? tolerance : 1;\n    var sqTolerance = tolerance * tolerance;\n    \n    var prevPoint = points[0],\n        newPoints = [prevPoint],\n        point;\n\n    for (var i = 1, len = points.length; i < len; i++) {\n        point = points[i];\n\n        if (getSqDist(point, prevPoint) > sqTolerance) {\n            newPoints.push(point);\n            prevPoint = point;\n        }\n    }\n\n    if (prevPoint !== point) newPoints.push(point);\n\n    return newPoints;\n}","// square distance from a point to a segment\nfunction getSqSegDist(p, p1, p2) {\n    var x = p1[0],\n        y = p1[1],\n        dx = p2[0] - x,\n        dy = p2[1] - y;\n\n    if (dx !== 0 || dy !== 0) {\n\n        var t = ((p[0] - x) * dx + (p[1] - y) * dy) / (dx * dx + dy * dy);\n\n        if (t > 1) {\n            x = p2[0];\n            y = p2[1];\n\n        } else if (t > 0) {\n            x += dx * t;\n            y += dy * t;\n        }\n    }\n\n    dx = p[0] - x;\n    dy = p[1] - y;\n\n    return dx * dx + dy * dy;\n}\n\nfunction simplifyDPStep(points, first, last, sqTolerance, simplified) {\n    var maxSqDist = sqTolerance,\n        index;\n\n    for (var i = first + 1; i < last; i++) {\n        var sqDist = getSqSegDist(points[i], points[first], points[last]);\n\n        if (sqDist > maxSqDist) {\n            index = i;\n            maxSqDist = sqDist;\n        }\n    }\n\n    if (maxSqDist > sqTolerance) {\n        if (index - first > 1) simplifyDPStep(points, first, index, sqTolerance, simplified);\n        simplified.push(points[index]);\n        if (last - index > 1) simplifyDPStep(points, index, last, sqTolerance, simplified);\n    }\n}\n\n// simplification using Ramer-Douglas-Peucker algorithm\nmodule.exports = function simplifyDouglasPeucker(points, tolerance) {\n    if (points.length<=1)\n        return points;\n    tolerance = typeof tolerance === 'number' ? tolerance : 1;\n    var sqTolerance = tolerance * tolerance;\n    \n    var last = points.length - 1;\n\n    var simplified = [points[0]];\n    simplifyDPStep(points, 0, last, sqTolerance, simplified);\n    simplified.push(points[last]);\n\n    return simplified;\n}\n","var simplifyRadialDist = require('./radial-distance')\nvar simplifyDouglasPeucker = require('./douglas-peucker')\n\n//simplifies using both algorithms\nmodule.exports = function simplify(points, tolerance) {\n    points = simplifyRadialDist(points, tolerance);\n    points = simplifyDouglasPeucker(points, tolerance);\n    return points;\n}\n\nmodule.exports.radialDistance = simplifyRadialDist;\nmodule.exports.douglasPeucker = simplifyDouglasPeucker;","// https://github.com/mattdesl/svg-path-contours\n/* eslint-disable */\n\nvar bezier = require('adaptive-bezier-curve')\nvar {copy} = require('../extrude-contours/utils')\nvar simplify = require('simplify-path')\n\nfunction set(out, x, y) {\n    out[0] = x\n    out[1] = y\n    return out\n}\n\nvar tmp1 = [0,0],\n    tmp2 = [0,0],\n    tmp3 = [0,0]\n\nfunction bezierTo(points, scale, start, seg) {\n    bezier(start, \n        set(tmp1, seg[1], seg[2]), \n        set(tmp2, seg[3], seg[4]),\n        set(tmp3, seg[5], seg[6]), scale, points)\n}\n\nmodule.exports = function contours(svg, scale, simp) {\n    var paths = []\n\n    var points = []\n    var pen = [0, 0]\n    svg.forEach(function(segment, i, self) {\n        if (segment[0] === 'M') {\n            copy(pen, segment.slice(1))\n            if (points.length>0) {\n                paths.push(points)\n                points = []\n            }\n        } else if (segment[0] === 'C') {\n            bezierTo(points, scale, pen, segment)\n            set(pen, segment[5], segment[6])\n        } else {\n            throw new Error('illegal type in SVG: '+segment[0])\n        }\n    })\n    if (points.length>0)\n        paths.push(points)\n\n    return paths.map(function (points) {\n        return simplify(points, simp || 0);\n    })\n}","export function normalize([x, y, z], w, h, d) {\n  x = (x * 2) / w - 1;\n  y = 1 - (y * 2) / h;\n  if(Number.isFinite(d)) {\n    z = (z * 2) / d - 1;\n    return [x, y, z];\n  }\n  return [x, y];\n}\n\nexport function distance([x1, y1, z1 = 0], [x2, y2, z2 = 0]) {\n  return Math.hypot(x2 - x1, y2 - y1, z2 - z1);\n}","import {distance} from './positions';\n\nexport function getTotalLength(contours) {\n  if(contours.totalLength != null) return contours.totalLength;\n  let length = 0;\n  contours.forEach((points) => {\n    let s = points[0];\n    for(let i = 1; i < points.length; i++) {\n      const p = points[i];\n      length += distance(s, p);\n      s = p;\n    }\n  });\n  contours.totalLength = length;\n  return length;\n}\n\nfunction splitContours(contours, length, rest = true) {\n  length = Number(length);\n  if(!Number.isFinite(length)) {\n    throw new TypeError('Failed to execute \\'getPointAtLength\\' on figure: The provided float value is non-finite.');\n  }\n\n  if(length <= 0) {\n    throw new TypeError('Length must > 0');\n  }\n\n  const contoursLength = getTotalLength(contours);\n  if(length >= contoursLength) {\n    const points = contours[contours.length - 1];\n    const p0 = points[points.length - 2];\n    const p1 = points[points.length - 1];\n    const angle = Math.atan2(p1[1] - p0[1], p1[0] - p0[0]);\n    return {\n      current: contours.map(c => [...c]),\n      point: {\n        x: p1[0],\n        y: p1[1],\n        angle,\n      },\n    };\n  }\n\n  const current = [];\n  for(let i = 0; i < contours.length; i++) {\n    current[i] = [];\n    const points = contours[i];\n    let p0 = points[0];\n    for(let j = 1; j < points.length; j++) {\n      const p1 = points[j];\n      const d = distance(p0, p1);\n      if(length < d) {\n        const p = length / d;\n        const angle = Math.atan2(p1[1] - p0[1], p1[0] - p0[0]);\n        const point = {\n          x: p0[0] * (1 - p) + p1[0] * p,\n          y: p0[1] * (1 - p) + p1[1] * p,\n          angle,\n        };\n        current[i].push(p0);\n        if(length > 0) current[i].push([point.x, point.y]);\n        if(!rest) {\n          return {\n            current,\n            point,\n          };\n        }\n        const restContours = [];\n        const o = i;\n        for(; i < contours.length; i++) {\n          restContours[i - o] = [];\n          if(i === o) restContours[0].push([point.x, point.y]);\n          for(; j < points.length; j++) {\n            restContours[i - o].push(points[j]);\n          }\n          j = 0;\n        }\n        return {\n          current,\n          point,\n          rest: restContours,\n        };\n      }\n      length -= d;\n      current[i].push(p0);\n      p0 = p1;\n    }\n  }\n}\n\nexport function getPointAtLength(contours, length) {\n  length = Number(length);\n  if(!Number.isFinite(length)) {\n    throw new TypeError('Failed to execute \\'getPointAtLength\\' on figure: The provided float value is non-finite.');\n  }\n  if(contours.length <= 0) return {x: 0, y: 0, angle: 0};\n  if(length <= 0) {\n    const p0 = contours[0][0];\n    const p1 = contours[0][1];\n    const angle = Math.atan2(p1[1] - p0[1], p1[0] - p0[0]);\n    return {\n      x: p0[0],\n      y: p0[1],\n      angle,\n    };\n  }\n\n  return splitContours(contours, length, false).point;\n}\n\nexport function getDashContours(contours, lineDash, lineDashOffset) {\n  let idx = 0;\n  let dash = lineDash[0];\n  let rest = contours;\n  const splitedContours = [];\n  const lineDashLen = lineDash.length;\n\n  if(lineDashOffset > 0) {\n    do {\n      lineDashOffset -= lineDash[idx % lineDashLen];\n      idx++;\n    } while(lineDashOffset > 0);\n    if(lineDashOffset < 0) {\n      dash = -lineDashOffset;\n      idx--;\n    }\n  } else if(lineDashOffset < 0) {\n    idx = -1;\n    do {\n      lineDashOffset += lineDash[idx % lineDashLen + lineDashLen - 1];\n      idx--;\n    } while(lineDashOffset < 0);\n    if(lineDashOffset >= 0) {\n      idx++;\n      dash = lineDash[idx % lineDashLen + lineDashLen - 1] - lineDashOffset;\n    }\n  }\n\n  do {\n    const splited = splitContours(rest, dash);\n    rest = splited.rest;\n    if(++idx % 2) splitedContours.push(...splited.current);\n    let dashIndex = idx % lineDashLen;\n    if(dashIndex < 0) dashIndex += lineDashLen;\n    dash = lineDash[dashIndex];\n  } while(rest);\n\n  return splitedContours;\n}","// \nconst PI2 = Math.PI * 2;\n\nexport function getPoint(x0, y0, a, b, theta) {\n  theta %= PI2;\n  if(theta < 0) theta += PI2;\n  const k = Math.tan(theta);\n  if(Math.abs(k) < 1e5) {\n    // y - y0 = k (x - x0)\n    // y = k x + (y0 - k x0)\n    // (x - x0) ** 2 / a ** 2 + (y - y0) ** 2 / b ** 2 = 1\n    const c = y0 - k * x0;\n    const t = 1 / a ** 2 + k ** 2 / b ** 2;\n    let d = -1;\n    if(theta <= Math.PI / 2 || theta > 3 * Math.PI / 2) d = 1;\n    const x = d * Math.sqrt(1 / t) + x0;\n    const y = k * x + c;\n    return [x, y];\n  }\n  if(theta < Math.PI) {\n    return [x0, y0 + b];\n  }\n  return [x0, y0 - b];\n}","import parse from 'parse-svg-path';\nimport getBounds from 'bound-points';\nimport abs from 'abs-svg-path';\nimport normalize from './normalize-svg-path';\nimport createContours from './svg-path-contours';\nimport {getPointAtLength, getTotalLength} from './utils/contours';\nimport {getPoint} from './utils/ellipse';\n\nconst _contours = Symbol('contours');\nconst _path = Symbol('path');\nconst _simplify = Symbol('simplify');\nconst _scale = Symbol('scale');\n\nconst PI2 = 2 * Math.PI;\n\nexport default class Figure2D {\n  constructor(options = {}) {\n    if(typeof options === 'string') options = {path: options};\n    if(options.path) this[_path] = parse(options.path);\n    else this[_path] = [];\n    this[_contours] = null;\n    this[_simplify] = options.simplify != null ? options.simplify : 0;\n    this[_scale] = options.scale != null ? options.scale : 2;\n  }\n\n  get contours() {\n    let ret = null;\n    if(!this[_contours] && this[_path]) {\n      const path = normalize(abs(this[_path]));\n      this[_contours] = createContours(path, this[_scale], this[_simplify]);\n      this[_contours].path = path;\n      this[_contours].simplify = this[_simplify];\n      this[_contours].scale = this[_scale];\n    }\n    if(this[_contours]) {\n      ret = this[_contours].map(c => [...c]);\n      ret.path = this[_contours].path;\n      ret.simplify = this[_contours].simplify;\n      ret.scale = this[_contours].scale;\n    }\n    return ret;\n  }\n\n  get path() {\n    return this[_path];\n  }\n\n  get simplify() {\n    return this[_simplify];\n  }\n\n  get boundingBox() {\n    const contours = this.contours;\n    if(contours && contours.length) {\n      const points = contours.reduce((a, b) => [...a, ...b]);\n      return getBounds(points);\n    }\n    return [[0, 0], [0, 0]];\n  }\n\n  get boundingCenter() {\n    const bound = this.boundingBox;\n    if(bound) {\n      return [0.5 * (bound[0][0] + bound[1][0]), 0.5 * (bound[0][1] + bound[1][1])];\n    }\n    return [0, 0];\n  }\n\n  normalize(x0 = 0, y0 = 0) {\n    const path = normalize(abs(this[_path])).map(([cmd, ...args]) => {\n      const transformed = [cmd];\n      for(let i = 0; i < args.length; i += 2) {\n        const x = args[i] - x0,\n          y = args[i + 1] - y0;\n        transformed.push(x, y);\n      }\n      return transformed;\n    });\n    this.beginPath();\n    this[_path].push(...path);\n    return this;\n  }\n\n  getPointAtLength(length) {\n    if(this.contours) {\n      return getPointAtLength(this[_contours], length);\n    }\n    return null;\n  }\n\n  getTotalLength() {\n    if(this.contours) {\n      return getTotalLength(this[_contours]);\n    }\n    return 0;\n  }\n\n  addPath(path) {\n    this[_contours] = null;\n    if(typeof path === 'string') path = parse(path);\n    this[_path].push(...path);\n  }\n\n  beginPath() {\n    this[_path] = [];\n    this[_contours] = null;\n  }\n\n  clear() {\n    this.beginPath();\n  }\n\n  ellipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise = 0) {\n    startAngle += rotation;\n    endAngle += rotation;\n    if(radiusX <= 0 || radiusY <= 0 || endAngle === startAngle) return;\n    if(endAngle < startAngle) {\n      endAngle = startAngle + PI2 + (endAngle - startAngle) % PI2;\n    }\n    if(endAngle - startAngle > PI2) {\n      endAngle = startAngle + PI2;\n    }\n\n    const delta = endAngle - startAngle;\n    if(delta >= PI2) {\n      endAngle -= 1e-3;\n    }\n\n    let path = this[_path].length > 0 && delta < PI2 ? 'L' : 'M';\n\n    const startPoint = getPoint(x, y, radiusX, radiusY, startAngle);\n    const endPoint = getPoint(x, y, radiusX, radiusY, endAngle);\n\n    const sweepFlag = Number(!anticlockwise);\n    let largeArcFlag = delta > Math.PI ? 1 : 0;\n    if(anticlockwise) largeArcFlag = 1 - largeArcFlag;\n\n    path += startPoint.join(' ');\n\n    path += `A${radiusX} ${radiusY} 0 ${largeArcFlag} ${sweepFlag} ${endPoint.join(' ')}`;\n    if(delta >= PI2) {\n      path += 'Z';\n    }\n\n    this.addPath(path);\n  }\n\n  arc(x, y, radius, startAngle, endAngle, anticlockwise = 0) {\n    return this.ellipse(x, y, radius, radius, 0, startAngle, endAngle, anticlockwise);\n  }\n\n  arcTo(rx, ry, xAxisRotation, largeArcFlag, sweepFlag, x, y) {\n    this[_contours] = null;\n    this[_path].push(['A', rx, ry, xAxisRotation, largeArcFlag, sweepFlag, x, y]);\n  }\n\n  moveTo(x, y) {\n    this[_contours] = null;\n    this[_path].push(['M', x, y]);\n  }\n\n  lineTo(x, y) {\n    this[_contours] = null;\n    this[_path].push(['L', x, y]);\n  }\n\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this[_contours] = null;\n    this[_path].push(['C', x1, y1, x2, y2, x, y]);\n  }\n\n  quadraticCurveTo(x1, y1, x, y) {\n    this[_contours] = null;\n    this[_path].push(['Q', x1, y1, x, y]);\n  }\n\n  rect(x, y, width, height) {\n    const path = `M${x} ${y}L${x + width} ${y}L${x + width} ${y + height}L${x} ${y + height}Z`;\n    this.addPath(path);\n  }\n\n  closePath() {\n    this[_contours] = null;\n    let lastPath = [];\n    const len = this[_path].length;\n    if(len > 0) {\n      lastPath = this[_path][len - 1];\n    }\n    if(lastPath[0] !== 'Z' && lastPath[0] !== 'z') {\n      this[_path].push(['Z']);\n    }\n  }\n}","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import {\n  create,\n  scaleAndAdd,\n  direction,\n  normal,\n  copy,\n  clone,\n  computeMiter,\n  dot,\n  sub,\n  rotate,\n  cross,\n  add,\n} from './utils';\n\nconst tmp = create();\nconst lineA = create();\nconst lineB = create();\nconst tangent = create();\nconst miter = create();\n\nconst MAX_MITER_VALUE = 1e20; // infinity * 0 cause NaN, fix #7\n\nexport class Stroke {\n  constructor({\n    lineWidth = 1,\n    lineJoin = 'miter',\n    miterLimit = 10,\n    lineCap = 'butt',\n    roundSegments = 20} = {}) {\n    this.lineWidth = lineWidth;\n    this.lineJoin = lineJoin;\n    this.miterLimit = miterLimit;\n    this.lineCap = lineCap;\n    this.roundSegments = roundSegments;\n    this._normal = null;\n  }\n\n  build(points, closed = false) {\n    let total = points.length;\n    points = [...points];\n    if(total < 2) return points;\n\n    if(closed) {\n      if(points[0][0] !== points[total - 1][0] || points[0][1] !== points[total - 1][1]) {\n        points.push([...points[0]]);\n      }\n      points.push([...points[1]]);\n    }\n    total = points.length;\n\n    // clear flags\n    this._normal = null;\n    const contours = {\n      left: [],\n      right: [],\n    };\n\n    const halfThick = this.lineWidth / 2;\n\n    const cap = this.lineCap;\n    if(!closed && cap === 'square') {\n      direction(lineA, points[0], points[1]);\n      scaleAndAdd(points[0], points[0], lineA, halfThick);\n      const idx = points.length - 1;\n      direction(lineA, points[idx], points[idx - 1]);\n      scaleAndAdd(points[idx], points[idx], lineA, halfThick);\n    }\n\n    // join each segment\n    for(let i = 1; i < total; i++) {\n      const last = points[i - 1];\n      const cur = points[i];\n      const next = points[i + 1];\n      this._seg(contours, last, cur, next, halfThick, closed);\n    }\n\n    if(!closed && cap === 'round') {\n      capRound(contours, this.roundSegments);\n    }\n\n    const ret = [\n      ...contours.left,\n      ...contours.right.reverse(),\n    ];\n\n    return ret;\n  }\n\n  _seg(contours, last, cur, next, halfThick, closed) {\n    const joinBevel = this.lineJoin === 'bevel';\n    const joinRound = this.lineJoin === 'round';\n\n    // get unit direction of line\n    direction(lineA, cur, last);\n\n    // if we don't yet have a normal from previous join,\n    // compute based on line start - end\n    if(!this._normal) {\n      this._normal = create();\n      normal(this._normal, lineA);\n    }\n\n    if(!contours.left.length) {\n      // start\n      extrusions(contours, last, this._normal, halfThick);\n    }\n\n    if(!next) { // no next segment, simple extrusion\n      normal(this._normal, lineA);\n      if(!closed) {\n        extrusions(contours, cur, this._normal, halfThick);\n      } else {\n        extrusions(contours, last, this._normal, halfThick);\n      }\n    } else { // we have a next segment, start with miter\n      // get unit dir of next line\n      direction(lineB, next, cur);\n\n      // stores tangent & miter\n      let miterLen = computeMiter(tangent, miter, lineA, lineB, halfThick);\n      // infinity * 0 cause NaN, fix #7\n      miterLen = Math.min(miterLen, MAX_MITER_VALUE);\n\n      // get orientation\n      const flip = (dot(tangent, this._normal) < 0) ? -1 : 1;\n\n      let bevel = joinBevel || joinRound;\n\n      if(!bevel && this.lineJoin === 'miter') {\n        const limit = miterLen / halfThick;\n        if(limit > this.miterLimit) {\n          // miterLen = this.miterLimit * halfThick;\n          bevel = true;\n        }\n      }\n\n      // let len = Infinity;\n      // if(next && !nextnext) len = Math.hypot(next[0] - cur[0], next[1] - cur[1]);\n\n      if(bevel) {\n        // next two points in our first segment\n        scaleAndAdd(tmp, cur, this._normal, -halfThick * flip);\n        addPoint(contours, tmp, flip);\n        let maxLen = Infinity;\n        if(last) {\n          maxLen = Math.min(maxLen, Math.hypot(cur[0] - last[0], cur[1] - last[1]));\n        }\n        if(next) {\n          maxLen = Math.min(maxLen, Math.hypot(next[0] - cur[0], next[1] - cur[1]));\n        }\n        const len = Math.max(halfThick, Math.min(miterLen, maxLen));\n        scaleAndAdd(tmp, cur, miter, len * flip);\n        addPoint(contours, tmp, -flip);\n\n        if(next) {\n          normal(tmp, lineB);\n          copy(this._normal, tmp); // store normal for next round\n          scaleAndAdd(tmp, cur, tmp, -halfThick * flip);\n          if(joinRound) {\n            const pEnd = clone(tmp);\n            const pStart = flip > 0 ? contours.left[contours.left.length - 1]\n              : contours.right[contours.right.length - 1];\n            const o = clone(cur);\n            const p1 = sub(create(), pStart, o);\n            const p2 = sub(create(), pEnd, o);\n            const delta = Math.PI / this.roundSegments;\n            for(let i = 0; i < this.roundSegments; i++) {\n              rotate(p1, p1, [0, 0], flip * delta);\n              if(Math.sign(cross(tmp, p1, p2)[2]) !== flip) {\n                break;\n              } else {\n                add(tmp, p1, o);\n              }\n              addPoint(contours, tmp, flip);\n            }\n            addPoint(contours, pEnd, flip);\n          } else {\n            addPoint(contours, tmp, flip);\n          }\n        }\n      } else {\n        extrusions(contours, cur, miter, miterLen);\n        copy(this._normal, miter);\n      }\n    }\n  }\n}\n\nfunction addPoint(contours, point, flip) {\n  if(flip > 0) {\n    contours.left.push(clone(point));\n  } else {\n    contours.right.push(clone(point));\n  }\n}\n\nfunction extrusions(contours, point, normal, scale, flip = -1) {\n  // next two points to end our segment\n  scaleAndAdd(tmp, point, normal, -scale);\n  addPoint(contours, tmp, -flip);\n\n  scaleAndAdd(tmp, point, normal, scale);\n  addPoint(contours, tmp, flip);\n}\n\nfunction capRound({left, right}, roundSegments) {\n  const t = create();\n  const normal = create();\n\n  let pStart = left[0];\n  let pEnd = right[0];\n  let center = [0.5 * (pStart[0] + pEnd[0]), 0.5 * (pStart[1] + pEnd[1])];\n  sub(normal, pStart, center);\n\n  for(let i = 1; i <= roundSegments; i++) {\n    const rad = -1 * Math.PI * i / roundSegments;\n    rotate(t, normal, [0, 0], rad);\n    add(tmp, center, t);\n    left.unshift(clone(tmp));\n  }\n\n  pStart = right[right.length - 1];\n  pEnd = left[left.length - 1];\n  center = [0.5 * (pStart[0] + pEnd[0]), 0.5 * (pStart[1] + pEnd[1])];\n  sub(normal, pStart, center);\n\n  for(let i = 1; i <= roundSegments; i++) {\n    const rad = -1 * Math.PI * i / roundSegments;\n    rotate(t, normal, [0, 0], rad);\n    add(tmp, center, t);\n    right.push(clone(tmp));\n  }\n}","import {Stroke} from './stroke';\n\nexport default Stroke;","export function isUnitTransform(m) {\n  return m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1 && m[4] === 0 && m[5] === 0;\n}","/* eslint-disabled */\n/*\n** SGI FREE SOFTWARE LICENSE B (Version 2.0, Sept. 18, 2008) \n** Copyright (C) [dates of first publication] Silicon Graphics, Inc.\n** All Rights Reserved.\n**\n** Permission is hereby granted, free of charge, to any person obtaining a copy\n** of this software and associated documentation files (the \"Software\"), to deal\n** in the Software without restriction, including without limitation the rights\n** to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n** of the Software, and to permit persons to whom the Software is furnished to do so,\n** subject to the following conditions:\n** \n** The above copyright notice including the dates of first publication and either this\n** permission notice or a reference to http://oss.sgi.com/projects/FreeB/ shall be\n** included in all copies or substantial portions of the Software. \n**\n** THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n** INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n** PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL SILICON GRAPHICS, INC.\n** BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n** TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE\n** OR OTHER DEALINGS IN THE SOFTWARE.\n** \n** Except as contained in this notice, the name of Silicon Graphics, Inc. shall not\n** be used in advertising or otherwise to promote the sale, use or other dealings in\n** this Software without prior written authorization from Silicon Graphics, Inc.\n*/\n/*\n** Author: Mikko Mononen, Aug 2013.\n** The code is based on GLU libtess by Eric Veach, July 1994\n*/\n\n\"use strict\";\n\n/* Public API */\n\nvar Tess2 = {};\nvar Geom = {};\n\nmodule.exports = Tess2;\n\nTess2.WINDING_ODD = 0;\nTess2.WINDING_NONZERO = 1;\nTess2.WINDING_POSITIVE = 2;\nTess2.WINDING_NEGATIVE = 3;\nTess2.WINDING_ABS_GEQ_TWO = 4;\n\nTess2.POLYGONS = 0;\nTess2.CONNECTED_POLYGONS = 1;\nTess2.BOUNDARY_CONTOURS = 2;\n\nTess2.tesselate = function(opts) {\n  var debug =  opts.debug || false;\n  var tess = new Tesselator();\n  for (var i = 0; i < opts.contours.length; i++) {\n    tess.addContour(opts.vertexSize || 2, opts.contours[i]);\n  }\n  tess.tesselate(opts.windingRule || Tess2.WINDING_ODD,\n           opts.elementType || Tess2.POLYGONS,\n           opts.polySize || 3,\n           opts.vertexSize || 2,\n           opts.normal || [0,0,1]);\n  return {\n    vertices: tess.vertices,\n    vertexIndices: tess.vertexIndices,\n    vertexCount: tess.vertexCount,\n    elements: tess.elements,\n    elementCount: tess.elementCount,\n    mesh: debug ? tess.mesh : undefined\n  };\n};\n\n/* Internal */\n\nvar assert = function(cond) {\n  if (!cond) {\n    throw \"Assertion Failed!\";\n  }\n}\n\n/* The mesh structure is similar in spirit, notation, and operations\n* to the \"quad-edge\" structure (see L. Guibas and J. Stolfi, Primitives\n* for the manipulation of general subdivisions and the computation of\n* Voronoi diagrams, ACM Transactions on Graphics, 4(2):74-123, April 1985).\n* For a simplified description, see the course notes for CS348a,\n* \"Mathematical Foundations of Computer Graphics\", available at the\n* Stanford bookstore (and taught during the fall quarter).\n* The implementation also borrows a tiny subset of the graph-based approach\n* use in Mantyla's Geometric Work Bench (see M. Mantyla, An Introduction\n* to Sold Modeling, Computer Science Press, Rockville, Maryland, 1988).\n*\n* The fundamental data structure is the \"half-edge\".  Two half-edges\n* go together to make an edge, but they point in opposite directions.\n* Each half-edge has a pointer to its mate (the \"symmetric\" half-edge Sym),\n* its origin vertex (Org), the face on its left side (Lface), and the\n* adjacent half-edges in the CCW direction around the origin vertex\n* (Onext) and around the left face (Lnext).  There is also a \"next\"\n* pointer for the global edge list (see below).\n*\n* The notation used for mesh navigation:\n*  Sym   = the mate of a half-edge (same edge, but opposite direction)\n*  Onext = edge CCW around origin vertex (keep same origin)\n*  Dnext = edge CCW around destination vertex (keep same dest)\n*  Lnext = edge CCW around left face (dest becomes new origin)\n*  Rnext = edge CCW around right face (origin becomes new dest)\n*\n* \"prev\" means to substitute CW for CCW in the definitions above.\n*\n* The mesh keeps global lists of all vertices, faces, and edges,\n* stored as doubly-linked circular lists with a dummy header node.\n* The mesh stores pointers to these dummy headers (vHead, fHead, eHead).\n*\n* The circular edge list is special; since half-edges always occur\n* in pairs (e and e->Sym), each half-edge stores a pointer in only\n* one direction.  Starting at eHead and following the e->next pointers\n* will visit each *edge* once (ie. e or e->Sym, but not both).\n* e->Sym stores a pointer in the opposite direction, thus it is\n* always true that e->Sym->next->Sym->next == e.\n*\n* Each vertex has a pointer to next and previous vertices in the\n* circular list, and a pointer to a half-edge with this vertex as\n* the origin (NULL if this is the dummy header).  There is also a\n* field \"data\" for client data.\n*\n* Each face has a pointer to the next and previous faces in the\n* circular list, and a pointer to a half-edge with this face as\n* the left face (NULL if this is the dummy header).  There is also\n* a field \"data\" for client data.\n*\n* Note that what we call a \"face\" is really a loop; faces may consist\n* of more than one loop (ie. not simply connected), but there is no\n* record of this in the data structure.  The mesh may consist of\n* several disconnected regions, so it may not be possible to visit\n* the entire mesh by starting at a half-edge and traversing the edge\n* structure.\n*\n* The mesh does NOT support isolated vertices; a vertex is deleted along\n* with its last edge.  Similarly when two faces are merged, one of the\n* faces is deleted (see tessMeshDelete below).  For mesh operations,\n* all face (loop) and vertex pointers must not be NULL.  However, once\n* mesh manipulation is finished, TESSmeshZapFace can be used to delete\n* faces of the mesh, one at a time.  All external faces can be \"zapped\"\n* before the mesh is returned to the client; then a NULL face indicates\n* a region which is not part of the output polygon.\n*/\n\nfunction TESSvertex() {\n  this.next = null;\t/* next vertex (never NULL) */\n  this.prev = null;\t/* previous vertex (never NULL) */\n  this.anEdge = null;\t/* a half-edge with this origin */\n\n  /* Internal data (keep hidden) */\n  this.coords = [0,0,0];\t/* vertex location in 3D */\n  this.s = 0.0;\n  this.t = 0.0;\t\t\t/* projection onto the sweep plane */\n  this.pqHandle = 0;\t\t/* to allow deletion from priority queue */\n  this.n = 0;\t\t\t\t/* to allow identify unique vertices */\n  this.idx = 0;\t\t\t/* to allow map result to original verts */\n} \n\nfunction TESSface() {\n  this.next = null;\t\t/* next face (never NULL) */\n  this.prev = null;\t\t/* previous face (never NULL) */\n  this.anEdge = null;\t\t/* a half edge with this left face */\n\n  /* Internal data (keep hidden) */\n  this.trail = null;\t\t/* \"stack\" for conversion to strips */\n  this.n = 0;\t\t\t\t/* to allow identiy unique faces */\n  this.marked = false;\t/* flag for conversion to strips */\n  this.inside = false;\t/* this face is in the polygon interior */\n};\n\nfunction TESShalfEdge(side) {\n  this.next = null;\t\t/* doubly-linked list (prev==Sym->next) */\n  this.Sym = null;\t\t/* same edge, opposite direction */\n  this.Onext = null;\t\t/* next edge CCW around origin */\n  this.Lnext = null;\t\t/* next edge CCW around left face */\n  this.Org = null;\t\t/* origin vertex (Overtex too long) */\n  this.Lface = null;\t\t/* left face */\n\n  /* Internal data (keep hidden) */\n  this.activeRegion = null;\t/* a region with this upper edge (sweep.c) */\n  this.winding = 0;\t\t\t/* change in winding number when crossing\n                   from the right face to the left face */\n  this.side = side;\n};\n\nTESShalfEdge.prototype = {\n  get Rface() { return this.Sym.Lface; },\n  set Rface(v) { this.Sym.Lface = v; },\n  get Dst() { return this.Sym.Org; },\n  set Dst(v) { this.Sym.Org = v; },\n  get Oprev() { return this.Sym.Lnext; },\n  set Oprev(v) { this.Sym.Lnext = v; },\n  get Lprev() { return this.Onext.Sym; },\n  set Lprev(v) { this.Onext.Sym = v; },\n  get Dprev() { return this.Lnext.Sym; },\n  set Dprev(v) { this.Lnext.Sym = v; },\n  get Rprev() { return this.Sym.Onext; },\n  set Rprev(v) { this.Sym.Onext = v; },\n  get Dnext() { return /*this.Rprev*/this.Sym.Onext.Sym; },  /* 3 pointers */\n  set Dnext(v) { /*this.Rprev*/this.Sym.Onext.Sym = v; },  /* 3 pointers */\n  get Rnext() { return /*this.Oprev*/this.Sym.Lnext.Sym; },  /* 3 pointers */\n  set Rnext(v) { /*this.Oprev*/this.Sym.Lnext.Sym = v; },  /* 3 pointers */\n};\n\n\n\nfunction TESSmesh() {\n  var v = new TESSvertex();\n  var f = new TESSface();\n  var e = new TESShalfEdge(0);\n  var eSym = new TESShalfEdge(1);\n\n  v.next = v.prev = v;\n  v.anEdge = null;\n\n  f.next = f.prev = f;\n  f.anEdge = null;\n  f.trail = null;\n  f.marked = false;\n  f.inside = false;\n\n  e.next = e;\n  e.Sym = eSym;\n  e.Onext = null;\n  e.Lnext = null;\n  e.Org = null;\n  e.Lface = null;\n  e.winding = 0;\n  e.activeRegion = null;\n\n  eSym.next = eSym;\n  eSym.Sym = e;\n  eSym.Onext = null;\n  eSym.Lnext = null;\n  eSym.Org = null;\n  eSym.Lface = null;\n  eSym.winding = 0;\n  eSym.activeRegion = null;\n\n  this.vHead = v;\t\t/* dummy header for vertex list */\n  this.fHead = f;\t\t/* dummy header for face list */\n  this.eHead = e;\t\t/* dummy header for edge list */\n  this.eHeadSym = eSym;\t/* and its symmetric counterpart */\n};\n\n/* The mesh operations below have three motivations: completeness,\n* convenience, and efficiency.  The basic mesh operations are MakeEdge,\n* Splice, and Delete.  All the other edge operations can be implemented\n* in terms of these.  The other operations are provided for convenience\n* and/or efficiency.\n*\n* When a face is split or a vertex is added, they are inserted into the\n* global list *before* the existing vertex or face (ie. e->Org or e->Lface).\n* This makes it easier to process all vertices or faces in the global lists\n* without worrying about processing the same data twice.  As a convenience,\n* when a face is split, the \"inside\" flag is copied from the old face.\n* Other internal data (v->data, v->activeRegion, f->data, f->marked,\n* f->trail, e->winding) is set to zero.\n*\n* ********************** Basic Edge Operations **************************\n*\n* tessMeshMakeEdge( mesh ) creates one edge, two vertices, and a loop.\n* The loop (face) consists of the two new half-edges.\n*\n* tessMeshSplice( eOrg, eDst ) is the basic operation for changing the\n* mesh connectivity and topology.  It changes the mesh so that\n*  eOrg->Onext <- OLD( eDst->Onext )\n*  eDst->Onext <- OLD( eOrg->Onext )\n* where OLD(...) means the value before the meshSplice operation.\n*\n* This can have two effects on the vertex structure:\n*  - if eOrg->Org != eDst->Org, the two vertices are merged together\n*  - if eOrg->Org == eDst->Org, the origin is split into two vertices\n* In both cases, eDst->Org is changed and eOrg->Org is untouched.\n*\n* Similarly (and independently) for the face structure,\n*  - if eOrg->Lface == eDst->Lface, one loop is split into two\n*  - if eOrg->Lface != eDst->Lface, two distinct loops are joined into one\n* In both cases, eDst->Lface is changed and eOrg->Lface is unaffected.\n*\n* tessMeshDelete( eDel ) removes the edge eDel.  There are several cases:\n* if (eDel->Lface != eDel->Rface), we join two loops into one; the loop\n* eDel->Lface is deleted.  Otherwise, we are splitting one loop into two;\n* the newly created loop will contain eDel->Dst.  If the deletion of eDel\n* would create isolated vertices, those are deleted as well.\n*\n* ********************** Other Edge Operations **************************\n*\n* tessMeshAddEdgeVertex( eOrg ) creates a new edge eNew such that\n* eNew == eOrg->Lnext, and eNew->Dst is a newly created vertex.\n* eOrg and eNew will have the same left face.\n*\n* tessMeshSplitEdge( eOrg ) splits eOrg into two edges eOrg and eNew,\n* such that eNew == eOrg->Lnext.  The new vertex is eOrg->Dst == eNew->Org.\n* eOrg and eNew will have the same left face.\n*\n* tessMeshConnect( eOrg, eDst ) creates a new edge from eOrg->Dst\n* to eDst->Org, and returns the corresponding half-edge eNew.\n* If eOrg->Lface == eDst->Lface, this splits one loop into two,\n* and the newly created loop is eNew->Lface.  Otherwise, two disjoint\n* loops are merged into one, and the loop eDst->Lface is destroyed.\n*\n* ************************ Other Operations *****************************\n*\n* tessMeshNewMesh() creates a new mesh with no edges, no vertices,\n* and no loops (what we usually call a \"face\").\n*\n* tessMeshUnion( mesh1, mesh2 ) forms the union of all structures in\n* both meshes, and returns the new mesh (the old meshes are destroyed).\n*\n* tessMeshDeleteMesh( mesh ) will free all storage for any valid mesh.\n*\n* tessMeshZapFace( fZap ) destroys a face and removes it from the\n* global face list.  All edges of fZap will have a NULL pointer as their\n* left face.  Any edges which also have a NULL pointer as their right face\n* are deleted entirely (along with any isolated vertices this produces).\n* An entire mesh can be deleted by zapping its faces, one at a time,\n* in any order.  Zapped faces cannot be used in further mesh operations!\n*\n* tessMeshCheckMesh( mesh ) checks a mesh for self-consistency.\n*/\n\nTESSmesh.prototype = {\n\n  /* MakeEdge creates a new pair of half-edges which form their own loop.\n  * No vertex or face structures are allocated, but these must be assigned\n  * before the current edge operation is completed.\n  */\n  //static TESShalfEdge *MakeEdge( TESSmesh* mesh, TESShalfEdge *eNext )\n  makeEdge_: function(eNext) {\n    var e = new TESShalfEdge(0);\n    var eSym = new TESShalfEdge(1);\n\n    /* Make sure eNext points to the first edge of the edge pair */\n    if( eNext.Sym.side < eNext.side ) { eNext = eNext.Sym; }\n\n    /* Insert in circular doubly-linked list before eNext.\n    * Note that the prev pointer is stored in Sym->next.\n    */\n    var ePrev = eNext.Sym.next;\n    eSym.next = ePrev;\n    ePrev.Sym.next = e;\n    e.next = eNext;\n    eNext.Sym.next = eSym;\n\n    e.Sym = eSym;\n    e.Onext = e;\n    e.Lnext = eSym;\n    e.Org = null;\n    e.Lface = null;\n    e.winding = 0;\n    e.activeRegion = null;\n\n    eSym.Sym = e;\n    eSym.Onext = eSym;\n    eSym.Lnext = e;\n    eSym.Org = null;\n    eSym.Lface = null;\n    eSym.winding = 0;\n    eSym.activeRegion = null;\n\n    return e;\n  },\n\n  /* Splice( a, b ) is best described by the Guibas/Stolfi paper or the\n  * CS348a notes (see mesh.h).  Basically it modifies the mesh so that\n  * a->Onext and b->Onext are exchanged.  This can have various effects\n  * depending on whether a and b belong to different face or vertex rings.\n  * For more explanation see tessMeshSplice() below.\n  */\n  // static void Splice( TESShalfEdge *a, TESShalfEdge *b )\n  splice_: function(a, b) {\n    var aOnext = a.Onext;\n    var bOnext = b.Onext;\n    aOnext.Sym.Lnext = b;\n    bOnext.Sym.Lnext = a;\n    a.Onext = bOnext;\n    b.Onext = aOnext;\n  },\n\n  /* MakeVertex( newVertex, eOrig, vNext ) attaches a new vertex and makes it the\n  * origin of all edges in the vertex loop to which eOrig belongs. \"vNext\" gives\n  * a place to insert the new vertex in the global vertex list.  We insert\n  * the new vertex *before* vNext so that algorithms which walk the vertex\n  * list will not see the newly created vertices.\n  */\n  //static void MakeVertex( TESSvertex *newVertex, TESShalfEdge *eOrig, TESSvertex *vNext )\n  makeVertex_: function(newVertex, eOrig, vNext) {\n    var vNew = newVertex;\n    assert(vNew !== null);\n\n    /* insert in circular doubly-linked list before vNext */\n    var vPrev = vNext.prev;\n    vNew.prev = vPrev;\n    vPrev.next = vNew;\n    vNew.next = vNext;\n    vNext.prev = vNew;\n\n    vNew.anEdge = eOrig;\n    /* leave coords, s, t undefined */\n\n    /* fix other edges on this vertex loop */\n    var e = eOrig;\n    do {\n      e.Org = vNew;\n      e = e.Onext;\n    } while(e !== eOrig);\n  },\n\n  /* MakeFace( newFace, eOrig, fNext ) attaches a new face and makes it the left\n  * face of all edges in the face loop to which eOrig belongs.  \"fNext\" gives\n  * a place to insert the new face in the global face list.  We insert\n  * the new face *before* fNext so that algorithms which walk the face\n  * list will not see the newly created faces.\n  */\n  // static void MakeFace( TESSface *newFace, TESShalfEdge *eOrig, TESSface *fNext )\n  makeFace_: function(newFace, eOrig, fNext) {\n    var fNew = newFace;\n    assert(fNew !== null); \n\n    /* insert in circular doubly-linked list before fNext */\n    var fPrev = fNext.prev;\n    fNew.prev = fPrev;\n    fPrev.next = fNew;\n    fNew.next = fNext;\n    fNext.prev = fNew;\n\n    fNew.anEdge = eOrig;\n    fNew.trail = null;\n    fNew.marked = false;\n\n    /* The new face is marked \"inside\" if the old one was.  This is a\n    * convenience for the common case where a face has been split in two.\n    */\n    fNew.inside = fNext.inside;\n\n    /* fix other edges on this face loop */\n    var e = eOrig;\n    do {\n      e.Lface = fNew;\n      e = e.Lnext;\n    } while(e !== eOrig);\n  },\n\n  /* KillEdge( eDel ) destroys an edge (the half-edges eDel and eDel->Sym),\n  * and removes from the global edge list.\n  */\n  //static void KillEdge( TESSmesh *mesh, TESShalfEdge *eDel )\n  killEdge_: function(eDel) {\n    /* Half-edges are allocated in pairs, see EdgePair above */\n    if( eDel.Sym.side < eDel.side ) { eDel = eDel.Sym; }\n\n    /* delete from circular doubly-linked list */\n    var eNext = eDel.next;\n    var ePrev = eDel.Sym.next;\n    eNext.Sym.next = ePrev;\n    ePrev.Sym.next = eNext;\n  },\n\n\n  /* KillVertex( vDel ) destroys a vertex and removes it from the global\n  * vertex list.  It updates the vertex loop to point to a given new vertex.\n  */\n  //static void KillVertex( TESSmesh *mesh, TESSvertex *vDel, TESSvertex *newOrg )\n  killVertex_: function(vDel, newOrg) {\n    var eStart = vDel.anEdge;\n    /* change the origin of all affected edges */\n    var e = eStart;\n    do {\n      e.Org = newOrg;\n      e = e.Onext;\n    } while(e !== eStart);\n\n    /* delete from circular doubly-linked list */\n    var vPrev = vDel.prev;\n    var vNext = vDel.next;\n    vNext.prev = vPrev;\n    vPrev.next = vNext;\n  },\n\n  /* KillFace( fDel ) destroys a face and removes it from the global face\n  * list.  It updates the face loop to point to a given new face.\n  */\n  //static void KillFace( TESSmesh *mesh, TESSface *fDel, TESSface *newLface )\n  killFace_: function(fDel, newLface) {\n    var eStart = fDel.anEdge;\n\n    /* change the left face of all affected edges */\n    var e = eStart;\n    do {\n      e.Lface = newLface;\n      e = e.Lnext;\n    } while(e !== eStart);\n\n    /* delete from circular doubly-linked list */\n    var fPrev = fDel.prev;\n    var fNext = fDel.next;\n    fNext.prev = fPrev;\n    fPrev.next = fNext;\n  },\n\n  /****************** Basic Edge Operations **********************/\n\n  /* tessMeshMakeEdge creates one edge, two vertices, and a loop (face).\n  * The loop consists of the two new half-edges.\n  */\n  //TESShalfEdge *tessMeshMakeEdge( TESSmesh *mesh )\n  makeEdge: function() {\n    var newVertex1 = new TESSvertex();\n    var newVertex2 = new TESSvertex();\n    var newFace = new TESSface();\n    var e = this.makeEdge_( this.eHead);\n    this.makeVertex_( newVertex1, e, this.vHead );\n    this.makeVertex_( newVertex2, e.Sym, this.vHead );\n    this.makeFace_( newFace, e, this.fHead );\n    return e;\n  },\n\n  /* tessMeshSplice( eOrg, eDst ) is the basic operation for changing the\n  * mesh connectivity and topology.  It changes the mesh so that\n  *\teOrg->Onext <- OLD( eDst->Onext )\n  *\teDst->Onext <- OLD( eOrg->Onext )\n  * where OLD(...) means the value before the meshSplice operation.\n  *\n  * This can have two effects on the vertex structure:\n  *  - if eOrg->Org != eDst->Org, the two vertices are merged together\n  *  - if eOrg->Org == eDst->Org, the origin is split into two vertices\n  * In both cases, eDst->Org is changed and eOrg->Org is untouched.\n  *\n  * Similarly (and independently) for the face structure,\n  *  - if eOrg->Lface == eDst->Lface, one loop is split into two\n  *  - if eOrg->Lface != eDst->Lface, two distinct loops are joined into one\n  * In both cases, eDst->Lface is changed and eOrg->Lface is unaffected.\n  *\n  * Some special cases:\n  * If eDst == eOrg, the operation has no effect.\n  * If eDst == eOrg->Lnext, the new face will have a single edge.\n  * If eDst == eOrg->Lprev, the old face will have a single edge.\n  * If eDst == eOrg->Onext, the new vertex will have a single edge.\n  * If eDst == eOrg->Oprev, the old vertex will have a single edge.\n  */\n  //int tessMeshSplice( TESSmesh* mesh, TESShalfEdge *eOrg, TESShalfEdge *eDst )\n  splice: function(eOrg, eDst) {\n    var joiningLoops = false;\n    var joiningVertices = false;\n\n    if( eOrg === eDst ) return;\n\n    if( eDst.Org !== eOrg.Org ) {\n      /* We are merging two disjoint vertices -- destroy eDst->Org */\n      joiningVertices = true;\n      this.killVertex_( eDst.Org, eOrg.Org );\n    }\n    if( eDst.Lface !== eOrg.Lface ) {\n      /* We are connecting two disjoint loops -- destroy eDst->Lface */\n      joiningLoops = true;\n      this.killFace_( eDst.Lface, eOrg.Lface );\n    }\n\n    /* Change the edge structure */\n    this.splice_( eDst, eOrg );\n\n    if( ! joiningVertices ) {\n      var newVertex = new TESSvertex();\n\n      /* We split one vertex into two -- the new vertex is eDst->Org.\n      * Make sure the old vertex points to a valid half-edge.\n      */\n      this.makeVertex_( newVertex, eDst, eOrg.Org );\n      eOrg.Org.anEdge = eOrg;\n    }\n    if( ! joiningLoops ) {\n      var newFace = new TESSface();  \n\n      /* We split one loop into two -- the new loop is eDst->Lface.\n      * Make sure the old face points to a valid half-edge.\n      */\n      this.makeFace_( newFace, eDst, eOrg.Lface );\n      eOrg.Lface.anEdge = eOrg;\n    }\n  },\n\n  /* tessMeshDelete( eDel ) removes the edge eDel.  There are several cases:\n  * if (eDel->Lface != eDel->Rface), we join two loops into one; the loop\n  * eDel->Lface is deleted.  Otherwise, we are splitting one loop into two;\n  * the newly created loop will contain eDel->Dst.  If the deletion of eDel\n  * would create isolated vertices, those are deleted as well.\n  *\n  * This function could be implemented as two calls to tessMeshSplice\n  * plus a few calls to memFree, but this would allocate and delete\n  * unnecessary vertices and faces.\n  */\n  //int tessMeshDelete( TESSmesh *mesh, TESShalfEdge *eDel )\n  delete: function(eDel) {\n    var eDelSym = eDel.Sym;\n    var joiningLoops = false;\n\n    /* First step: disconnect the origin vertex eDel->Org.  We make all\n    * changes to get a consistent mesh in this \"intermediate\" state.\n    */\n    if( eDel.Lface !== eDel.Rface ) {\n      /* We are joining two loops into one -- remove the left face */\n      joiningLoops = true;\n      this.killFace_( eDel.Lface, eDel.Rface );\n    }\n\n    if( eDel.Onext === eDel ) {\n      this.killVertex_( eDel.Org, null );\n    } else {\n      /* Make sure that eDel->Org and eDel->Rface point to valid half-edges */\n      eDel.Rface.anEdge = eDel.Oprev;\n      eDel.Org.anEdge = eDel.Onext;\n\n      this.splice_( eDel, eDel.Oprev );\n      if( ! joiningLoops ) {\n        var newFace = new TESSface();\n\n        /* We are splitting one loop into two -- create a new loop for eDel. */\n        this.makeFace_( newFace, eDel, eDel.Lface );\n      }\n    }\n\n    /* Claim: the mesh is now in a consistent state, except that eDel->Org\n    * may have been deleted.  Now we disconnect eDel->Dst.\n    */\n    if( eDelSym.Onext === eDelSym ) {\n      this.killVertex_( eDelSym.Org, null );\n      this.killFace_( eDelSym.Lface, null );\n    } else {\n      /* Make sure that eDel->Dst and eDel->Lface point to valid half-edges */\n      eDel.Lface.anEdge = eDelSym.Oprev;\n      eDelSym.Org.anEdge = eDelSym.Onext;\n      this.splice_( eDelSym, eDelSym.Oprev );\n    }\n\n    /* Any isolated vertices or faces have already been freed. */\n    this.killEdge_( eDel );\n  },\n\n  /******************** Other Edge Operations **********************/\n\n  /* All these routines can be implemented with the basic edge\n  * operations above.  They are provided for convenience and efficiency.\n  */\n\n\n  /* tessMeshAddEdgeVertex( eOrg ) creates a new edge eNew such that\n  * eNew == eOrg->Lnext, and eNew->Dst is a newly created vertex.\n  * eOrg and eNew will have the same left face.\n  */\n  // TESShalfEdge *tessMeshAddEdgeVertex( TESSmesh *mesh, TESShalfEdge *eOrg );\n  addEdgeVertex: function(eOrg) {\n    var eNew = this.makeEdge_( eOrg );\n    var eNewSym = eNew.Sym;\n\n    /* Connect the new edge appropriately */\n    this.splice_( eNew, eOrg.Lnext );\n\n    /* Set the vertex and face information */\n    eNew.Org = eOrg.Dst;\n\n    var newVertex = new TESSvertex();\n    this.makeVertex_( newVertex, eNewSym, eNew.Org );\n\n    eNew.Lface = eNewSym.Lface = eOrg.Lface;\n\n    return eNew;\n  },\n\n\n  /* tessMeshSplitEdge( eOrg ) splits eOrg into two edges eOrg and eNew,\n  * such that eNew == eOrg->Lnext.  The new vertex is eOrg->Dst == eNew->Org.\n  * eOrg and eNew will have the same left face.\n  */\n  // TESShalfEdge *tessMeshSplitEdge( TESSmesh *mesh, TESShalfEdge *eOrg );\n  splitEdge: function(eOrg, eDst) {\n    var tempHalfEdge = this.addEdgeVertex( eOrg );\n    var eNew = tempHalfEdge.Sym;\n\n    /* Disconnect eOrg from eOrg->Dst and connect it to eNew->Org */\n    this.splice_( eOrg.Sym, eOrg.Sym.Oprev );\n    this.splice_( eOrg.Sym, eNew );\n\n    /* Set the vertex and face information */\n    eOrg.Dst = eNew.Org;\n    eNew.Dst.anEdge = eNew.Sym;\t/* may have pointed to eOrg->Sym */\n    eNew.Rface = eOrg.Rface;\n    eNew.winding = eOrg.winding;\t/* copy old winding information */\n    eNew.Sym.winding = eOrg.Sym.winding;\n\n    return eNew;\n  },\n\n\n  /* tessMeshConnect( eOrg, eDst ) creates a new edge from eOrg->Dst\n  * to eDst->Org, and returns the corresponding half-edge eNew.\n  * If eOrg->Lface == eDst->Lface, this splits one loop into two,\n  * and the newly created loop is eNew->Lface.  Otherwise, two disjoint\n  * loops are merged into one, and the loop eDst->Lface is destroyed.\n  *\n  * If (eOrg == eDst), the new face will have only two edges.\n  * If (eOrg->Lnext == eDst), the old face is reduced to a single edge.\n  * If (eOrg->Lnext->Lnext == eDst), the old face is reduced to two edges.\n  */\n\n  // TESShalfEdge *tessMeshConnect( TESSmesh *mesh, TESShalfEdge *eOrg, TESShalfEdge *eDst );\n  connect: function(eOrg, eDst) {\n    var joiningLoops = false;  \n    var eNew = this.makeEdge_( eOrg );\n    var eNewSym = eNew.Sym;\n\n    if( eDst.Lface !== eOrg.Lface ) {\n      /* We are connecting two disjoint loops -- destroy eDst->Lface */\n      joiningLoops = true;\n      this.killFace_( eDst.Lface, eOrg.Lface );\n    }\n\n    /* Connect the new edge appropriately */\n    this.splice_( eNew, eOrg.Lnext );\n    this.splice_( eNewSym, eDst );\n\n    /* Set the vertex and face information */\n    eNew.Org = eOrg.Dst;\n    eNewSym.Org = eDst.Org;\n    eNew.Lface = eNewSym.Lface = eOrg.Lface;\n\n    /* Make sure the old face points to a valid half-edge */\n    eOrg.Lface.anEdge = eNewSym;\n\n    if( ! joiningLoops ) {\n      var newFace = new TESSface();\n      /* We split one loop into two -- the new loop is eNew->Lface */\n      this.makeFace_( newFace, eNew, eOrg.Lface );\n    }\n    return eNew;\n  },\n\n  /* tessMeshZapFace( fZap ) destroys a face and removes it from the\n  * global face list.  All edges of fZap will have a NULL pointer as their\n  * left face.  Any edges which also have a NULL pointer as their right face\n  * are deleted entirely (along with any isolated vertices this produces).\n  * An entire mesh can be deleted by zapping its faces, one at a time,\n  * in any order.  Zapped faces cannot be used in further mesh operations!\n  */\n  zapFace: function( fZap )\n  {\n    var eStart = fZap.anEdge;\n    var e, eNext, eSym;\n    var fPrev, fNext;\n\n    /* walk around face, deleting edges whose right face is also NULL */\n    eNext = eStart.Lnext;\n    do {\n      e = eNext;\n      eNext = e.Lnext;\n\n      e.Lface = null;\n      if( e.Rface === null ) {\n        /* delete the edge -- see TESSmeshDelete above */\n\n        if( e.Onext === e ) {\n          this.killVertex_( e.Org, null );\n        } else {\n          /* Make sure that e->Org points to a valid half-edge */\n          e.Org.anEdge = e.Onext;\n          this.splice_( e, e.Oprev );\n        }\n        eSym = e.Sym;\n        if( eSym.Onext === eSym ) {\n          this.killVertex_( eSym.Org, null );\n        } else {\n          /* Make sure that eSym->Org points to a valid half-edge */\n          eSym.Org.anEdge = eSym.Onext;\n          this.splice_( eSym, eSym.Oprev );\n        }\n        this.killEdge_( e );\n      }\n    } while( e != eStart );\n\n    /* delete from circular doubly-linked list */\n    fPrev = fZap.prev;\n    fNext = fZap.next;\n    fNext.prev = fPrev;\n    fPrev.next = fNext;\n  },\n\n  countFaceVerts_: function(f) {\n    var eCur = f.anEdge;\n    var n = 0;\n    do\n    {\n      n++;\n      eCur = eCur.Lnext;\n    }\n    while (eCur !== f.anEdge);\n    return n;\n  },\n\n  //int tessMeshMergeConvexFaces( TESSmesh *mesh, int maxVertsPerFace )\n  mergeConvexFaces: function(maxVertsPerFace) {\n    var f;\n    var eCur, eNext, eSym;\n    var vStart;\n    var curNv, symNv;\n\n    for( f = this.fHead.next; f !== this.fHead; f = f.next )\n    {\n      // Skip faces which are outside the result.\n      if( !f.inside )\n        continue;\n\n      eCur = f.anEdge;\n      vStart = eCur.Org;\n        \n      while (true)\n      {\n        eNext = eCur.Lnext;\n        eSym = eCur.Sym;\n\n        // Try to merge if the neighbour face is valid.\n        if( eSym && eSym.Lface && eSym.Lface.inside )\n        {\n          // Try to merge the neighbour faces if the resulting polygons\n          // does not exceed maximum number of vertices.\n          curNv = this.countFaceVerts_( f );\n          symNv = this.countFaceVerts_( eSym.Lface );\n          if( (curNv+symNv-2) <= maxVertsPerFace )\n          {\n            // Merge if the resulting poly is convex.\n            if( Geom.vertCCW( eCur.Lprev.Org, eCur.Org, eSym.Lnext.Lnext.Org ) &&\n              Geom.vertCCW( eSym.Lprev.Org, eSym.Org, eCur.Lnext.Lnext.Org ) )\n            {\n              eNext = eSym.Lnext;\n              this.delete( eSym );\n              eCur = null;\n              eSym = null;\n            }\n          }\n        }\n        \n        if( eCur && eCur.Lnext.Org === vStart )\n          break;\n          \n        // Continue to next edge.\n        eCur = eNext;\n      }\n    }\n    \n    return true;\n  },\n\n  /* tessMeshCheckMesh( mesh ) checks a mesh for self-consistency.\n  */\n  check: function() {\n    var fHead = this.fHead;\n    var vHead = this.vHead;\n    var eHead = this.eHead;\n    var f, fPrev, v, vPrev, e, ePrev;\n\n    fPrev = fHead;\n    for( fPrev = fHead ; (f = fPrev.next) !== fHead; fPrev = f) {\n      assert( f.prev === fPrev );\n      e = f.anEdge;\n      do {\n        assert( e.Sym !== e );\n        assert( e.Sym.Sym === e );\n        assert( e.Lnext.Onext.Sym === e );\n        assert( e.Onext.Sym.Lnext === e );\n        assert( e.Lface === f );\n        e = e.Lnext;\n      } while( e !== f.anEdge );\n    }\n    assert( f.prev === fPrev && f.anEdge === null );\n\n    vPrev = vHead;\n    for( vPrev = vHead ; (v = vPrev.next) !== vHead; vPrev = v) {\n      assert( v.prev === vPrev );\n      e = v.anEdge;\n      do {\n        assert( e.Sym !== e );\n        assert( e.Sym.Sym === e );\n        assert( e.Lnext.Onext.Sym === e );\n        assert( e.Onext.Sym.Lnext === e );\n        assert( e.Org === v );\n        e = e.Onext;\n      } while( e !== v.anEdge );\n    }\n    assert( v.prev === vPrev && v.anEdge === null );\n\n    ePrev = eHead;\n    for( ePrev = eHead ; (e = ePrev.next) !== eHead; ePrev = e) {\n      assert( e.Sym.next === ePrev.Sym );\n      assert( e.Sym !== e );\n      assert( e.Sym.Sym === e );\n      assert( e.Org !== null );\n      assert( e.Dst !== null );\n      assert( e.Lnext.Onext.Sym === e );\n      assert( e.Onext.Sym.Lnext === e );\n    }\n    assert( e.Sym.next === ePrev.Sym\n      && e.Sym === this.eHeadSym\n      && e.Sym.Sym === e\n      && e.Org === null && e.Dst === null\n      && e.Lface === null && e.Rface === null );\n  }\n\n};\n\nGeom.vertEq = function(u,v) {\n  return (u.s === v.s && u.t === v.t);\n};\n\n/* Returns TRUE if u is lexicographically <= v. */\nGeom.vertLeq = function(u,v) {\n  return ((u.s < v.s) || (u.s === v.s && u.t <= v.t));\n};\n\n/* Versions of VertLeq, EdgeSign, EdgeEval with s and t transposed. */\nGeom.transLeq = function(u,v) {\n  return ((u.t < v.t) || (u.t === v.t && u.s <= v.s));\n};\n\nGeom.edgeGoesLeft = function(e) {\n  return Geom.vertLeq( e.Dst, e.Org );\n};\n\nGeom.edgeGoesRight = function(e) {\n  return Geom.vertLeq( e.Org, e.Dst );\n};\n\nGeom.vertL1dist = function(u,v) {\n  return (Math.abs(u.s - v.s) + Math.abs(u.t - v.t));\n};\n\n//TESSreal tesedgeEval( TESSvertex *u, TESSvertex *v, TESSvertex *w )\nGeom.edgeEval = function( u, v, w ) {\n  /* Given three vertices u,v,w such that VertLeq(u,v) && VertLeq(v,w),\n  * evaluates the t-coord of the edge uw at the s-coord of the vertex v.\n  * Returns v->t - (uw)(v->s), ie. the signed distance from uw to v.\n  * If uw is vertical (and thus passes thru v), the result is zero.\n  *\n  * The calculation is extremely accurate and stable, even when v\n  * is very close to u or w.  In particular if we set v->t = 0 and\n  * let r be the negated result (this evaluates (uw)(v->s)), then\n  * r is guaranteed to satisfy MIN(u->t,w->t) <= r <= MAX(u->t,w->t).\n  */\n  assert( Geom.vertLeq( u, v ) && Geom.vertLeq( v, w ));\n\n  var gapL = v.s - u.s;\n  var gapR = w.s - v.s;\n\n  if( gapL + gapR > 0.0 ) {\n    if( gapL < gapR ) {\n      return (v.t - u.t) + (u.t - w.t) * (gapL / (gapL + gapR));\n    } else {\n      return (v.t - w.t) + (w.t - u.t) * (gapR / (gapL + gapR));\n    }\n  }\n  /* vertical line */\n  return 0.0;\n};\n\n//TESSreal tesedgeSign( TESSvertex *u, TESSvertex *v, TESSvertex *w )\nGeom.edgeSign = function( u, v, w ) {\n  /* Returns a number whose sign matches EdgeEval(u,v,w) but which\n  * is cheaper to evaluate.  Returns > 0, == 0 , or < 0\n  * as v is above, on, or below the edge uw.\n  */\n  assert( Geom.vertLeq( u, v ) && Geom.vertLeq( v, w ));\n\n  var gapL = v.s - u.s;\n  var gapR = w.s - v.s;\n\n  if( gapL + gapR > 0.0 ) {\n    return (v.t - w.t) * gapL + (v.t - u.t) * gapR;\n  }\n  /* vertical line */\n  return 0.0;\n};\n\n\n/***********************************************************************\n* Define versions of EdgeSign, EdgeEval with s and t transposed.\n*/\n\n//TESSreal testransEval( TESSvertex *u, TESSvertex *v, TESSvertex *w )\nGeom.transEval = function( u, v, w ) {\n  /* Given three vertices u,v,w such that TransLeq(u,v) && TransLeq(v,w),\n  * evaluates the t-coord of the edge uw at the s-coord of the vertex v.\n  * Returns v->s - (uw)(v->t), ie. the signed distance from uw to v.\n  * If uw is vertical (and thus passes thru v), the result is zero.\n  *\n  * The calculation is extremely accurate and stable, even when v\n  * is very close to u or w.  In particular if we set v->s = 0 and\n  * let r be the negated result (this evaluates (uw)(v->t)), then\n  * r is guaranteed to satisfy MIN(u->s,w->s) <= r <= MAX(u->s,w->s).\n  */\n  assert( Geom.transLeq( u, v ) && Geom.transLeq( v, w ));\n\n  var gapL = v.t - u.t;\n  var gapR = w.t - v.t;\n\n  if( gapL + gapR > 0.0 ) {\n    if( gapL < gapR ) {\n      return (v.s - u.s) + (u.s - w.s) * (gapL / (gapL + gapR));\n    } else {\n      return (v.s - w.s) + (w.s - u.s) * (gapR / (gapL + gapR));\n    }\n  }\n  /* vertical line */\n  return 0.0;\n};\n\n//TESSreal testransSign( TESSvertex *u, TESSvertex *v, TESSvertex *w )\nGeom.transSign = function( u, v, w ) {\n  /* Returns a number whose sign matches TransEval(u,v,w) but which\n  * is cheaper to evaluate.  Returns > 0, == 0 , or < 0\n  * as v is above, on, or below the edge uw.\n  */\n  assert( Geom.transLeq( u, v ) && Geom.transLeq( v, w ));\n\n  var gapL = v.t - u.t;\n  var gapR = w.t - v.t;\n\n  if( gapL + gapR > 0.0 ) {\n    return (v.s - w.s) * gapL + (v.s - u.s) * gapR;\n  }\n  /* vertical line */\n  return 0.0;\n};\n\n\n//int tesvertCCW( TESSvertex *u, TESSvertex *v, TESSvertex *w )\nGeom.vertCCW = function( u, v, w ) {\n  /* For almost-degenerate situations, the results are not reliable.\n  * Unless the floating-point arithmetic can be performed without\n  * rounding errors, *any* implementation will give incorrect results\n  * on some degenerate inputs, so the client must have some way to\n  * handle this situation.\n  */\n  return (u.s*(v.t - w.t) + v.s*(w.t - u.t) + w.s*(u.t - v.t)) >= 0.0;\n};\n\n/* Given parameters a,x,b,y returns the value (b*x+a*y)/(a+b),\n* or (x+y)/2 if a==b==0.  It requires that a,b >= 0, and enforces\n* this in the rare case that one argument is slightly negative.\n* The implementation is extremely stable numerically.\n* In particular it guarantees that the result r satisfies\n* MIN(x,y) <= r <= MAX(x,y), and the results are very accurate\n* even when a and b differ greatly in magnitude.\n*/\nGeom.interpolate = function(a,x,b,y) {\n  return (a = (a < 0) ? 0 : a, b = (b < 0) ? 0 : b, ((a <= b) ? ((b === 0) ? ((x+y) / 2) : (x + (y-x) * (a/(a+b)))) : (y + (x-y) * (b/(a+b)))));\n};\n\n/*\n#ifndef FOR_TRITE_TEST_PROGRAM\n#define Interpolate(a,x,b,y)\tRealInterpolate(a,x,b,y)\n#else\n\n// Claim: the ONLY property the sweep algorithm relies on is that\n// MIN(x,y) <= r <= MAX(x,y).  This is a nasty way to test that.\n#include <stdlib.h>\nextern int RandomInterpolate;\n\ndouble Interpolate( double a, double x, double b, double y)\n{\n  printf(\"*********************%d\\n\",RandomInterpolate);\n  if( RandomInterpolate ) {\n    a = 1.2 * drand48() - 0.1;\n    a = (a < 0) ? 0 : ((a > 1) ? 1 : a);\n    b = 1.0 - a;\n  }\n  return RealInterpolate(a,x,b,y);\n}\n#endif*/\n\nGeom.intersect = function( o1, d1, o2, d2, v ) {\n  /* Given edges (o1,d1) and (o2,d2), compute their point of intersection.\n  * The computed point is guaranteed to lie in the intersection of the\n  * bounding rectangles defined by each edge.\n  */\n  var z1, z2;\n  var t;\n\n  /* This is certainly not the most efficient way to find the intersection\n  * of two line segments, but it is very numerically stable.\n  *\n  * Strategy: find the two middle vertices in the VertLeq ordering,\n  * and interpolate the intersection s-value from these.  Then repeat\n  * using the TransLeq ordering to find the intersection t-value.\n  */\n\n  if( ! Geom.vertLeq( o1, d1 )) { t = o1; o1 = d1; d1 = t; } //swap( o1, d1 ); }\n  if( ! Geom.vertLeq( o2, d2 )) { t = o2; o2 = d2; d2 = t; } //swap( o2, d2 ); }\n  if( ! Geom.vertLeq( o1, o2 )) { t = o1; o1 = o2; o2 = t; t = d1; d1 = d2; d2 = t; }//swap( o1, o2 ); swap( d1, d2 ); }\n\n  if( ! Geom.vertLeq( o2, d1 )) {\n    /* Technically, no intersection -- do our best */\n    v.s = (o2.s + d1.s) / 2;\n  } else if( Geom.vertLeq( d1, d2 )) {\n    /* Interpolate between o2 and d1 */\n    z1 = Geom.edgeEval( o1, o2, d1 );\n    z2 = Geom.edgeEval( o2, d1, d2 );\n    if( z1+z2 < 0 ) { z1 = -z1; z2 = -z2; }\n    v.s = Geom.interpolate( z1, o2.s, z2, d1.s );\n  } else {\n    /* Interpolate between o2 and d2 */\n    z1 = Geom.edgeSign( o1, o2, d1 );\n    z2 = -Geom.edgeSign( o1, d2, d1 );\n    if( z1+z2 < 0 ) { z1 = -z1; z2 = -z2; }\n    v.s = Geom.interpolate( z1, o2.s, z2, d2.s );\n  }\n\n  /* Now repeat the process for t */\n\n  if( ! Geom.transLeq( o1, d1 )) { t = o1; o1 = d1; d1 = t; } //swap( o1, d1 ); }\n  if( ! Geom.transLeq( o2, d2 )) { t = o2; o2 = d2; d2 = t; } //swap( o2, d2 ); }\n  if( ! Geom.transLeq( o1, o2 )) { t = o1; o1 = o2; o2 = t; t = d1; d1 = d2; d2 = t; } //swap( o1, o2 ); swap( d1, d2 ); }\n\n  if( ! Geom.transLeq( o2, d1 )) {\n    /* Technically, no intersection -- do our best */\n    v.t = (o2.t + d1.t) / 2;\n  } else if( Geom.transLeq( d1, d2 )) {\n    /* Interpolate between o2 and d1 */\n    z1 = Geom.transEval( o1, o2, d1 );\n    z2 = Geom.transEval( o2, d1, d2 );\n    if( z1+z2 < 0 ) { z1 = -z1; z2 = -z2; }\n    v.t = Geom.interpolate( z1, o2.t, z2, d1.t );\n  } else {\n    /* Interpolate between o2 and d2 */\n    z1 = Geom.transSign( o1, o2, d1 );\n    z2 = -Geom.transSign( o1, d2, d1 );\n    if( z1+z2 < 0 ) { z1 = -z1; z2 = -z2; }\n    v.t = Geom.interpolate( z1, o2.t, z2, d2.t );\n  }\n};\n\n\n\nfunction DictNode() {\n  this.key = null;\n  this.next = null;\n  this.prev = null;\n};\n\nfunction Dict(frame, leq) {\n  this.head = new DictNode();\n  this.head.next = this.head;\n  this.head.prev = this.head;\n  this.frame = frame;\n  this.leq = leq;\n};\n\nDict.prototype = {\n  min: function() {\n    return this.head.next;\n  },\n\n  max: function() {\n    return this.head.prev;\n  },\n\n  insert: function(k) {\n    return this.insertBefore(this.head, k);\n  },\n\n  search: function(key) {\n    /* Search returns the node with the smallest key greater than or equal\n    * to the given key.  If there is no such key, returns a node whose\n    * key is NULL.  Similarly, Succ(Max(d)) has a NULL key, etc.\n    */\n    var node = this.head;\n    do {\n      node = node.next;\n    } while( node.key !== null && ! this.leq(this.frame, key, node.key));\n\n    return node;\n  },\n\n  insertBefore: function(node, key) {\n    do {\n      node = node.prev;\n    } while( node.key !== null && ! this.leq(this.frame, node.key, key));\n\n    var newNode = new DictNode();\n    newNode.key = key;\n    newNode.next = node.next;\n    node.next.prev = newNode;\n    newNode.prev = node;\n    node.next = newNode;\n\n    return newNode;\n  },\n\n  delete: function(node) {\n    node.next.prev = node.prev;\n    node.prev.next = node.next;\n  }\n};\n\n\nfunction PQnode() {\n  this.handle = null;\n}\n\nfunction PQhandleElem() {\n  this.key = null;\n  this.node = null;\n}\n\nfunction PriorityQ(size, leq) {\n  this.size = 0;\n  this.max = size;\n\n  this.nodes = [];\n  this.nodes.length = size+1;\n  var i;\n  \n  for (i = 0; i < this.nodes.length; i++)\n    this.nodes[i] = new PQnode();\n\n  this.handles = [];\n  this.handles.length = size+1;\n  for (i = 0; i < this.handles.length; i++)\n    this.handles[i] = new PQhandleElem();\n\n  this.initialized = false;\n  this.freeList = 0;\n  this.leq = leq;\n\n  this.nodes[1].handle = 1;\t/* so that Minimum() returns NULL */\n  this.handles[1].key = null;\n};\n\nPriorityQ.prototype = {\n\n  floatDown_: function( curr )\n  {\n    var n = this.nodes;\n    var h = this.handles;\n    var hCurr, hChild;\n    var child;\n\n    hCurr = n[curr].handle;\n    for( ;; ) {\n      child = curr << 1;\n      if( child < this.size && this.leq( h[n[child+1].handle].key, h[n[child].handle].key )) {\n        ++child;\n      }\n\n      assert(child <= this.max);\n\n      hChild = n[child].handle;\n      if( child > this.size || this.leq( h[hCurr].key, h[hChild].key )) {\n        n[curr].handle = hCurr;\n        h[hCurr].node = curr;\n        break;\n      }\n      n[curr].handle = hChild;\n      h[hChild].node = curr;\n      curr = child;\n    }\n  },\n\n  floatUp_: function( curr )\n  {\n    var n = this.nodes;\n    var h = this.handles;\n    var hCurr, hParent;\n    var parent;\n\n    hCurr = n[curr].handle;\n    for( ;; ) {\n      parent = curr >> 1;\n      hParent = n[parent].handle;\n      if( parent === 0 || this.leq( h[hParent].key, h[hCurr].key )) {\n        n[curr].handle = hCurr;\n        h[hCurr].node = curr;\n        break;\n      }\n      n[curr].handle = hParent;\n      h[hParent].node = curr;\n      curr = parent;\n    }\n  },\n\n  init: function() {\n    /* This method of building a heap is O(n), rather than O(n lg n). */\n    for( var i = this.size; i >= 1; --i ) {\n      this.floatDown_( i );\n    }\n    this.initialized = true;\n  },\n\n  min: function() {\n    return this.handles[this.nodes[1].handle].key;\n  },\n\n  /* really pqHeapInsert */\n  /* returns INV_HANDLE iff out of memory */\n  //PQhandle pqHeapInsert( TESSalloc* alloc, PriorityQHeap *pq, PQkey keyNew )\n  insert: function(keyNew)\n  {\n    var curr;\n    var free;\n\n    curr = ++this.size;\n    if( (curr*2) > this.max ) {\n      this.max *= 2;\n      var i;\n      var s;\n      s = this.nodes.length;\n      this.nodes.length = this.max+1;\n      for (i = s; i < this.nodes.length; i++)\n        this.nodes[i] = new PQnode();\n\n      s = this.handles.length;\n      this.handles.length = this.max+1;\n      for (i = s; i < this.handles.length; i++)\n        this.handles[i] = new PQhandleElem();\n    }\n\n    if( this.freeList === 0 ) {\n      free = curr;\n    } else {\n      free = this.freeList;\n      this.freeList = this.handles[free].node;\n    }\n\n    this.nodes[curr].handle = free;\n    this.handles[free].node = curr;\n    this.handles[free].key = keyNew;\n\n    if( this.initialized ) {\n      this.floatUp_( curr );\n    }\n    return free;\n  },\n\n  //PQkey pqHeapExtractMin( PriorityQHeap *pq )\n  extractMin: function() {\n    var n = this.nodes;\n    var h = this.handles;\n    var hMin = n[1].handle;\n    var min = h[hMin].key;\n\n    if( this.size > 0 ) {\n      n[1].handle = n[this.size].handle;\n      h[n[1].handle].node = 1;\n\n      h[hMin].key = null;\n      h[hMin].node = this.freeList;\n      this.freeList = hMin;\n\n      --this.size;\n      if( this.size > 0 ) {\n        this.floatDown_( 1 );\n      }\n    }\n    return min;\n  },\n\n  delete: function( hCurr ) {\n    var n = this.nodes;\n    var h = this.handles;\n    var curr;\n\n    assert( hCurr >= 1 && hCurr <= this.max && h[hCurr].key !== null );\n\n    curr = h[hCurr].node;\n    n[curr].handle = n[this.size].handle;\n    h[n[curr].handle].node = curr;\n\n    --this.size;\n    if( curr <= this.size ) {\n      if( curr <= 1 || this.leq( h[n[curr>>1].handle].key, h[n[curr].handle].key )) {\n        this.floatDown_( curr );\n      } else {\n        this.floatUp_( curr );\n      }\n    }\n    h[hCurr].key = null;\n    h[hCurr].node = this.freeList;\n    this.freeList = hCurr;\n  }\n};\n\n\n/* For each pair of adjacent edges crossing the sweep line, there is\n* an ActiveRegion to represent the region between them.  The active\n* regions are kept in sorted order in a dynamic dictionary.  As the\n* sweep line crosses each vertex, we update the affected regions.\n*/\n\nfunction ActiveRegion() {\n  this.eUp = null;\t\t/* upper edge, directed right to left */\n  this.nodeUp = null;\t/* dictionary node corresponding to eUp */\n  this.windingNumber = 0;\t/* used to determine which regions are\n              * inside the polygon */\n  this.inside = false;\t\t/* is this region inside the polygon? */\n  this.sentinel = false;\t/* marks fake edges at t = +/-infinity */\n  this.dirty = false;\t\t/* marks regions where the upper or lower\n          * edge has changed, but we haven't checked\n          * whether they intersect yet */\n  this.fixUpperEdge = false;\t/* marks temporary edges introduced when\n            * we process a \"right vertex\" (one without\n            * any edges leaving to the right) */\n};\n\nvar Sweep = {};\n\nSweep.regionBelow = function(r) {\n  return r.nodeUp.prev.key;\n}\n\nSweep.regionAbove = function(r) {\n  return r.nodeUp.next.key;\n}\n\nSweep.debugEvent = function( tess ) {\n  // empty\n}\n\n\n/*\n* Invariants for the Edge Dictionary.\n* - each pair of adjacent edges e2=Succ(e1) satisfies EdgeLeq(e1,e2)\n*   at any valid location of the sweep event\n* - if EdgeLeq(e2,e1) as well (at any valid sweep event), then e1 and e2\n*   share a common endpoint\n* - for each e, e->Dst has been processed, but not e->Org\n* - each edge e satisfies VertLeq(e->Dst,event) && VertLeq(event,e->Org)\n*   where \"event\" is the current sweep line event.\n* - no edge e has zero length\n*\n* Invariants for the Mesh (the processed portion).\n* - the portion of the mesh left of the sweep line is a planar graph,\n*   ie. there is *some* way to embed it in the plane\n* - no processed edge has zero length\n* - no two processed vertices have identical coordinates\n* - each \"inside\" region is monotone, ie. can be broken into two chains\n*   of monotonically increasing vertices according to VertLeq(v1,v2)\n*   - a non-invariant: these chains may intersect (very slightly)\n*\n* Invariants for the Sweep.\n* - if none of the edges incident to the event vertex have an activeRegion\n*   (ie. none of these edges are in the edge dictionary), then the vertex\n*   has only right-going edges.\n* - if an edge is marked \"fixUpperEdge\" (it is a temporary edge introduced\n*   by ConnectRightVertex), then it is the only right-going edge from\n*   its associated vertex.  (This says that these edges exist only\n*   when it is necessary.)\n*/\n\n/* When we merge two edges into one, we need to compute the combined\n* winding of the new edge.\n*/\nSweep.addWinding = function(eDst,eSrc) {\n  eDst.winding += eSrc.winding;\n  eDst.Sym.winding += eSrc.Sym.winding;\n}\n\n\n//static int EdgeLeq( TESStesselator *tess, ActiveRegion *reg1, ActiveRegion *reg2 )\nSweep.edgeLeq = function( tess, reg1, reg2 ) {\n  /*\n  * Both edges must be directed from right to left (this is the canonical\n  * direction for the upper edge of each region).\n  *\n  * The strategy is to evaluate a \"t\" value for each edge at the\n  * current sweep line position, given by tess->event.  The calculations\n  * are designed to be very stable, but of course they are not perfect.\n  *\n  * Special case: if both edge destinations are at the sweep event,\n  * we sort the edges by slope (they would otherwise compare equally).\n  */\n  var ev = tess.event;\n  var t1, t2;\n\n  var e1 = reg1.eUp;\n  var e2 = reg2.eUp;\n\n  if( e1.Dst === ev ) {\n    if( e2.Dst === ev ) {\n      /* Two edges right of the sweep line which meet at the sweep event.\n      * Sort them by slope.\n      */\n      if( Geom.vertLeq( e1.Org, e2.Org )) {\n        return Geom.edgeSign( e2.Dst, e1.Org, e2.Org ) <= 0;\n      }\n      return Geom.edgeSign( e1.Dst, e2.Org, e1.Org ) >= 0;\n    }\n    return Geom.edgeSign( e2.Dst, ev, e2.Org ) <= 0;\n  }\n  if( e2.Dst === ev ) {\n    return Geom.edgeSign( e1.Dst, ev, e1.Org ) >= 0;\n  }\n\n  /* General case - compute signed distance *from* e1, e2 to event */\n  var t1 = Geom.edgeEval( e1.Dst, ev, e1.Org );\n  var t2 = Geom.edgeEval( e2.Dst, ev, e2.Org );\n  return (t1 >= t2);\n}\n\n\n//static void DeleteRegion( TESStesselator *tess, ActiveRegion *reg )\nSweep.deleteRegion = function( tess, reg ) {\n  if( reg.fixUpperEdge ) {\n    /* It was created with zero winding number, so it better be\n    * deleted with zero winding number (ie. it better not get merged\n    * with a real edge).\n    */\n    assert( reg.eUp.winding === 0 );\n  }\n  reg.eUp.activeRegion = null;\n  tess.dict.delete( reg.nodeUp );\n}\n\n//static int FixUpperEdge( TESStesselator *tess, ActiveRegion *reg, TESShalfEdge *newEdge )\nSweep.fixUpperEdge = function( tess, reg, newEdge ) {\n  /*\n  * Replace an upper edge which needs fixing (see ConnectRightVertex).\n  */\n  assert( reg.fixUpperEdge );\n  tess.mesh.delete( reg.eUp );\n  reg.fixUpperEdge = false;\n  reg.eUp = newEdge;\n  newEdge.activeRegion = reg;\n}\n\n//static ActiveRegion *TopLeftRegion( TESStesselator *tess, ActiveRegion *reg )\nSweep.topLeftRegion = function( tess, reg ) {\n  var org = reg.eUp.Org;\n  var e;\n\n  /* Find the region above the uppermost edge with the same origin */\n  do {\n    reg = Sweep.regionAbove( reg );\n  } while( reg.eUp.Org === org );\n\n  /* If the edge above was a temporary edge introduced by ConnectRightVertex,\n  * now is the time to fix it.\n  */\n  if( reg.fixUpperEdge ) {\n    e = tess.mesh.connect( Sweep.regionBelow(reg).eUp.Sym, reg.eUp.Lnext );\n    if (e === null) return null;\n    Sweep.fixUpperEdge( tess, reg, e );\n    reg = Sweep.regionAbove( reg );\n  }\n  return reg;\n}\n\n//static ActiveRegion *TopRightRegion( ActiveRegion *reg )\nSweep.topRightRegion = function( reg )\n{\n  var dst = reg.eUp.Dst;\n  /* Find the region above the uppermost edge with the same destination */\n  do {\n    reg = Sweep.regionAbove( reg );\n  } while( reg.eUp.Dst === dst );\n  return reg;\n}\n\n//static ActiveRegion *AddRegionBelow( TESStesselator *tess, ActiveRegion *regAbove, TESShalfEdge *eNewUp )\nSweep.addRegionBelow = function( tess, regAbove, eNewUp ) {\n  /*\n  * Add a new active region to the sweep line, *somewhere* below \"regAbove\"\n  * (according to where the new edge belongs in the sweep-line dictionary).\n  * The upper edge of the new region will be \"eNewUp\".\n  * Winding number and \"inside\" flag are not updated.\n  */\n  var regNew = new ActiveRegion();\n  regNew.eUp = eNewUp;\n  regNew.nodeUp = tess.dict.insertBefore( regAbove.nodeUp, regNew );\n//\tif (regNew->nodeUp == NULL) longjmp(tess->env,1);\n  regNew.fixUpperEdge = false;\n  regNew.sentinel = false;\n  regNew.dirty = false;\n\n  eNewUp.activeRegion = regNew;\n  return regNew;\n}\n\n//static int IsWindingInside( TESStesselator *tess, int n )\nSweep.isWindingInside = function( tess, n ) {\n  switch( tess.windingRule ) {\n    case Tess2.WINDING_ODD:\n      return (n & 1) !== 0;\n    case Tess2.WINDING_NONZERO:\n      return (n !== 0);\n    case Tess2.WINDING_POSITIVE:\n      return (n > 0);\n    case Tess2.WINDING_NEGATIVE:\n      return (n < 0);\n    case Tess2.WINDING_ABS_GEQ_TWO:\n      return (n >= 2) || (n <= -2);\n  }\n  assert( false );\n  return false;\n}\n\n//static void ComputeWinding( TESStesselator *tess, ActiveRegion *reg )\nSweep.computeWinding = function( tess, reg ) {\n  reg.windingNumber = Sweep.regionAbove(reg).windingNumber + reg.eUp.winding;\n  reg.inside = Sweep.isWindingInside( tess, reg.windingNumber );\n}\n\n\n//static void FinishRegion( TESStesselator *tess, ActiveRegion *reg )\nSweep.finishRegion = function( tess, reg ) {\n  /*\n  * Delete a region from the sweep line.  This happens when the upper\n  * and lower chains of a region meet (at a vertex on the sweep line).\n  * The \"inside\" flag is copied to the appropriate mesh face (we could\n  * not do this before -- since the structure of the mesh is always\n  * changing, this face may not have even existed until now).\n  */\n  var e = reg.eUp;\n  var f = e.Lface;\n\n  f.inside = reg.inside;\n  f.anEdge = e;   /* optimization for tessMeshTessellateMonoRegion() */\n  Sweep.deleteRegion( tess, reg );\n}\n\n\n//static TESShalfEdge *FinishLeftRegions( TESStesselator *tess, ActiveRegion *regFirst, ActiveRegion *regLast )\nSweep.finishLeftRegions = function( tess, regFirst, regLast ) {\n  /*\n  * We are given a vertex with one or more left-going edges.  All affected\n  * edges should be in the edge dictionary.  Starting at regFirst->eUp,\n  * we walk down deleting all regions where both edges have the same\n  * origin vOrg.  At the same time we copy the \"inside\" flag from the\n  * active region to the face, since at this point each face will belong\n  * to at most one region (this was not necessarily true until this point\n  * in the sweep).  The walk stops at the region above regLast; if regLast\n  * is NULL we walk as far as possible.  At the same time we relink the\n  * mesh if necessary, so that the ordering of edges around vOrg is the\n  * same as in the dictionary.\n  */\n  var e, ePrev;\n  var reg = null;\n  var regPrev = regFirst;\n  var ePrev = regFirst.eUp;\n  while( regPrev !== regLast ) {\n    regPrev.fixUpperEdge = false;\t/* placement was OK */\n    reg = Sweep.regionBelow( regPrev );\n    e = reg.eUp;\n    if( e.Org != ePrev.Org ) {\n      if( ! reg.fixUpperEdge ) {\n        /* Remove the last left-going edge.  Even though there are no further\n        * edges in the dictionary with this origin, there may be further\n        * such edges in the mesh (if we are adding left edges to a vertex\n        * that has already been processed).  Thus it is important to call\n        * FinishRegion rather than just DeleteRegion.\n        */\n        Sweep.finishRegion( tess, regPrev );\n        break;\n      }\n      /* If the edge below was a temporary edge introduced by\n      * ConnectRightVertex, now is the time to fix it.\n      */\n      e = tess.mesh.connect( ePrev.Lprev, e.Sym );\n//\t\t\tif (e == NULL) longjmp(tess->env,1);\n      Sweep.fixUpperEdge( tess, reg, e );\n    }\n\n    /* Relink edges so that ePrev->Onext == e */\n    if( ePrev.Onext !== e ) {\n      tess.mesh.splice( e.Oprev, e );\n      tess.mesh.splice( ePrev, e );\n    }\n    Sweep.finishRegion( tess, regPrev );\t/* may change reg->eUp */\n    ePrev = reg.eUp;\n    regPrev = reg;\n  }\n  return ePrev;\n}\n\n\n//static void AddRightEdges( TESStesselator *tess, ActiveRegion *regUp, TESShalfEdge *eFirst, TESShalfEdge *eLast, TESShalfEdge *eTopLeft, int cleanUp )\nSweep.addRightEdges = function( tess, regUp, eFirst, eLast, eTopLeft, cleanUp ) {\n  /*\n  * Purpose: insert right-going edges into the edge dictionary, and update\n  * winding numbers and mesh connectivity appropriately.  All right-going\n  * edges share a common origin vOrg.  Edges are inserted CCW starting at\n  * eFirst; the last edge inserted is eLast->Oprev.  If vOrg has any\n  * left-going edges already processed, then eTopLeft must be the edge\n  * such that an imaginary upward vertical segment from vOrg would be\n  * contained between eTopLeft->Oprev and eTopLeft; otherwise eTopLeft\n  * should be NULL.\n  */\n  var reg, regPrev;\n  var e, ePrev;\n  var firstTime = true;\n\n  /* Insert the new right-going edges in the dictionary */\n  e = eFirst;\n  do {\n    assert( Geom.vertLeq( e.Org, e.Dst ));\n    Sweep.addRegionBelow( tess, regUp, e.Sym );\n    e = e.Onext;\n  } while ( e !== eLast );\n\n  /* Walk *all* right-going edges from e->Org, in the dictionary order,\n  * updating the winding numbers of each region, and re-linking the mesh\n  * edges to match the dictionary ordering (if necessary).\n  */\n  if( eTopLeft === null ) {\n    eTopLeft = Sweep.regionBelow( regUp ).eUp.Rprev;\n  }\n  regPrev = regUp;\n  ePrev = eTopLeft;\n  for( ;; ) {\n    reg = Sweep.regionBelow( regPrev );\n    e = reg.eUp.Sym;\n    if( e.Org !== ePrev.Org ) break;\n\n    if( e.Onext !== ePrev ) {\n      /* Unlink e from its current position, and relink below ePrev */\n      tess.mesh.splice( e.Oprev, e );\n      tess.mesh.splice( ePrev.Oprev, e );\n    }\n    /* Compute the winding number and \"inside\" flag for the new regions */\n    reg.windingNumber = regPrev.windingNumber - e.winding;\n    reg.inside = Sweep.isWindingInside( tess, reg.windingNumber );\n\n    /* Check for two outgoing edges with same slope -- process these\n    * before any intersection tests (see example in tessComputeInterior).\n    */\n    regPrev.dirty = true;\n    if( ! firstTime && Sweep.checkForRightSplice( tess, regPrev )) {\n      Sweep.addWinding( e, ePrev );\n      Sweep.deleteRegion( tess, regPrev );\n      tess.mesh.delete( ePrev );\n    }\n    firstTime = false;\n    regPrev = reg;\n    ePrev = e;\n  }\n  regPrev.dirty = true;\n  assert( regPrev.windingNumber - e.winding === reg.windingNumber );\n\n  if( cleanUp ) {\n    /* Check for intersections between newly adjacent edges. */\n    Sweep.walkDirtyRegions( tess, regPrev );\n  }\n}\n\n\n//static void SpliceMergeVertices( TESStesselator *tess, TESShalfEdge *e1, TESShalfEdge *e2 )\nSweep.spliceMergeVertices = function( tess, e1, e2 ) {\n  /*\n  * Two vertices with idential coordinates are combined into one.\n  * e1->Org is kept, while e2->Org is discarded.\n  */\n  tess.mesh.splice( e1, e2 ); \n}\n\n//static void VertexWeights( TESSvertex *isect, TESSvertex *org, TESSvertex *dst, TESSreal *weights )\nSweep.vertexWeights = function( isect, org, dst ) {\n  /*\n  * Find some weights which describe how the intersection vertex is\n  * a linear combination of \"org\" and \"dest\".  Each of the two edges\n  * which generated \"isect\" is allocated 50% of the weight; each edge\n  * splits the weight between its org and dst according to the\n  * relative distance to \"isect\".\n  */\n  var t1 = Geom.vertL1dist( org, isect );\n  var t2 = Geom.vertL1dist( dst, isect );\n  var w0 = 0.5 * t2 / (t1 + t2);\n  var w1 = 0.5 * t1 / (t1 + t2);\n  isect.coords[0] += w0*org.coords[0] + w1*dst.coords[0];\n  isect.coords[1] += w0*org.coords[1] + w1*dst.coords[1];\n  isect.coords[2] += w0*org.coords[2] + w1*dst.coords[2];\n}\n\n\n//static void GetIntersectData( TESStesselator *tess, TESSvertex *isect, TESSvertex *orgUp, TESSvertex *dstUp, TESSvertex *orgLo, TESSvertex *dstLo )\nSweep.getIntersectData = function( tess, isect, orgUp, dstUp, orgLo, dstLo ) {\n   /*\n   * We've computed a new intersection point, now we need a \"data\" pointer\n   * from the user so that we can refer to this new vertex in the\n   * rendering callbacks.\n   */\n  isect.coords[0] = isect.coords[1] = isect.coords[2] = 0;\n  isect.idx = -1;\n  Sweep.vertexWeights( isect, orgUp, dstUp );\n  Sweep.vertexWeights( isect, orgLo, dstLo );\n}\n\n//static int CheckForRightSplice( TESStesselator *tess, ActiveRegion *regUp )\nSweep.checkForRightSplice = function( tess, regUp ) {\n  /*\n  * Check the upper and lower edge of \"regUp\", to make sure that the\n  * eUp->Org is above eLo, or eLo->Org is below eUp (depending on which\n  * origin is leftmost).\n  *\n  * The main purpose is to splice right-going edges with the same\n  * dest vertex and nearly identical slopes (ie. we can't distinguish\n  * the slopes numerically).  However the splicing can also help us\n  * to recover from numerical errors.  For example, suppose at one\n  * point we checked eUp and eLo, and decided that eUp->Org is barely\n  * above eLo.  Then later, we split eLo into two edges (eg. from\n  * a splice operation like this one).  This can change the result of\n  * our test so that now eUp->Org is incident to eLo, or barely below it.\n  * We must correct this condition to maintain the dictionary invariants.\n  *\n  * One possibility is to check these edges for intersection again\n  * (ie. CheckForIntersect).  This is what we do if possible.  However\n  * CheckForIntersect requires that tess->event lies between eUp and eLo,\n  * so that it has something to fall back on when the intersection\n  * calculation gives us an unusable answer.  So, for those cases where\n  * we can't check for intersection, this routine fixes the problem\n  * by just splicing the offending vertex into the other edge.\n  * This is a guaranteed solution, no matter how degenerate things get.\n  * Basically this is a combinatorial solution to a numerical problem.\n  */\n  var regLo = Sweep.regionBelow(regUp);\n  var eUp = regUp.eUp;\n  var eLo = regLo.eUp;\n\n  if( Geom.vertLeq( eUp.Org, eLo.Org )) {\n    if( Geom.edgeSign( eLo.Dst, eUp.Org, eLo.Org ) > 0 ) return false;\n\n    /* eUp->Org appears to be below eLo */\n    if( ! Geom.vertEq( eUp.Org, eLo.Org )) {\n      /* Splice eUp->Org into eLo */\n      tess.mesh.splitEdge( eLo.Sym );\n      tess.mesh.splice( eUp, eLo.Oprev );\n      regUp.dirty = regLo.dirty = true;\n\n    } else if( eUp.Org !== eLo.Org ) {\n      /* merge the two vertices, discarding eUp->Org */\n      tess.pq.delete( eUp.Org.pqHandle );\n      Sweep.spliceMergeVertices( tess, eLo.Oprev, eUp );\n    }\n  } else {\n    if( Geom.edgeSign( eUp.Dst, eLo.Org, eUp.Org ) < 0 ) return false;\n\n    /* eLo->Org appears to be above eUp, so splice eLo->Org into eUp */\n    Sweep.regionAbove(regUp).dirty = regUp.dirty = true;\n    tess.mesh.splitEdge( eUp.Sym );\n    tess.mesh.splice( eLo.Oprev, eUp );\n  }\n  return true;\n}\n\n//static int CheckForLeftSplice( TESStesselator *tess, ActiveRegion *regUp )\nSweep.checkForLeftSplice = function( tess, regUp ) {\n  /*\n  * Check the upper and lower edge of \"regUp\", to make sure that the\n  * eUp->Dst is above eLo, or eLo->Dst is below eUp (depending on which\n  * destination is rightmost).\n  *\n  * Theoretically, this should always be true.  However, splitting an edge\n  * into two pieces can change the results of previous tests.  For example,\n  * suppose at one point we checked eUp and eLo, and decided that eUp->Dst\n  * is barely above eLo.  Then later, we split eLo into two edges (eg. from\n  * a splice operation like this one).  This can change the result of\n  * the test so that now eUp->Dst is incident to eLo, or barely below it.\n  * We must correct this condition to maintain the dictionary invariants\n  * (otherwise new edges might get inserted in the wrong place in the\n  * dictionary, and bad stuff will happen).\n  *\n  * We fix the problem by just splicing the offending vertex into the\n  * other edge.\n  */\n  var regLo = Sweep.regionBelow(regUp);\n  var eUp = regUp.eUp;\n  var eLo = regLo.eUp;\n  var e;\n\n  assert( ! Geom.vertEq( eUp.Dst, eLo.Dst ));\n\n  if( Geom.vertLeq( eUp.Dst, eLo.Dst )) {\n    if( Geom.edgeSign( eUp.Dst, eLo.Dst, eUp.Org ) < 0 ) return false;\n\n    /* eLo->Dst is above eUp, so splice eLo->Dst into eUp */\n    Sweep.regionAbove(regUp).dirty = regUp.dirty = true;\n    e = tess.mesh.splitEdge( eUp );\n    tess.mesh.splice( eLo.Sym, e );\n    e.Lface.inside = regUp.inside;\n  } else {\n    if( Geom.edgeSign( eLo.Dst, eUp.Dst, eLo.Org ) > 0 ) return false;\n\n    /* eUp->Dst is below eLo, so splice eUp->Dst into eLo */\n    regUp.dirty = regLo.dirty = true;\n    e = tess.mesh.splitEdge( eLo );\n    tess.mesh.splice( eUp.Lnext, eLo.Sym );\n    e.Rface.inside = regUp.inside;\n  }\n  return true;\n}\n\n\n//static int CheckForIntersect( TESStesselator *tess, ActiveRegion *regUp )\nSweep.checkForIntersect = function( tess, regUp ) {\n  /*\n  * Check the upper and lower edges of the given region to see if\n  * they intersect.  If so, create the intersection and add it\n  * to the data structures.\n  *\n  * Returns TRUE if adding the new intersection resulted in a recursive\n  * call to AddRightEdges(); in this case all \"dirty\" regions have been\n  * checked for intersections, and possibly regUp has been deleted.\n  */\n  var regLo = Sweep.regionBelow(regUp);\n  var eUp = regUp.eUp;\n  var eLo = regLo.eUp;\n  var orgUp = eUp.Org;\n  var orgLo = eLo.Org;\n  var dstUp = eUp.Dst;\n  var dstLo = eLo.Dst;\n  var tMinUp, tMaxLo;\n  var isect = new TESSvertex, orgMin;\n  var e;\n\n  assert( ! Geom.vertEq( dstLo, dstUp ));\n  assert( Geom.edgeSign( dstUp, tess.event, orgUp ) <= 0 );\n  assert( Geom.edgeSign( dstLo, tess.event, orgLo ) >= 0 );\n  assert( orgUp !== tess.event && orgLo !== tess.event );\n  assert( ! regUp.fixUpperEdge && ! regLo.fixUpperEdge );\n\n  if( orgUp === orgLo ) return false;\t/* right endpoints are the same */\n\n  tMinUp = Math.min( orgUp.t, dstUp.t );\n  tMaxLo = Math.max( orgLo.t, dstLo.t );\n  if( tMinUp > tMaxLo ) return false;\t/* t ranges do not overlap */\n\n  if( Geom.vertLeq( orgUp, orgLo )) {\n    if( Geom.edgeSign( dstLo, orgUp, orgLo ) > 0 ) return false;\n  } else {\n    if( Geom.edgeSign( dstUp, orgLo, orgUp ) < 0 ) return false;\n  }\n\n  /* At this point the edges intersect, at least marginally */\n  Sweep.debugEvent( tess );\n\n  Geom.intersect( dstUp, orgUp, dstLo, orgLo, isect );\n  /* The following properties are guaranteed: */\n  assert( Math.min( orgUp.t, dstUp.t ) <= isect.t );\n  assert( isect.t <= Math.max( orgLo.t, dstLo.t ));\n  assert( Math.min( dstLo.s, dstUp.s ) <= isect.s );\n  assert( isect.s <= Math.max( orgLo.s, orgUp.s ));\n\n  if( Geom.vertLeq( isect, tess.event )) {\n    /* The intersection point lies slightly to the left of the sweep line,\n    * so move it until it''s slightly to the right of the sweep line.\n    * (If we had perfect numerical precision, this would never happen\n    * in the first place).  The easiest and safest thing to do is\n    * replace the intersection by tess->event.\n    */\n    isect.s = tess.event.s;\n    isect.t = tess.event.t;\n  }\n  /* Similarly, if the computed intersection lies to the right of the\n  * rightmost origin (which should rarely happen), it can cause\n  * unbelievable inefficiency on sufficiently degenerate inputs.\n  * (If you have the test program, try running test54.d with the\n  * \"X zoom\" option turned on).\n  */\n  orgMin = Geom.vertLeq( orgUp, orgLo ) ? orgUp : orgLo;\n  if( Geom.vertLeq( orgMin, isect )) {\n    isect.s = orgMin.s;\n    isect.t = orgMin.t;\n  }\n\n  if( Geom.vertEq( isect, orgUp ) || Geom.vertEq( isect, orgLo )) {\n    /* Easy case -- intersection at one of the right endpoints */\n    Sweep.checkForRightSplice( tess, regUp );\n    return false;\n  }\n\n  if(    (! Geom.vertEq( dstUp, tess.event )\n    && Geom.edgeSign( dstUp, tess.event, isect ) >= 0)\n    || (! Geom.vertEq( dstLo, tess.event )\n    && Geom.edgeSign( dstLo, tess.event, isect ) <= 0 ))\n  {\n    /* Very unusual -- the new upper or lower edge would pass on the\n    * wrong side of the sweep event, or through it.  This can happen\n    * due to very small numerical errors in the intersection calculation.\n    */\n    if( dstLo === tess.event ) {\n      /* Splice dstLo into eUp, and process the new region(s) */\n      tess.mesh.splitEdge( eUp.Sym );\n      tess.mesh.splice( eLo.Sym, eUp );\n      regUp = Sweep.topLeftRegion( tess, regUp );\n//\t\t\tif (regUp == NULL) longjmp(tess->env,1);\n      eUp = Sweep.regionBelow(regUp).eUp;\n      Sweep.finishLeftRegions( tess, Sweep.regionBelow(regUp), regLo );\n      Sweep.addRightEdges( tess, regUp, eUp.Oprev, eUp, eUp, true );\n      return true;\n    }\n    if( dstUp === tess.event ) {\n      /* Splice dstUp into eLo, and process the new region(s) */\n      tess.mesh.splitEdge( eLo.Sym );\n      tess.mesh.splice( eUp.Lnext, eLo.Oprev ); \n      regLo = regUp;\n      regUp = Sweep.topRightRegion( regUp );\n      e = Sweep.regionBelow(regUp).eUp.Rprev;\n      regLo.eUp = eLo.Oprev;\n      eLo = Sweep.finishLeftRegions( tess, regLo, null );\n      Sweep.addRightEdges( tess, regUp, eLo.Onext, eUp.Rprev, e, true );\n      return true;\n    }\n    /* Special case: called from ConnectRightVertex.  If either\n    * edge passes on the wrong side of tess->event, split it\n    * (and wait for ConnectRightVertex to splice it appropriately).\n    */\n    if( Geom.edgeSign( dstUp, tess.event, isect ) >= 0 ) {\n      Sweep.regionAbove(regUp).dirty = regUp.dirty = true;\n      tess.mesh.splitEdge( eUp.Sym );\n      eUp.Org.s = tess.event.s;\n      eUp.Org.t = tess.event.t;\n    }\n    if( Geom.edgeSign( dstLo, tess.event, isect ) <= 0 ) {\n      regUp.dirty = regLo.dirty = true;\n      tess.mesh.splitEdge( eLo.Sym );\n      eLo.Org.s = tess.event.s;\n      eLo.Org.t = tess.event.t;\n    }\n    /* leave the rest for ConnectRightVertex */\n    return false;\n  }\n\n  /* General case -- split both edges, splice into new vertex.\n  * When we do the splice operation, the order of the arguments is\n  * arbitrary as far as correctness goes.  However, when the operation\n  * creates a new face, the work done is proportional to the size of\n  * the new face.  We expect the faces in the processed part of\n  * the mesh (ie. eUp->Lface) to be smaller than the faces in the\n  * unprocessed original contours (which will be eLo->Oprev->Lface).\n  */\n  tess.mesh.splitEdge( eUp.Sym );\n  tess.mesh.splitEdge( eLo.Sym );\n  tess.mesh.splice( eLo.Oprev, eUp );\n  eUp.Org.s = isect.s;\n  eUp.Org.t = isect.t;\n  eUp.Org.pqHandle = tess.pq.insert( eUp.Org );\n  Sweep.getIntersectData( tess, eUp.Org, orgUp, dstUp, orgLo, dstLo );\n  Sweep.regionAbove(regUp).dirty = regUp.dirty = regLo.dirty = true;\n  return false;\n}\n\n//static void WalkDirtyRegions( TESStesselator *tess, ActiveRegion *regUp )\nSweep.walkDirtyRegions = function( tess, regUp ) {\n  /*\n  * When the upper or lower edge of any region changes, the region is\n  * marked \"dirty\".  This routine walks through all the dirty regions\n  * and makes sure that the dictionary invariants are satisfied\n  * (see the comments at the beginning of this file).  Of course\n  * new dirty regions can be created as we make changes to restore\n  * the invariants.\n  */\n  var regLo = Sweep.regionBelow(regUp);\n  var eUp, eLo;\n\n  for( ;; ) {\n    /* Find the lowest dirty region (we walk from the bottom up). */\n    while( regLo.dirty ) {\n      regUp = regLo;\n      regLo = Sweep.regionBelow(regLo);\n    }\n    if( ! regUp.dirty ) {\n      regLo = regUp;\n      regUp = Sweep.regionAbove( regUp );\n      if( regUp === null || ! regUp.dirty ) {\n        /* We've walked all the dirty regions */\n        return;\n      }\n    }\n    regUp.dirty = false;\n    eUp = regUp.eUp;\n    eLo = regLo.eUp;\n\n    if( eUp.Dst !== eLo.Dst ) {\n      /* Check that the edge ordering is obeyed at the Dst vertices. */\n      if( Sweep.checkForLeftSplice( tess, regUp )) {\n\n        /* If the upper or lower edge was marked fixUpperEdge, then\n        * we no longer need it (since these edges are needed only for\n        * vertices which otherwise have no right-going edges).\n        */\n        if( regLo.fixUpperEdge ) {\n          Sweep.deleteRegion( tess, regLo );\n          tess.mesh.delete( eLo );\n          regLo = Sweep.regionBelow( regUp );\n          eLo = regLo.eUp;\n        } else if( regUp.fixUpperEdge ) {\n          Sweep.deleteRegion( tess, regUp );\n          tess.mesh.delete( eUp );\n          regUp = Sweep.regionAbove( regLo );\n          eUp = regUp.eUp;\n        }\n      }\n    }\n    if( eUp.Org !== eLo.Org ) {\n      if(    eUp.Dst !== eLo.Dst\n        && ! regUp.fixUpperEdge && ! regLo.fixUpperEdge\n        && (eUp.Dst === tess.event || eLo.Dst === tess.event) )\n      {\n        /* When all else fails in CheckForIntersect(), it uses tess->event\n        * as the intersection location.  To make this possible, it requires\n        * that tess->event lie between the upper and lower edges, and also\n        * that neither of these is marked fixUpperEdge (since in the worst\n        * case it might splice one of these edges into tess->event, and\n        * violate the invariant that fixable edges are the only right-going\n        * edge from their associated vertex).\n        */\n        if( Sweep.checkForIntersect( tess, regUp )) {\n          /* WalkDirtyRegions() was called recursively; we're done */\n          return;\n        }\n      } else {\n        /* Even though we can't use CheckForIntersect(), the Org vertices\n        * may violate the dictionary edge ordering.  Check and correct this.\n        */\n        Sweep.checkForRightSplice( tess, regUp );\n      }\n    }\n    if( eUp.Org === eLo.Org && eUp.Dst === eLo.Dst ) {\n      /* A degenerate loop consisting of only two edges -- delete it. */\n      Sweep.addWinding( eLo, eUp );\n      Sweep.deleteRegion( tess, regUp );\n      tess.mesh.delete( eUp );\n      regUp = Sweep.regionAbove( regLo );\n    }\n  }\n}\n\n\n//static void ConnectRightVertex( TESStesselator *tess, ActiveRegion *regUp, TESShalfEdge *eBottomLeft )\nSweep.connectRightVertex = function( tess, regUp, eBottomLeft ) {\n  /*\n  * Purpose: connect a \"right\" vertex vEvent (one where all edges go left)\n  * to the unprocessed portion of the mesh.  Since there are no right-going\n  * edges, two regions (one above vEvent and one below) are being merged\n  * into one.  \"regUp\" is the upper of these two regions.\n  *\n  * There are two reasons for doing this (adding a right-going edge):\n  *  - if the two regions being merged are \"inside\", we must add an edge\n  *    to keep them separated (the combined region would not be monotone).\n  *  - in any case, we must leave some record of vEvent in the dictionary,\n  *    so that we can merge vEvent with features that we have not seen yet.\n  *    For example, maybe there is a vertical edge which passes just to\n  *    the right of vEvent; we would like to splice vEvent into this edge.\n  *\n  * However, we don't want to connect vEvent to just any vertex.  We don''t\n  * want the new edge to cross any other edges; otherwise we will create\n  * intersection vertices even when the input data had no self-intersections.\n  * (This is a bad thing; if the user's input data has no intersections,\n  * we don't want to generate any false intersections ourselves.)\n  *\n  * Our eventual goal is to connect vEvent to the leftmost unprocessed\n  * vertex of the combined region (the union of regUp and regLo).\n  * But because of unseen vertices with all right-going edges, and also\n  * new vertices which may be created by edge intersections, we don''t\n  * know where that leftmost unprocessed vertex is.  In the meantime, we\n  * connect vEvent to the closest vertex of either chain, and mark the region\n  * as \"fixUpperEdge\".  This flag says to delete and reconnect this edge\n  * to the next processed vertex on the boundary of the combined region.\n  * Quite possibly the vertex we connected to will turn out to be the\n  * closest one, in which case we won''t need to make any changes.\n  */\n  var eNew;\n  var eTopLeft = eBottomLeft.Onext;\n  var regLo = Sweep.regionBelow(regUp);\n  var eUp = regUp.eUp;\n  var eLo = regLo.eUp;\n  var degenerate = false;\n\n  if( eUp.Dst !== eLo.Dst ) {\n    Sweep.checkForIntersect( tess, regUp );\n  }\n\n  /* Possible new degeneracies: upper or lower edge of regUp may pass\n  * through vEvent, or may coincide with new intersection vertex\n  */\n  if( Geom.vertEq( eUp.Org, tess.event )) {\n    tess.mesh.splice( eTopLeft.Oprev, eUp );\n    regUp = Sweep.topLeftRegion( tess, regUp );\n    eTopLeft = Sweep.regionBelow( regUp ).eUp;\n    Sweep.finishLeftRegions( tess, Sweep.regionBelow(regUp), regLo );\n    degenerate = true;\n  }\n  if( Geom.vertEq( eLo.Org, tess.event )) {\n    tess.mesh.splice( eBottomLeft, eLo.Oprev );\n    eBottomLeft = Sweep.finishLeftRegions( tess, regLo, null );\n    degenerate = true;\n  }\n  if( degenerate ) {\n    Sweep.addRightEdges( tess, regUp, eBottomLeft.Onext, eTopLeft, eTopLeft, true );\n    return;\n  }\n\n  /* Non-degenerate situation -- need to add a temporary, fixable edge.\n  * Connect to the closer of eLo->Org, eUp->Org.\n  */\n  if( Geom.vertLeq( eLo.Org, eUp.Org )) {\n    eNew = eLo.Oprev;\n  } else {\n    eNew = eUp;\n  }\n  eNew = tess.mesh.connect( eBottomLeft.Lprev, eNew );\n\n  /* Prevent cleanup, otherwise eNew might disappear before we've even\n  * had a chance to mark it as a temporary edge.\n  */\n  Sweep.addRightEdges( tess, regUp, eNew, eNew.Onext, eNew.Onext, false );\n  eNew.Sym.activeRegion.fixUpperEdge = true;\n  Sweep.walkDirtyRegions( tess, regUp );\n}\n\n/* Because vertices at exactly the same location are merged together\n* before we process the sweep event, some degenerate cases can't occur.\n* However if someone eventually makes the modifications required to\n* merge features which are close together, the cases below marked\n* TOLERANCE_NONZERO will be useful.  They were debugged before the\n* code to merge identical vertices in the main loop was added.\n*/\n//#define TOLERANCE_NONZERO\tFALSE\n\n//static void ConnectLeftDegenerate( TESStesselator *tess, ActiveRegion *regUp, TESSvertex *vEvent )\nSweep.connectLeftDegenerate = function( tess, regUp, vEvent ) {\n  /*\n  * The event vertex lies exacty on an already-processed edge or vertex.\n  * Adding the new vertex involves splicing it into the already-processed\n  * part of the mesh.\n  */\n  var e, eTopLeft, eTopRight, eLast;\n  var reg;\n\n  e = regUp.eUp;\n  if( Geom.vertEq( e.Org, vEvent )) {\n    /* e->Org is an unprocessed vertex - just combine them, and wait\n    * for e->Org to be pulled from the queue\n    */\n    assert( false /*TOLERANCE_NONZERO*/ );\n    Sweep.spliceMergeVertices( tess, e, vEvent.anEdge );\n    return;\n  }\n\n  if( ! Geom.vertEq( e.Dst, vEvent )) {\n    /* General case -- splice vEvent into edge e which passes through it */\n    tess.mesh.splitEdge( e.Sym );\n    if( regUp.fixUpperEdge ) {\n      /* This edge was fixable -- delete unused portion of original edge */\n      tess.mesh.delete( e.Onext );\n      regUp.fixUpperEdge = false;\n    }\n    tess.mesh.splice( vEvent.anEdge, e );\n    Sweep.sweepEvent( tess, vEvent );\t/* recurse */\n    return;\n  }\n\n  /* vEvent coincides with e->Dst, which has already been processed.\n  * Splice in the additional right-going edges.\n  */\n  assert( false /*TOLERANCE_NONZERO*/ );\n  regUp = Sweep.topRightRegion( regUp );\n  reg = Sweep.regionBelow( regUp );\n  eTopRight = reg.eUp.Sym;\n  eTopLeft = eLast = eTopRight.Onext;\n  if( reg.fixUpperEdge ) {\n    /* Here e->Dst has only a single fixable edge going right.\n    * We can delete it since now we have some real right-going edges.\n    */\n    assert( eTopLeft !== eTopRight );   /* there are some left edges too */\n    Sweep.deleteRegion( tess, reg );\n    tess.mesh.delete( eTopRight );\n    eTopRight = eTopLeft.Oprev;\n  }\n  tess.mesh.splice( vEvent.anEdge, eTopRight );\n  if( ! Geom.edgeGoesLeft( eTopLeft )) {\n    /* e->Dst had no left-going edges -- indicate this to AddRightEdges() */\n    eTopLeft = null;\n  }\n  Sweep.addRightEdges( tess, regUp, eTopRight.Onext, eLast, eTopLeft, true );\n}\n\n\n//static void ConnectLeftVertex( TESStesselator *tess, TESSvertex *vEvent )\nSweep.connectLeftVertex = function( tess, vEvent ) {\n  /*\n  * Purpose: connect a \"left\" vertex (one where both edges go right)\n  * to the processed portion of the mesh.  Let R be the active region\n  * containing vEvent, and let U and L be the upper and lower edge\n  * chains of R.  There are two possibilities:\n  *\n  * - the normal case: split R into two regions, by connecting vEvent to\n  *   the rightmost vertex of U or L lying to the left of the sweep line\n  *\n  * - the degenerate case: if vEvent is close enough to U or L, we\n  *   merge vEvent into that edge chain.  The subcases are:\n  *\t- merging with the rightmost vertex of U or L\n  *\t- merging with the active edge of U or L\n  *\t- merging with an already-processed portion of U or L\n  */\n  var regUp, regLo, reg;\n  var eUp, eLo, eNew;\n  var tmp = new ActiveRegion();\n\n  /* assert( vEvent->anEdge->Onext->Onext == vEvent->anEdge ); */\n\n  /* Get a pointer to the active region containing vEvent */\n  tmp.eUp = vEvent.anEdge.Sym;\n  /* __GL_DICTLISTKEY */ /* tessDictListSearch */\n  regUp = tess.dict.search( tmp ).key;\n  regLo = Sweep.regionBelow( regUp );\n  if( !regLo ) {\n    // This may happen if the input polygon is coplanar.\n    return;\n  }\n  eUp = regUp.eUp;\n  eLo = regLo.eUp;\n\n  /* Try merging with U or L first */\n  if( Geom.edgeSign( eUp.Dst, vEvent, eUp.Org ) === 0.0 ) {\n    Sweep.connectLeftDegenerate( tess, regUp, vEvent );\n    return;\n  }\n\n  /* Connect vEvent to rightmost processed vertex of either chain.\n  * e->Dst is the vertex that we will connect to vEvent.\n  */\n  reg = Geom.vertLeq( eLo.Dst, eUp.Dst ) ? regUp : regLo;\n\n  if( regUp.inside || reg.fixUpperEdge) {\n    if( reg === regUp ) {\n      eNew = tess.mesh.connect( vEvent.anEdge.Sym, eUp.Lnext );\n    } else {\n      var tempHalfEdge = tess.mesh.connect( eLo.Dnext, vEvent.anEdge);\n      eNew = tempHalfEdge.Sym;\n    }\n    if( reg.fixUpperEdge ) {\n      Sweep.fixUpperEdge( tess, reg, eNew );\n    } else {\n      Sweep.computeWinding( tess, Sweep.addRegionBelow( tess, regUp, eNew ));\n    }\n    Sweep.sweepEvent( tess, vEvent );\n  } else {\n    /* The new vertex is in a region which does not belong to the polygon.\n    * We don''t need to connect this vertex to the rest of the mesh.\n    */\n    Sweep.addRightEdges( tess, regUp, vEvent.anEdge, vEvent.anEdge, null, true );\n  }\n};\n\n\n//static void SweepEvent( TESStesselator *tess, TESSvertex *vEvent )\nSweep.sweepEvent = function( tess, vEvent ) {\n  /*\n  * Does everything necessary when the sweep line crosses a vertex.\n  * Updates the mesh and the edge dictionary.\n  */\n\n  tess.event = vEvent;\t\t/* for access in EdgeLeq() */\n  Sweep.debugEvent( tess );\n\n  /* Check if this vertex is the right endpoint of an edge that is\n  * already in the dictionary.  In this case we don't need to waste\n  * time searching for the location to insert new edges.\n  */\n  var e = vEvent.anEdge;\n  while( e.activeRegion === null ) {\n    e = e.Onext;\n    if( e === vEvent.anEdge ) {\n      /* All edges go right -- not incident to any processed edges */\n      Sweep.connectLeftVertex( tess, vEvent );\n      return;\n    }\n  }\n\n  /* Processing consists of two phases: first we \"finish\" all the\n  * active regions where both the upper and lower edges terminate\n  * at vEvent (ie. vEvent is closing off these regions).\n  * We mark these faces \"inside\" or \"outside\" the polygon according\n  * to their winding number, and delete the edges from the dictionary.\n  * This takes care of all the left-going edges from vEvent.\n  */\n  var regUp = Sweep.topLeftRegion( tess, e.activeRegion );\n  assert( regUp !== null );\n//\tif (regUp == NULL) longjmp(tess->env,1);\n  var reg = Sweep.regionBelow( regUp );\n  var eTopLeft = reg.eUp;\n  var eBottomLeft = Sweep.finishLeftRegions( tess, reg, null );\n\n  /* Next we process all the right-going edges from vEvent.  This\n  * involves adding the edges to the dictionary, and creating the\n  * associated \"active regions\" which record information about the\n  * regions between adjacent dictionary edges.\n  */\n  if( eBottomLeft.Onext === eTopLeft ) {\n    /* No right-going edges -- add a temporary \"fixable\" edge */\n    Sweep.connectRightVertex( tess, regUp, eBottomLeft );\n  } else {\n    Sweep.addRightEdges( tess, regUp, eBottomLeft.Onext, eTopLeft, eTopLeft, true );\n  }\n};\n\n\n/* Make the sentinel coordinates big enough that they will never be\n* merged with real input features.\n*/\n\n//static void AddSentinel( TESStesselator *tess, TESSreal smin, TESSreal smax, TESSreal t )\nSweep.addSentinel = function( tess, smin, smax, t ) {\n  /*\n  * We add two sentinel edges above and below all other edges,\n  * to avoid special cases at the top and bottom.\n  */\n  var reg = new ActiveRegion();\n  var e = tess.mesh.makeEdge();\n//\tif (e == NULL) longjmp(tess->env,1);\n\n  e.Org.s = smax;\n  e.Org.t = t;\n  e.Dst.s = smin;\n  e.Dst.t = t;\n  tess.event = e.Dst;\t\t/* initialize it */\n\n  reg.eUp = e;\n  reg.windingNumber = 0;\n  reg.inside = false;\n  reg.fixUpperEdge = false;\n  reg.sentinel = true;\n  reg.dirty = false;\n  reg.nodeUp = tess.dict.insert( reg );\n//\tif (reg->nodeUp == NULL) longjmp(tess->env,1);\n}\n\n\n//static void InitEdgeDict( TESStesselator *tess )\nSweep.initEdgeDict = function( tess ) {\n  /*\n  * We maintain an ordering of edge intersections with the sweep line.\n  * This order is maintained in a dynamic dictionary.\n  */\n  tess.dict = new Dict( tess, Sweep.edgeLeq );\n//\tif (tess->dict == NULL) longjmp(tess->env,1);\n\n  var w = (tess.bmax[0] - tess.bmin[0]);\n  var h = (tess.bmax[1] - tess.bmin[1]);\n\n  var smin = tess.bmin[0] - w;\n  var smax = tess.bmax[0] + w;\n  var tmin = tess.bmin[1] - h;\n  var tmax = tess.bmax[1] + h;\n\n  Sweep.addSentinel( tess, smin, smax, tmin );\n  Sweep.addSentinel( tess, smin, smax, tmax );\n}\n\n\nSweep.doneEdgeDict = function( tess )\n{\n  var reg;\n  var fixedEdges = 0;\n\n  while( (reg = tess.dict.min().key) !== null ) {\n    /*\n    * At the end of all processing, the dictionary should contain\n    * only the two sentinel edges, plus at most one \"fixable\" edge\n    * created by ConnectRightVertex().\n    */\n    if( ! reg.sentinel ) {\n      assert( reg.fixUpperEdge );\n      assert( ++fixedEdges === 1 );\n    }\n    assert( reg.windingNumber === 0 );\n    Sweep.deleteRegion( tess, reg );\n    /*    tessMeshDelete( reg->eUp );*/\n  }\n//\tdictDeleteDict( &tess->alloc, tess->dict );\n}\n\n\nSweep.removeDegenerateEdges = function( tess ) {\n  /*\n  * Remove zero-length edges, and contours with fewer than 3 vertices.\n  */\n  var e, eNext, eLnext;\n  var eHead = tess.mesh.eHead;\n\n  /*LINTED*/\n  for( e = eHead.next; e !== eHead; e = eNext ) {\n    eNext = e.next;\n    eLnext = e.Lnext;\n\n    if( Geom.vertEq( e.Org, e.Dst ) && e.Lnext.Lnext !== e ) {\n      /* Zero-length edge, contour has at least 3 edges */\n      Sweep.spliceMergeVertices( tess, eLnext, e );\t/* deletes e->Org */\n      tess.mesh.delete( e ); /* e is a self-loop */\n      e = eLnext;\n      eLnext = e.Lnext;\n    }\n    if( eLnext.Lnext === e ) {\n      /* Degenerate contour (one or two edges) */\n      if( eLnext !== e ) {\n        if( eLnext === eNext || eLnext === eNext.Sym ) { eNext = eNext.next; }\n        tess.mesh.delete( eLnext );\n      }\n      if( e === eNext || e === eNext.Sym ) { eNext = eNext.next; }\n      tess.mesh.delete( e );\n    }\n  }\n}\n\nSweep.initPriorityQ = function( tess ) {\n  /*\n  * Insert all vertices into the priority queue which determines the\n  * order in which vertices cross the sweep line.\n  */\n  var pq;\n  var v, vHead;\n  var vertexCount = 0;\n  \n  vHead = tess.mesh.vHead;\n  for( v = vHead.next; v !== vHead; v = v.next ) {\n    vertexCount++;\n  }\n  /* Make sure there is enough space for sentinels. */\n  vertexCount += 8; //MAX( 8, tess->alloc.extraVertices );\n  \n  pq = tess.pq = new PriorityQ( vertexCount, Geom.vertLeq );\n//\tif (pq == NULL) return 0;\n\n  vHead = tess.mesh.vHead;\n  for( v = vHead.next; v !== vHead; v = v.next ) {\n    v.pqHandle = pq.insert( v );\n//\t\tif (v.pqHandle == INV_HANDLE)\n//\t\t\tbreak;\n  }\n\n  if (v !== vHead) {\n    return false;\n  }\n\n  pq.init();\n\n  return true;\n}\n\n\nSweep.donePriorityQ = function( tess ) {\n  tess.pq = null;\n}\n\n\nSweep.removeDegenerateFaces = function( tess, mesh ) {\n  /*\n  * Delete any degenerate faces with only two edges.  WalkDirtyRegions()\n  * will catch almost all of these, but it won't catch degenerate faces\n  * produced by splice operations on already-processed edges.\n  * The two places this can happen are in FinishLeftRegions(), when\n  * we splice in a \"temporary\" edge produced by ConnectRightVertex(),\n  * and in CheckForLeftSplice(), where we splice already-processed\n  * edges to ensure that our dictionary invariants are not violated\n  * by numerical errors.\n  *\n  * In both these cases it is *very* dangerous to delete the offending\n  * edge at the time, since one of the routines further up the stack\n  * will sometimes be keeping a pointer to that edge.\n  */\n  var f, fNext;\n  var e;\n\n  /*LINTED*/\n  for( f = mesh.fHead.next; f !== mesh.fHead; f = fNext ) {\n    fNext = f.next;\n    e = f.anEdge;\n    assert( e.Lnext !== e );\n\n    if( e.Lnext.Lnext === e ) {\n      /* A face with only two edges */\n      Sweep.addWinding( e.Onext, e );\n      tess.mesh.delete( e );\n    }\n  }\n  return true;\n}\n\nSweep.computeInterior = function( tess ) {\n  /*\n  * tessComputeInterior( tess ) computes the planar arrangement specified\n  * by the given contours, and further subdivides this arrangement\n  * into regions.  Each region is marked \"inside\" if it belongs\n  * to the polygon, according to the rule given by tess->windingRule.\n  * Each interior region is guaranteed be monotone.\n  */\n  var v, vNext;\n\n  /* Each vertex defines an event for our sweep line.  Start by inserting\n  * all the vertices in a priority queue.  Events are processed in\n  * lexicographic order, ie.\n  *\n  *\te1 < e2  iff  e1.x < e2.x || (e1.x == e2.x && e1.y < e2.y)\n  */\n  Sweep.removeDegenerateEdges( tess );\n  if ( !Sweep.initPriorityQ( tess ) ) return false; /* if error */\n  Sweep.initEdgeDict( tess );\n\n  while( (v = tess.pq.extractMin()) !== null ) {\n    for( ;; ) {\n      vNext = tess.pq.min();\n      if( vNext === null || ! Geom.vertEq( vNext, v )) break;\n\n      /* Merge together all vertices at exactly the same location.\n      * This is more efficient than processing them one at a time,\n      * simplifies the code (see ConnectLeftDegenerate), and is also\n      * important for correct handling of certain degenerate cases.\n      * For example, suppose there are two identical edges A and B\n      * that belong to different contours (so without this code they would\n      * be processed by separate sweep events).  Suppose another edge C\n      * crosses A and B from above.  When A is processed, we split it\n      * at its intersection point with C.  However this also splits C,\n      * so when we insert B we may compute a slightly different\n      * intersection point.  This might leave two edges with a small\n      * gap between them.  This kind of error is especially obvious\n      * when using boundary extraction (TESS_BOUNDARY_ONLY).\n      */\n      vNext = tess.pq.extractMin();\n      Sweep.spliceMergeVertices( tess, v.anEdge, vNext.anEdge );\n    }\n    Sweep.sweepEvent( tess, v );\n  }\n\n  /* Set tess->event for debugging purposes */\n  tess.event = tess.dict.min().key.eUp.Org;\n  Sweep.debugEvent( tess );\n  Sweep.doneEdgeDict( tess );\n  Sweep.donePriorityQ( tess );\n\n  if ( !Sweep.removeDegenerateFaces( tess, tess.mesh ) ) return false;\n  tess.mesh.check();\n\n  return true;\n}\n\n\nfunction Tesselator() {\n\n  /*** state needed for collecting the input data ***/\n  this.mesh = null;\t\t/* stores the input contours, and eventually\n            the tessellation itself */\n\n  /*** state needed for projecting onto the sweep plane ***/\n\n  this.normal = [0.0, 0.0, 0.0];\t/* user-specified normal (if provided) */\n  this.sUnit = [0.0, 0.0, 0.0];\t/* unit vector in s-direction (debugging) */\n  this.tUnit = [0.0, 0.0, 0.0];\t/* unit vector in t-direction (debugging) */\n\n  this.bmin = [0.0, 0.0];\n  this.bmax = [0.0, 0.0];\n\n  /*** state needed for the line sweep ***/\n  this.windingRule = Tess2.WINDING_ODD;\t/* rule for determining polygon interior */\n\n  this.dict = null;\t\t/* edge dictionary for sweep line */\n  this.pq = null;\t\t/* priority queue of vertex events */\n  this.event = null;\t\t/* current sweep event being processed */\n\n  this.vertexIndexCounter = 0;\n  \n  this.vertices = [];\n  this.vertexIndices = [];\n  this.vertexCount = 0;\n  this.elements = [];\n  this.elementCount = 0;\n};\n\nTesselator.prototype = {\n\n  dot_: function(u, v) {\n    return (u[0]*v[0] + u[1]*v[1] + u[2]*v[2]);\n  },\n\n  normalize_: function( v ) {\n    var len = v[0]*v[0] + v[1]*v[1] + v[2]*v[2];\n    assert( len > 0.0 );\n    len = Math.sqrt( len );\n    v[0] /= len;\n    v[1] /= len;\n    v[2] /= len;\n  },\n\n  longAxis_: function( v ) {\n    var i = 0;\n    if( Math.abs(v[1]) > Math.abs(v[0]) ) { i = 1; }\n    if( Math.abs(v[2]) > Math.abs(v[i]) ) { i = 2; }\n    return i;\n  },\n\n  computeNormal_: function( norm )\n  {\n    var v, v1, v2;\n    var c, tLen2, maxLen2;\n    var maxVal = [0,0,0], minVal = [0,0,0], d1 = [0,0,0], d2 = [0,0,0], tNorm = [0,0,0];\n    var maxVert = [null,null,null], minVert = [null,null,null];\n    var vHead = this.mesh.vHead;\n    var i;\n\n    v = vHead.next;\n    for( i = 0; i < 3; ++i ) {\n      c = v.coords[i];\n      minVal[i] = c;\n      minVert[i] = v;\n      maxVal[i] = c;\n      maxVert[i] = v;\n    }\n\n    for( v = vHead.next; v !== vHead; v = v.next ) {\n      for( i = 0; i < 3; ++i ) {\n        c = v.coords[i];\n        if( c < minVal[i] ) { minVal[i] = c; minVert[i] = v; }\n        if( c > maxVal[i] ) { maxVal[i] = c; maxVert[i] = v; }\n      }\n    }\n\n    /* Find two vertices separated by at least 1/sqrt(3) of the maximum\n    * distance between any two vertices\n    */\n    i = 0;\n    if( maxVal[1] - minVal[1] > maxVal[0] - minVal[0] ) { i = 1; }\n    if( maxVal[2] - minVal[2] > maxVal[i] - minVal[i] ) { i = 2; }\n    if( minVal[i] >= maxVal[i] ) {\n      /* All vertices are the same -- normal doesn't matter */\n      norm[0] = 0; norm[1] = 0; norm[2] = 1;\n      return;\n    }\n\n    /* Look for a third vertex which forms the triangle with maximum area\n    * (Length of normal == twice the triangle area)\n    */\n    maxLen2 = 0;\n    v1 = minVert[i];\n    v2 = maxVert[i];\n    d1[0] = v1.coords[0] - v2.coords[0];\n    d1[1] = v1.coords[1] - v2.coords[1];\n    d1[2] = v1.coords[2] - v2.coords[2];\n    for( v = vHead.next; v !== vHead; v = v.next ) {\n      d2[0] = v.coords[0] - v2.coords[0];\n      d2[1] = v.coords[1] - v2.coords[1];\n      d2[2] = v.coords[2] - v2.coords[2];\n      tNorm[0] = d1[1]*d2[2] - d1[2]*d2[1];\n      tNorm[1] = d1[2]*d2[0] - d1[0]*d2[2];\n      tNorm[2] = d1[0]*d2[1] - d1[1]*d2[0];\n      tLen2 = tNorm[0]*tNorm[0] + tNorm[1]*tNorm[1] + tNorm[2]*tNorm[2];\n      if( tLen2 > maxLen2 ) {\n        maxLen2 = tLen2;\n        norm[0] = tNorm[0];\n        norm[1] = tNorm[1];\n        norm[2] = tNorm[2];\n      }\n    }\n\n    if( maxLen2 <= 0 ) {\n      /* All points lie on a single line -- any decent normal will do */\n      norm[0] = norm[1] = norm[2] = 0;\n      norm[this.longAxis_(d1)] = 1;\n    }\n  },\n\n  checkOrientation_: function() {\n    var area;\n    var f, fHead = this.mesh.fHead;\n    var v, vHead = this.mesh.vHead;\n    var e;\n\n    /* When we compute the normal automatically, we choose the orientation\n    * so that the the sum of the signed areas of all contours is non-negative.\n    */\n    area = 0;\n    for( f = fHead.next; f !== fHead; f = f.next ) {\n      e = f.anEdge;\n      if( e.winding <= 0 ) continue;\n      do {\n        area += (e.Org.s - e.Dst.s) * (e.Org.t + e.Dst.t);\n        e = e.Lnext;\n      } while( e !== f.anEdge );\n    }\n    if( area < 0 ) {\n      /* Reverse the orientation by flipping all the t-coordinates */\n      for( v = vHead.next; v !== vHead; v = v.next ) {\n        v.t = - v.t;\n      }\n      this.tUnit[0] = - this.tUnit[0];\n      this.tUnit[1] = - this.tUnit[1];\n      this.tUnit[2] = - this.tUnit[2];\n    }\n  },\n\n/*\t#ifdef FOR_TRITE_TEST_PROGRAM\n  #include <stdlib.h>\n  extern int RandomSweep;\n  #define S_UNIT_X\t(RandomSweep ? (2*drand48()-1) : 1.0)\n  #define S_UNIT_Y\t(RandomSweep ? (2*drand48()-1) : 0.0)\n  #else\n  #if defined(SLANTED_SWEEP) */\n  /* The \"feature merging\" is not intended to be complete.  There are\n  * special cases where edges are nearly parallel to the sweep line\n  * which are not implemented.  The algorithm should still behave\n  * robustly (ie. produce a reasonable tesselation) in the presence\n  * of such edges, however it may miss features which could have been\n  * merged.  We could minimize this effect by choosing the sweep line\n  * direction to be something unusual (ie. not parallel to one of the\n  * coordinate axes).\n  */\n/*\t#define S_UNIT_X\t(TESSreal)0.50941539564955385\t// Pre-normalized\n  #define S_UNIT_Y\t(TESSreal)0.86052074622010633\n  #else\n  #define S_UNIT_X\t(TESSreal)1.0\n  #define S_UNIT_Y\t(TESSreal)0.0\n  #endif\n  #endif*/\n\n  /* Determine the polygon normal and project vertices onto the plane\n  * of the polygon.\n  */\n  projectPolygon_: function() {\n    var v, vHead = this.mesh.vHead;\n    var norm = [0,0,0];\n    var sUnit, tUnit;\n    var i, first, computedNormal = false;\n\n    norm[0] = this.normal[0];\n    norm[1] = this.normal[1];\n    norm[2] = this.normal[2];\n    if( norm[0] === 0.0 && norm[1] === 0.0 && norm[2] === 0.0 ) {\n      this.computeNormal_( norm );\n      computedNormal = true;\n    }\n    sUnit = this.sUnit;\n    tUnit = this.tUnit;\n    i = this.longAxis_( norm );\n\n/*\t#if defined(FOR_TRITE_TEST_PROGRAM) || defined(TRUE_PROJECT)\n    // Choose the initial sUnit vector to be approximately perpendicular\n    // to the normal.\n    \n    Normalize( norm );\n\n    sUnit[i] = 0;\n    sUnit[(i+1)%3] = S_UNIT_X;\n    sUnit[(i+2)%3] = S_UNIT_Y;\n\n    // Now make it exactly perpendicular \n    w = Dot( sUnit, norm );\n    sUnit[0] -= w * norm[0];\n    sUnit[1] -= w * norm[1];\n    sUnit[2] -= w * norm[2];\n    Normalize( sUnit );\n\n    // Choose tUnit so that (sUnit,tUnit,norm) form a right-handed frame \n    tUnit[0] = norm[1]*sUnit[2] - norm[2]*sUnit[1];\n    tUnit[1] = norm[2]*sUnit[0] - norm[0]*sUnit[2];\n    tUnit[2] = norm[0]*sUnit[1] - norm[1]*sUnit[0];\n    Normalize( tUnit );\n  #else*/\n    /* Project perpendicular to a coordinate axis -- better numerically */\n    sUnit[i] = 0;\n    sUnit[(i+1)%3] = 1.0;\n    sUnit[(i+2)%3] = 0.0;\n\n    tUnit[i] = 0;\n    tUnit[(i+1)%3] = 0.0;\n    tUnit[(i+2)%3] = (norm[i] > 0) ? 1.0 : -1.0;\n//\t#endif\n\n    /* Project the vertices onto the sweep plane */\n    for( v = vHead.next; v !== vHead; v = v.next ) {\n      v.s = this.dot_( v.coords, sUnit );\n      v.t = this.dot_( v.coords, tUnit );\n    }\n    if( computedNormal ) {\n      this.checkOrientation_();\n    }\n\n    /* Compute ST bounds. */\n    first = true;\n    for( v = vHead.next; v !== vHead; v = v.next ) {\n      if (first) {\n        this.bmin[0] = this.bmax[0] = v.s;\n        this.bmin[1] = this.bmax[1] = v.t;\n        first = false;\n      } else {\n        if (v.s < this.bmin[0]) this.bmin[0] = v.s;\n        if (v.s > this.bmax[0]) this.bmax[0] = v.s;\n        if (v.t < this.bmin[1]) this.bmin[1] = v.t;\n        if (v.t > this.bmax[1]) this.bmax[1] = v.t;\n      }\n    }\n  },\n\n  addWinding_: function(eDst,eSrc) {\n    eDst.winding += eSrc.winding;\n    eDst.Sym.winding += eSrc.Sym.winding;\n  },\n  \n  /* tessMeshTessellateMonoRegion( face ) tessellates a monotone region\n  * (what else would it do??)  The region must consist of a single\n  * loop of half-edges (see mesh.h) oriented CCW.  \"Monotone\" in this\n  * case means that any vertical line intersects the interior of the\n  * region in a single interval.  \n  *\n  * Tessellation consists of adding interior edges (actually pairs of\n  * half-edges), to split the region into non-overlapping triangles.\n  *\n  * The basic idea is explained in Preparata and Shamos (which I don''t\n  * have handy right now), although their implementation is more\n  * complicated than this one.  The are two edge chains, an upper chain\n  * and a lower chain.  We process all vertices from both chains in order,\n  * from right to left.\n  *\n  * The algorithm ensures that the following invariant holds after each\n  * vertex is processed: the untessellated region consists of two\n  * chains, where one chain (say the upper) is a single edge, and\n  * the other chain is concave.  The left vertex of the single edge\n  * is always to the left of all vertices in the concave chain.\n  *\n  * Each step consists of adding the rightmost unprocessed vertex to one\n  * of the two chains, and forming a fan of triangles from the rightmost\n  * of two chain endpoints.  Determining whether we can add each triangle\n  * to the fan is a simple orientation test.  By making the fan as large\n  * as possible, we restore the invariant (check it yourself).\n  */\n//\tint tessMeshTessellateMonoRegion( TESSmesh *mesh, TESSface *face )\n  tessellateMonoRegion_: function( mesh, face ) {\n    var up, lo;\n\n    /* All edges are oriented CCW around the boundary of the region.\n    * First, find the half-edge whose origin vertex is rightmost.\n    * Since the sweep goes from left to right, face->anEdge should\n    * be close to the edge we want.\n    */\n    up = face.anEdge;\n    assert( up.Lnext !== up && up.Lnext.Lnext !== up );\n\n    for( ; Geom.vertLeq( up.Dst, up.Org ); up = up.Lprev )\n      ;\n    for( ; Geom.vertLeq( up.Org, up.Dst ); up = up.Lnext )\n      ;\n    lo = up.Lprev;\n\n    while( up.Lnext !== lo ) {\n      if( Geom.vertLeq( up.Dst, lo.Org )) {\n        /* up->Dst is on the left.  It is safe to form triangles from lo->Org.\n        * The EdgeGoesLeft test guarantees progress even when some triangles\n        * are CW, given that the upper and lower chains are truly monotone.\n        */\n        while( lo.Lnext !== up && (Geom.edgeGoesLeft( lo.Lnext )\n          || Geom.edgeSign( lo.Org, lo.Dst, lo.Lnext.Dst ) <= 0.0 )) {\n            var tempHalfEdge = mesh.connect( lo.Lnext, lo );\n            //if (tempHalfEdge == NULL) return 0;\n            lo = tempHalfEdge.Sym;\n        }\n        lo = lo.Lprev;\n      } else {\n        /* lo->Org is on the left.  We can make CCW triangles from up->Dst. */\n        while( lo.Lnext !== up && (Geom.edgeGoesRight( up.Lprev )\n          || Geom.edgeSign( up.Dst, up.Org, up.Lprev.Org ) >= 0.0 )) {\n            var tempHalfEdge = mesh.connect( up, up.Lprev );\n            //if (tempHalfEdge == NULL) return 0;\n            up = tempHalfEdge.Sym;\n        }\n        up = up.Lnext;\n      }\n    }\n\n    /* Now lo->Org == up->Dst == the leftmost vertex.  The remaining region\n    * can be tessellated in a fan from this leftmost vertex.\n    */\n    assert( lo.Lnext !== up );\n    while( lo.Lnext.Lnext !== up ) {\n      var tempHalfEdge = mesh.connect( lo.Lnext, lo );\n      //if (tempHalfEdge == NULL) return 0;\n      lo = tempHalfEdge.Sym;\n    }\n\n    return true;\n  },\n\n\n  /* tessMeshTessellateInterior( mesh ) tessellates each region of\n  * the mesh which is marked \"inside\" the polygon.  Each such region\n  * must be monotone.\n  */\n  //int tessMeshTessellateInterior( TESSmesh *mesh )\n  tessellateInterior_: function( mesh ) {\n    var f, next;\n\n    /*LINTED*/\n    for( f = mesh.fHead.next; f !== mesh.fHead; f = next ) {\n      /* Make sure we don''t try to tessellate the new triangles. */\n      next = f.next;\n      if( f.inside ) {\n        if ( !this.tessellateMonoRegion_( mesh, f ) ) return false;\n      }\n    }\n\n    return true;\n  },\n\n\n  /* tessMeshDiscardExterior( mesh ) zaps (ie. sets to NULL) all faces\n  * which are not marked \"inside\" the polygon.  Since further mesh operations\n  * on NULL faces are not allowed, the main purpose is to clean up the\n  * mesh so that exterior loops are not represented in the data structure.\n  */\n  //void tessMeshDiscardExterior( TESSmesh *mesh )\n  discardExterior_: function( mesh ) {\n    var f, next;\n\n    /*LINTED*/\n    for( f = mesh.fHead.next; f !== mesh.fHead; f = next ) {\n      /* Since f will be destroyed, save its next pointer. */\n      next = f.next;\n      if( ! f.inside ) {\n        mesh.zapFace( f );\n      }\n    }\n  },\n\n  /* tessMeshSetWindingNumber( mesh, value, keepOnlyBoundary ) resets the\n  * winding numbers on all edges so that regions marked \"inside\" the\n  * polygon have a winding number of \"value\", and regions outside\n  * have a winding number of 0.\n  *\n  * If keepOnlyBoundary is TRUE, it also deletes all edges which do not\n  * separate an interior region from an exterior one.\n  */\n//\tint tessMeshSetWindingNumber( TESSmesh *mesh, int value, int keepOnlyBoundary )\n  setWindingNumber_: function( mesh, value, keepOnlyBoundary ) {\n    var e, eNext;\n\n    for( e = mesh.eHead.next; e !== mesh.eHead; e = eNext ) {\n      eNext = e.next;\n      if( e.Rface.inside !== e.Lface.inside ) {\n\n        /* This is a boundary edge (one side is interior, one is exterior). */\n        e.winding = (e.Lface.inside) ? value : -value;\n      } else {\n\n        /* Both regions are interior, or both are exterior. */\n        if( ! keepOnlyBoundary ) {\n          e.winding = 0;\n        } else {\n          mesh.delete( e );\n        }\n      }\n    }\n  },\n\n  getNeighbourFace_: function(edge)\n  {\n    if (!edge.Rface)\n      return -1;\n    if (!edge.Rface.inside)\n      return -1;\n    return edge.Rface.n;\n  },\n\n  outputPolymesh_: function( mesh, elementType, polySize, vertexSize ) {\n    var v;\n    var f;\n    var edge;\n    var maxFaceCount = 0;\n    var maxVertexCount = 0;\n    var faceVerts, i;\n    var elements = 0;\n    var vert;\n\n    // Assume that the input data is triangles now.\n    // Try to merge as many polygons as possible\n    if (polySize > 3)\n    {\n      mesh.mergeConvexFaces( polySize );\n    }\n\n    // Mark unused\n    for ( v = mesh.vHead.next; v !== mesh.vHead; v = v.next )\n      v.n = -1;\n\n    // Create unique IDs for all vertices and faces.\n    for ( f = mesh.fHead.next; f !== mesh.fHead; f = f.next )\n    {\n      f.n = -1;\n      if( !f.inside ) continue;\n\n      edge = f.anEdge;\n      faceVerts = 0;\n      do\n      {\n        v = edge.Org;\n        if ( v.n === -1 )\n        {\n          v.n = maxVertexCount;\n          maxVertexCount++;\n        }\n        faceVerts++;\n        edge = edge.Lnext;\n      }\n      while (edge !== f.anEdge);\n      \n      assert( faceVerts <= polySize );\n\n      f.n = maxFaceCount;\n      ++maxFaceCount;\n    }\n\n    this.elementCount = maxFaceCount;\n    if (elementType === Tess2.CONNECTED_POLYGONS)\n      maxFaceCount *= 2;\n/*\t\ttess.elements = (TESSindex*)tess->alloc.memalloc( tess->alloc.userData,\n                              sizeof(TESSindex) * maxFaceCount * polySize );\n    if (!tess->elements)\n    {\n      tess->outOfMemory = 1;\n      return;\n    }*/\n    this.elements = [];\n    this.elements.length = maxFaceCount * polySize;\n    \n    this.vertexCount = maxVertexCount;\n/*\t\ttess->vertices = (TESSreal*)tess->alloc.memalloc( tess->alloc.userData,\n                             sizeof(TESSreal) * tess->vertexCount * vertexSize );\n    if (!tess->vertices)\n    {\n      tess->outOfMemory = 1;\n      return;\n    }*/\n    this.vertices = [];\n    this.vertices.length = maxVertexCount * vertexSize;\n\n/*\t\ttess->vertexIndices = (TESSindex*)tess->alloc.memalloc( tess->alloc.userData,\n                                  sizeof(TESSindex) * tess->vertexCount );\n    if (!tess->vertexIndices)\n    {\n      tess->outOfMemory = 1;\n      return;\n    }*/\n    this.vertexIndices = [];\n    this.vertexIndices.length = maxVertexCount;\n\n    \n    // Output vertices.\n    for ( v = mesh.vHead.next; v !== mesh.vHead; v = v.next )\n    {\n      if ( v.n !== -1 )\n      {\n        // Store coordinate\n        var idx = v.n * vertexSize;\n        this.vertices[idx+0] = v.coords[0];\n        this.vertices[idx+1] = v.coords[1];\n        if ( vertexSize > 2 )\n          this.vertices[idx+2] = v.coords[2];\n        // Store vertex index.\n        this.vertexIndices[v.n] = v.idx;\n      }\n    }\n\n    // Output indices.\n    var nel = 0;\n    for ( f = mesh.fHead.next; f !== mesh.fHead; f = f.next )\n    {\n      if ( !f.inside ) continue;\n      \n      // Store polygon\n      edge = f.anEdge;\n      faceVerts = 0;\n      do\n      {\n        v = edge.Org;\n        this.elements[nel++] = v.n;\n        faceVerts++;\n        edge = edge.Lnext;\n      }\n      while (edge !== f.anEdge);\n      // Fill unused.\n      for (i = faceVerts; i < polySize; ++i)\n        this.elements[nel++] = -1;\n\n      // Store polygon connectivity\n      if ( elementType === Tess2.CONNECTED_POLYGONS )\n      {\n        edge = f.anEdge;\n        do\n        {\n          this.elements[nel++] = this.getNeighbourFace_( edge );\n          edge = edge.Lnext;\n        }\n        while (edge !== f.anEdge);\n        // Fill unused.\n        for (i = faceVerts; i < polySize; ++i)\n          this.elements[nel++] = -1;\n      }\n    }\n  },\n\n//\tvoid OutputContours( TESStesselator *tess, TESSmesh *mesh, int vertexSize )\n  outputContours_: function( mesh, vertexSize ) {\n    var f;\n    var edge;\n    var start;\n    var verts;\n    var elements;\n    var vertInds;\n    var startVert = 0;\n    var vertCount = 0;\n\n    this.vertexCount = 0;\n    this.elementCount = 0;\n\n    for ( f = mesh.fHead.next; f !== mesh.fHead; f = f.next )\n    {\n      if ( !f.inside ) continue;\n\n      start = edge = f.anEdge;\n      do\n      {\n        this.vertexCount++;\n        edge = edge.Lnext;\n      }\n      while ( edge !== start );\n\n      this.elementCount++;\n    }\n\n/*\t\ttess->elements = (TESSindex*)tess->alloc.memalloc( tess->alloc.userData,\n                              sizeof(TESSindex) * tess->elementCount * 2 );\n    if (!tess->elements)\n    {\n      tess->outOfMemory = 1;\n      return;\n    }*/\n    this.elements = [];\n    this.elements.length = this.elementCount * 2;\n    \n/*\t\ttess->vertices = (TESSreal*)tess->alloc.memalloc( tess->alloc.userData,\n                              sizeof(TESSreal) * tess->vertexCount * vertexSize );\n    if (!tess->vertices)\n    {\n      tess->outOfMemory = 1;\n      return;\n    }*/\n    this.vertices = [];\n    this.vertices.length = this.vertexCount * vertexSize;\n\n/*\t\ttess->vertexIndices = (TESSindex*)tess->alloc.memalloc( tess->alloc.userData,\n                                  sizeof(TESSindex) * tess->vertexCount );\n    if (!tess->vertexIndices)\n    {\n      tess->outOfMemory = 1;\n      return;\n    }*/\n    this.vertexIndices = [];\n    this.vertexIndices.length = this.vertexCount;\n\n    var nv = 0;\n    var nvi = 0;\n    var nel = 0;\n    startVert = 0;\n\n    for ( f = mesh.fHead.next; f !== mesh.fHead; f = f.next )\n    {\n      if ( !f.inside ) continue;\n\n      vertCount = 0;\n      start = edge = f.anEdge;\n      do\n      {\n        this.vertices[nv++] = edge.Org.coords[0];\n        this.vertices[nv++] = edge.Org.coords[1];\n        if ( vertexSize > 2 )\n          this.vertices[nv++] = edge.Org.coords[2];\n        this.vertexIndices[nvi++] = edge.Org.idx;\n        vertCount++;\n        edge = edge.Lnext;\n      }\n      while ( edge !== start );\n\n      this.elements[nel++] = startVert;\n      this.elements[nel++] = vertCount;\n\n      startVert += vertCount;\n    }\n  },\n\n  addContour: function( size, vertices )\n  {\n    var e;\n    var i;\n\n    if ( this.mesh === null )\n        this.mesh = new TESSmesh();\n/*\t \tif ( tess->mesh == NULL ) {\n      tess->outOfMemory = 1;\n      return;\n    }*/\n\n    if ( size < 2 )\n      size = 2;\n    if ( size > 3 )\n      size = 3;\n\n    e = null;\n\n    for( i = 0; i < vertices.length; i += size )\n    {\n      if( e === null ) {\n        /* Make a self-loop (one vertex, one edge). */\n        e = this.mesh.makeEdge();\n/*\t\t\t\tif ( e == NULL ) {\n          tess->outOfMemory = 1;\n          return;\n        }*/\n        this.mesh.splice( e, e.Sym );\n      } else {\n        /* Create a new vertex and edge which immediately follow e\n        * in the ordering around the left face.\n        */\n        this.mesh.splitEdge( e );\n        e = e.Lnext;\n      }\n\n      /* The new vertex is now e->Org. */\n      e.Org.coords[0] = vertices[i+0];\n      e.Org.coords[1] = vertices[i+1];\n      if ( size > 2 )\n        e.Org.coords[2] = vertices[i+2];\n      else\n        e.Org.coords[2] = 0.0;\n      /* Store the insertion number so that the vertex can be later recognized. */\n      e.Org.idx = this.vertexIndexCounter++;\n\n      /* The winding of an edge says how the winding number changes as we\n      * cross from the edge''s right face to its left face.  We add the\n      * vertices in such an order that a CCW contour will add +1 to\n      * the winding number of the region inside the contour.\n      */\n      e.winding = 1;\n      e.Sym.winding = -1;\n    }\n  },\n\n//\tint tessTesselate( TESStesselator *tess, int windingRule, int elementType, int polySize, int vertexSize, const TESSreal* normal )\n  tesselate: function( windingRule, elementType, polySize, vertexSize, normal ) {\n    this.vertices = [];\n    this.elements = [];\n    this.vertexIndices = [];\n\n    this.vertexIndexCounter = 0;\n    \n    if (normal)\n    {\n      this.normal[0] = normal[0];\n      this.normal[1] = normal[1];\n      this.normal[2] = normal[2];\n    }\n\n    this.windingRule = windingRule;\n\n    if (vertexSize < 2)\n      vertexSize = 2;\n    if (vertexSize > 3)\n      vertexSize = 3;\n\n/*\t\tif (setjmp(tess->env) != 0) { \n      // come back here if out of memory\n      return 0;\n    }*/\n\n    if (!this.mesh)\n    {\n      return false;\n    }\n\n    /* Determine the polygon normal and project vertices onto the plane\n    * of the polygon.\n    */\n    this.projectPolygon_();\n\n    /* tessComputeInterior( tess ) computes the planar arrangement specified\n    * by the given contours, and further subdivides this arrangement\n    * into regions.  Each region is marked \"inside\" if it belongs\n    * to the polygon, according to the rule given by tess->windingRule.\n    * Each interior region is guaranteed be monotone.\n    */\n    Sweep.computeInterior( this );\n\n    var mesh = this.mesh;\n\n    /* If the user wants only the boundary contours, we throw away all edges\n    * except those which separate the interior from the exterior.\n    * Otherwise we tessellate all the regions marked \"inside\".\n    */\n    if (elementType === Tess2.BOUNDARY_CONTOURS) {\n      this.setWindingNumber_( mesh, 1, true );\n    } else {\n      this.tessellateInterior_( mesh ); \n    }\n//\t\tif (rc == 0) longjmp(tess->env,1);  /* could've used a label */\n\n    mesh.check();\n\n    if (elementType === Tess2.BOUNDARY_CONTOURS) {\n      this.outputContours_( mesh, vertexSize );     /* output contours */\n    }\n    else\n    {\n      this.outputPolymesh_( mesh, elementType, polySize, vertexSize );     /* output polygons */\n    }\n\n//\t\t\ttess.mesh = null;\n\n    return true;\n  }\n};","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","// https://github.com/mattdesl/triangulate-contours\n/* eslint-disable */\nvar Tess2 = require('../tess2')\nvar xtend = require('xtend')\n\nmodule.exports = function(contours, opt) {\n    opt = opt||{}\n    contours = contours.filter(function(c) {\n        return c.length>2\n    })\n    \n    if (contours.length === 0) {\n        return { \n            positions: [],\n            cells: []\n        }\n    }\n\n    if (typeof opt.vertexSize !== 'number')\n        opt.vertexSize = contours[0][0].length\n\n    //flatten for tess2.js\n    contours = contours.map(function(c) {\n        return c.reduce(function(a, b) {\n            return a.concat(b)\n        })\n    })\n    \n    const windingRule = opt.rule === 'evenodd'? Tess2.WINDING_ODD : Tess2.WINDING_NONZERO;\n\n    // Tesselate\n    var res = Tess2.tesselate(xtend({\n        contours: contours,\n        windingRule,\n        elementType: Tess2.POLYGONS,\n        polySize: 3,\n        vertexSize: 2\n    }, opt))\n\n    var positions = []\n    for (var i=0; i<res.vertices.length; i+=opt.vertexSize) {\n        var pos = res.vertices.slice(i, i+opt.vertexSize)\n        positions.push(pos)\n    }\n    \n    var cells = []\n    for (i=0; i<res.elements.length; i+=3) {\n        var a = res.elements[i],\n            b = res.elements[i+1],\n            c = res.elements[i+2]\n        cells.push([a, b, c])\n    }\n\n    //return a simplicial complex\n    return {\n        positions: positions,\n        cells: cells\n    }\n}","import {vec2, mat2d} from 'gl-matrix';\nimport getBounds from 'bound-points';\nimport Stroke from './extrude-contours';\nimport flattenMeshes from './utils/flatten-meshes';\nimport vectorToRGBA from './utils/vector-to-rgba';\nimport {multiply, grayscale, brightness,\n  saturate, contrast, invert,\n  sepia, opacity, hueRotate} from './utils/color-matrix';\nimport {isUnitTransform} from './utils/transform';\nimport {getPointAtLength, getTotalLength, getDashContours} from './utils/contours';\nimport triangulate from './triangulate-contours';\nimport createContours from './svg-path-contours';\nimport parseColor from './utils/parse-color';\nimport Figure2D from './figure2d';\nimport ENV from './utils/env';\n\nconst _mesh = Symbol('mesh');\nconst _contours = Symbol('contours');\nconst _stroke = Symbol('stroke');\nconst _fill = Symbol('fill');\nconst _strokeColor = Symbol('strokeColor');\nconst _fillColor = Symbol('fillColor');\nconst _transform = Symbol('transform');\nconst _invertTransform = Symbol('invertTransform');\nconst _uniforms = Symbol('uniforms');\nconst _texOptions = Symbol('texOptions');\nconst _blend = Symbol('blend');\nconst _applyTexture = Symbol('applyTexture');\nconst _applyTransform = Symbol('applyTransform');\nconst _applyGradientTransform = Symbol('applyGradientTransform');\nconst _applyProgram = Symbol('applyProgram');\nconst _gradient = Symbol('gradient');\n\nconst _filter = Symbol('filter');\nconst _opacity = Symbol('opacity');\n\nconst _program = Symbol('program');\nconst _attributes = Symbol('attributes');\n\nconst _pass = Symbol('pass');\n\nconst _clipContext = Symbol('clipContext');\nconst _applyClipPath = Symbol('applyClipPath');\n\n// function normalizePoints(points, bound) {\n//   const [w, h] = bound[1];\n//   for(let i = 0; i < points.length; i++) {\n//     const point = points[i];\n//     point[0] = 2 * point[0] / w - 1;\n//     point[1] = 1 - 2 * point[1] / h;\n//   }\n// }\n\nfunction generateUV(bounds, positions) {\n  const [w, h] = [bounds[1][0] - bounds[0][0], bounds[1][1] - bounds[0][1]];\n  const ret = [];\n  for(let j = 0; j < positions.length; j++) {\n    const p = positions[j];\n    const uv = [(p[0] - bounds[0][0]) / w, 1 - (p[1] - bounds[0][1]) / h];\n    ret.push(uv);\n  }\n  return ret;\n}\n\nfunction getTexCoord([x, y], [ox, oy, w, h], {scale}) {\n  if(!scale) {\n    x /= w;\n    y = 1 - y / h;\n    x -= ox;\n    y += oy;\n  }\n\n  return [x, y, 0];\n}\n\nfunction accurate(path, scale, simplify) {\n  const contours = createContours(path, scale, simplify);\n  contours.path = path;\n  contours.simplify = simplify;\n  contours.scale = scale;\n  return contours;\n}\n\nexport default class Mesh2D {\n  constructor(figure) {\n    this[_stroke] = null;\n    this[_fill] = null;\n    this[_transform] = [1, 0, 0, 1, 0, 0];\n    this[_opacity] = 1.0;\n    this[_uniforms] = {};\n    this[_filter] = [];\n    this[_blend] = null;\n    this[_texOptions] = {};\n    this.contours = figure.contours;\n    this[_program] = null;\n    this[_attributes] = {};\n    this[_pass] = [];\n  }\n\n  get contours() {\n    return this[_contours];\n  }\n\n  set contours(contours) {\n    this[_mesh] = null;\n    this[_contours] = contours;\n    const scale = contours.scale;\n    const acc = this.transformScale / scale;\n    if(acc > 1.5) {\n      this.accurate(this.transformScale);\n    }\n  }\n\n  setProgram(program) {\n    this[_program] = program;\n    if(this[_mesh]) {\n      this[_applyProgram](program);\n    }\n  }\n\n  get program() {\n    return this[_program];\n  }\n\n  setAttribute(key, setter) {\n    if(setter == null) {\n      delete this[_attributes][key];\n    } else {\n      this[_attributes][key] = setter;\n    }\n  }\n\n  getOpacity() {\n    return this[_opacity];\n  }\n\n  setOpacity(value) {\n    if(value < 0 || value > 1.0) throw new TypeError('Invalid opacity value.');\n    if(this[_mesh]) {\n      this[_mesh].positions.forEach((p) => {\n        p[2] = 1 / p[2] > 0 ? value : -value;\n      });\n    }\n    this[_opacity] = value;\n  }\n\n  setClipPath(path) {\n    this.clipPath = path;\n    if(this[_uniforms].u_clipSampler) {\n      this[_uniforms].u_clipSampler.delete();\n    }\n    this.setUniforms({\n      u_clipSampler: null,\n    });\n    if(this[_mesh]) {\n      delete this[_mesh].attributes.a_clipUV;\n    }\n    if(path && this[_mesh]) {\n      this[_applyClipPath]();\n    }\n  }\n\n  [_applyClipPath]() {\n    if(this.clipPath) {\n      if(!this[_clipContext]) {\n        this[_clipContext] = ENV.createCanvas(1, 1);\n      }\n      const [[x, y], [w, h]] = this.boundingBox;\n      if(w && h) {\n        this[_clipContext].width = w - x;\n        this[_clipContext].height = h - y;\n      }\n      const context = this[_clipContext].getContext('2d');\n      const path = new Path2D(this.clipPath);\n      context.clearRect(0, 0, this[_clipContext].width, this[_clipContext].height);\n      context.save();\n      context.translate(-x, -y);\n      context.fillStyle = 'white';\n      context.fill(path);\n      context.restore();\n      this[_mesh].clipPath = this[_clipContext];\n      const uv = generateUV(this.boundingBox, this[_mesh].position0);\n      this[_mesh].attributes.a_clipUV = uv;\n    }\n  }\n\n  getPointAtLength(length) {\n    return getPointAtLength(this[_contours], length);\n  }\n\n  getTotalLength() {\n    return getTotalLength(this[_contours]);\n  }\n\n  get blend() {\n    return this[_blend] == null ? 'auto' : this[_blend];\n  }\n\n  set blend(blend) {\n    this[_blend] = blend;\n    if(this[_mesh]) this[_mesh].enableBlend = this.enableBlend;\n  }\n\n  get boundingBox() {\n    if(this[_mesh] && this[_mesh].boundingBox) return this[_mesh].boundingBox;\n\n    const meshData = this.meshData;\n    if(meshData) {\n      const positions = meshData.position0;\n      if(positions.length) meshData.boundingBox = getBounds(positions);\n      else return [[0, 0], [0, 0]];\n      return meshData.boundingBox;\n    }\n    return [[0, 0], [0, 0]];\n  }\n\n  get boundingCenter() {\n    const bound = this.boundingBox;\n    if(bound) {\n      return [0.5 * (bound[0][0] + bound[1][0]), 0.5 * (bound[0][1] + bound[1][1])];\n    }\n    return [0, 0];\n  }\n\n  get fillRule() {\n    if(this[_fill]) {\n      return this[_fill].rule;\n    }\n    return 'nonzero';\n  }\n\n  get lineWidth() {\n    if(this[_stroke]) {\n      return this[_stroke].lineWidth;\n    }\n    return 0;\n  }\n\n  get lineCap() {\n    if(this[_stroke]) {\n      return this[_stroke].lineCap;\n    }\n    return '';\n  }\n\n  get lineJoin() {\n    if(this[_stroke]) {\n      return this[_stroke].lineJoin;\n    }\n    return '';\n  }\n\n  get miterLimit() {\n    if(this[_stroke]) {\n      return this[_stroke].miterLimit;\n    }\n    return 0;\n  }\n\n  get strokeStyle() {\n    if(this[_strokeColor] && this[_strokeColor][3] !== 0) {\n      return vectorToRGBA(this[_strokeColor]);\n    }\n    return '';\n  }\n\n  get lineDash() {\n    if(this[_stroke]) {\n      return this[_stroke].lineDash;\n    }\n    return null;\n  }\n\n  get lineDashOffset() {\n    if(this[_stroke]) {\n      return this[_stroke].lineDashOffset;\n    }\n    return 0;\n  }\n\n  get fillStyle() {\n    if(this[_fillColor] && this[_fillColor][3] !== 0) {\n      return vectorToRGBA(this[_fillColor]);\n    }\n    return '';\n  }\n\n  get gradient() {\n    return this[_gradient];\n  }\n\n  get texture() {\n    if(this[_uniforms].u_texSampler) {\n      return {\n        image: this[_uniforms].u_texSampler._img,\n        options: this[_texOptions],\n      };\n    }\n    return null;\n  }\n\n  get enableBlend() {\n    if(this[_blend] === true || this[_blend] === false) return this[_blend];\n    return this[_opacity] < 1.0\n      || this[_strokeColor] != null && this[_strokeColor][3] < 1.0\n      || this[_fillColor] != null && this[_fillColor][3] < 1.0\n      || this[_uniforms].u_colorMatrix != null && this[_uniforms].u_colorMatrix[18] < 1.0\n      || this[_uniforms].u_radialGradientVector != null\n      || this.beforeRender\n      || this.afterRender;\n  }\n\n  get filterCanvas() {\n    return /blur|drop-shadow|url/.test(this.filter);\n  }\n\n  get filter() {\n    return this[_filter].join(' ');\n  }\n\n  get transformMatrix() {\n    return this[_transform];\n  }\n\n  get invertMatrix() {\n    if(!this[_invertTransform]) {\n      const m = mat2d.invert(this[_transform]);\n      this[_invertTransform] = m;\n    }\n    return this[_invertTransform];\n  }\n\n  get transformScale() {\n    const m = this[_transform];\n    return Math.max(Math.hypot(m[0], m[1]), Math.hypot(m[2], m[3]));\n  }\n\n  get uniforms() {\n    return this[_uniforms];\n  }\n\n  get pass() {\n    return this[_pass];\n  }\n\n  [_applyProgram](program) {\n    const attributes = this[_attributes];\n    const positions = this[_mesh].position0;\n    const attribs = Object.entries(program._attribute);\n    for(let i = 0; i < attribs.length; i++) {\n      const [name, opts] = attribs[i];\n      if(name !== 'a_color' && name !== 'a_sourceRect' && opts !== 'ignored') {\n        const setter = attributes[name];\n        // console.log(opts.size);\n        if(name === 'uv' && !setter) {\n          const bounds = this[_mesh].boundingBox || getBounds(positions);\n          this[_mesh].attributes[name] = generateUV(bounds, positions);\n        } else {\n          this[_mesh].attributes[name] = [];\n          for(let j = 0; j < positions.length; j++) {\n            const p = positions[j];\n            this[_mesh].attributes[name].push(setter ? setter(p, i, positions) : Array(opts.size).fill(0));\n          }\n        }\n      }\n    }\n  }\n\n  // {stroke, fill}\n  get meshData() { // eslint-disable-line complexity\n    if(this._updateMatrix) {\n      const acc = this.transformScale / this.contours.scale;\n      if(acc > 1.5) {\n        this.accurate(this.transformScale);\n      }\n    }\n    if(!this[_mesh]) {\n      if(!this[_fill] && !this[_stroke]) {\n        this.setFill();\n      }\n\n      const contours = this[_contours];\n      const meshes = {};\n\n      if(contours && contours.length) {\n        if(this[_fill]) {\n          try {\n            const mesh = triangulate(contours, this[_fill]);\n            mesh.positions = mesh.positions.map((p) => {\n              p.push(this[_opacity]);\n              return p;\n            });\n            mesh.attributes = {\n              a_color: Array.from({length: mesh.positions.length}).map(() => this[_fillColor].map(c => Math.round(255 * c))),\n              // a_sourceRect: Array.from({length: mesh.positions.length}).map(() => [0, 0, 0, 0]),\n            };\n            meshes.fill = mesh;\n          } catch (ex) {\n            // ignore this[_fill]\n          }\n        }\n\n        if(this[_stroke]) {\n          const lineDash = this[_stroke].lineDash;\n          let strokeContours = contours;\n          if(lineDash) {\n            const lineDashOffset = this[_stroke].lineDashOffset;\n            strokeContours = getDashContours(contours, lineDash, lineDashOffset);\n          }\n          const _meshes = strokeContours.map((lines, i) => {\n            const closed = lines.length > 1 && vec2.equals(lines[0], lines[lines.length - 1]);\n            const points = this[_stroke].build(lines, closed);\n            return triangulate([points]);\n          });\n          _meshes.forEach((mesh) => {\n            mesh.positions = mesh.positions.map((p) => {\n              p.push(-this[_opacity]);\n              return p;\n            });\n            mesh.attributes = {\n              a_color: Array.from({length: mesh.positions.length}).map(() => this[_strokeColor].map(c => Math.round(255 * c))),\n            };\n          });\n          meshes.stroke = flattenMeshes(_meshes);\n        }\n      }\n\n      const mesh = flattenMeshes([meshes.fill, meshes.stroke]);\n      mesh.fillPointCount = meshes.fill ? meshes.fill.positions.length : 0;\n      mesh.enableBlend = this.enableBlend;\n      mesh.position0 = mesh.positions.map(([x, y, z]) => [x, y, z]);\n\n      mesh.uniforms = this[_uniforms];\n      // if(!mesh.uniforms.u_filterFlag) mesh.uniforms.u_filterFlag = 0;\n      // if(!mesh.uniforms.u_radialGradientVector) mesh.uniforms.u_radialGradientVector = [0, 0, 0, 0, 0, 0];\n      this[_mesh] = mesh;\n\n      if(!this[_uniforms].u_texSampler) {\n        // mesh.textureCoord = mesh.positions.map(() => [0, 0]);\n      } else {\n        this[_applyTexture](mesh, this[_texOptions]);\n      }\n\n      const transform = this[_transform];\n      if(!isUnitTransform(transform)) {\n        this[_applyTransform](mesh, transform);\n        if(this[_uniforms].u_radialGradientVector) this[_applyGradientTransform]();\n      }\n\n      if(this.clipPath) {\n        this[_applyClipPath]();\n      }\n\n      if(this[_program]) this[_applyProgram](this[_program]);\n    }\n\n    if(this._updateMatrix) {\n      this[_mesh].matrix = this[_transform];\n      this[_applyTransform](this[_mesh], this[_transform]);\n      if(this[_uniforms].u_radialGradientVector) this[_applyGradientTransform]();\n    }\n    return this[_mesh];\n  }\n\n  [_applyTransform](mesh, m) {\n    const {positions, position0: p} = mesh;\n\n    for(let i = 0; i < positions.length; i++) {\n      const [x, y] = p[i];\n      const position = positions[i];\n      position[0] = x * m[0] + y * m[2] + m[4];\n      position[1] = x * m[1] + y * m[3] + m[5];\n    }\n    this._updateMatrix = false;\n  }\n\n  [_applyGradientTransform]() {\n    const m = this[_transform];\n    const vector = [...this._radialGradientVector];\n    if(vector) {\n      const [x1, y1, , x2, y2] = vector;\n      vector[0] = x1 * m[0] + y1 * m[2] + m[4];\n      vector[1] = x1 * m[1] + y1 * m[3] + m[5];\n      vector[3] = x2 * m[0] + y2 * m[2] + m[4];\n      vector[4] = x2 * m[1] + y2 * m[3] + m[5];\n      this[_uniforms].u_radialGradientVector = vector;\n    }\n  }\n\n  [_applyTexture](mesh, options) {\n    function compareRect(r1, r2) {\n      if(r1 == null && r2 == null) return true;\n      if(r1 == null || r2 == null) return false;\n      return r1[0] === r2[0] && r1[1] === r2[1] && r1[2] === r2[2] && r1[3] === r2[3];\n    }\n\n    const texture = this[_uniforms].u_texSampler;\n    if(!texture) return;\n\n    const {width: imgWidth, height: imgHeight} = texture._img;\n\n    const srcRect = options.srcRect;\n\n    let rect = options.rect || [0, 0];\n\n    if(options.rotated) {\n      rect = [-rect[1], rect[0], rect[3], rect[2]];\n    }\n\n    if(rect[2] == null) rect[2] = srcRect ? srcRect[2] : imgWidth;\n    if(rect[3] == null) rect[3] = srcRect ? srcRect[3] : imgHeight;\n\n    if(options.hidden) {\n      mesh.textureCoord = mesh.positions.map(() => [-1, -1, -1]);\n    } else if(!mesh.textureCoord\n      || !compareRect(this[_texOptions].rect, options.rect)\n      || this[_texOptions].hidden !== options.hidden\n      || this[_texOptions].rotated !== options.rotated) {\n      let m = null;\n      if(options.rotated) {\n        m = mat2d.rotate(mat2d(1, 0, 0, 1, 0, 0), 0.5 * Math.PI);\n        m = mat2d.translate(m, [0, -rect[2]]);\n      }\n      mesh.textureCoord = mesh.position0.map(([x, y, z]) => {\n        if(1 / z > 0) {\n          // fillTag\n          if(options.rotated) {\n            const x0 = x * m[0] + y * m[2] + m[4];\n            const y0 = x * m[1] + y * m[3] + m[5];\n            [x, y] = [x0, y0];\n          }\n          const texCoord = getTexCoord([x, y], [rect[0] / rect[2], rect[1] / rect[3], rect[2], rect[3]], options);\n          if(options.repeat) texCoord[2] = 1;\n          return texCoord;\n        }\n        return [-1, -1, -1];\n      });\n    }\n\n    if(srcRect) {\n      const sRect = [srcRect[0] / imgWidth, srcRect[1] / imgHeight, srcRect[2] / imgWidth, srcRect[3] / imgHeight];\n      mesh.attributes.a_sourceRect = mesh.positions.map(() => [...sRect]);\n    } else {\n      mesh.attributes.a_sourceRect = mesh.positions.map(() => [0, 0, 0, 0]);\n    }\n  }\n\n  accurate(scale) {\n    if(!this.contours) return;\n    const path = this.contours.path;\n    if(path) {\n      const simplify = this.contours.simplify;\n      const contours = accurate(this.contours.path, 2 * scale, simplify);\n      this[_mesh] = null;\n      this[_contours] = contours;\n    }\n  }\n\n  canIgnore() {\n    const noStroke = this[_stroke] == null || this[_stroke].lineWidth === 0 || this[_strokeColor][3] === 0;\n    const noFill = this[_fill] == null || this[_fillColor][3] === 0;\n    const noGradient = this[_uniforms].u_radialGradientVector == null;\n    const noTexture = this[_uniforms].u_texSampler == null;\n    return this[_opacity] === 0 || (this[_program] == null\n      && noStroke && noFill && noGradient && noTexture && !this.beforeRender && !this.afterRender);\n  }\n\n  // join: 'miter' or 'bevel'\n  // cap: 'butt' or 'square'\n  // lineDash: null\n  // lineDashOffset: 0\n  setStroke({\n    thickness = 1,\n    cap = 'butt',\n    join = 'miter',\n    miterLimit = 10,\n    color = [0, 0, 0, 0],\n    lineDash = null,\n    lineDashOffset = 0,\n    roundSegments = 20,\n  } = {}) {\n    this[_mesh] = null;\n    this[_stroke] = new Stroke({\n      lineWidth: thickness,\n      lineCap: cap,\n      lineJoin: join,\n      miterLimit,\n      roundSegments});\n    if(typeof color === 'string') color = parseColor(color);\n    this[_strokeColor] = color;\n    this[_stroke].lineDash = lineDash;\n    this[_stroke].lineDashOffset = lineDashOffset;\n    return this;\n  }\n\n  setFill({rule = this.fillRule, color = [0, 0, 0, 0]} = {}) {\n    this[_mesh] = null;\n    this[_fill] = {rule};\n    if(typeof color === 'string') color = parseColor(color);\n    this[_fillColor] = color;\n    return this;\n  }\n\n  /**\n    options: {\n      scale: false,\n      repeat: false,\n      rotated: false,\n      rect: [10, 10],\n      srcRect: [...],\n      hidden: false,\n    }\n   */\n  setTexture(texture, options = {}) {\n    if(texture && texture.image) {\n      const {image, rect} = texture;\n      texture = image;\n      if(options.rect) {\n        for(let i = 0; i < options.rect.length; i++) {\n          rect[i] = options.rect[i];\n        }\n      }\n      options.rect = rect;\n    }\n    if(!this[_fill]) {\n      this.setFill();\n    }\n    this.setUniforms({\n      u_texSampler: texture,\n    });\n\n    if(this[_mesh]) {\n      this[_applyTexture](this[_mesh], options);\n    }\n    this[_texOptions] = options;\n    return this;\n  }\n\n  setCircularGradient({vector, colors: gradientColors, type = 'fill'} = {}) {\n    if(vector.length !== 3) throw new TypeError('Invalid linearGradient.');\n    this.setGradient({vector, colors: gradientColors, type});\n  }\n\n  setLinearGradient({vector, colors: gradientColors, type = 'fill'} = {}) {\n    if(vector.length !== 4) throw new TypeError('Invalid linearGradient.');\n    this.setGradient({vector, colors: gradientColors, type});\n  }\n\n  setRadialGradient({vector, colors: gradientColors, type = 'fill'} = {}) {\n    if(vector.length !== 6) throw new TypeError('Invalid radialGradient.');\n    this.setGradient({vector, colors: gradientColors, type});\n  }\n\n  /**\n    vector: [x0, y0, r0, x1, y1, r1],\n    colors: [{offset:0, color}, {offset:1, color}, ...],\n   */\n  setGradient({vector, colors: gradientColors, type = 'fill'} = {}) {\n    gradientColors = gradientColors.map(({offset, color}) => {\n      if(typeof color === 'string') color = parseColor(color);\n      return {offset, color};\n    });\n\n    this[_gradient] = this[_gradient] || {};\n    this[_gradient][type] = {vector, colors: gradientColors};\n\n    gradientColors.sort((a, b) => {\n      return a.offset - b.offset;\n    });\n\n    const colorSteps = [];\n    gradientColors.forEach(({offset, color}) => {\n      colorSteps.push(offset, ...color);\n    });\n\n    let _vector;\n    if(vector.length === 4) {\n      // linear gradient;\n      _vector = [vector[0], vector[1], 0, vector[2], vector[3], 0];\n    } else {\n      _vector = [...vector];\n    }\n\n    if(colorSteps.length < 40) colorSteps.push(-1);\n    if(colorSteps.length > 40) throw new Error('Too many colors, should be less than 8 colors');\n\n    this._radialGradientVector = _vector;\n    this[_uniforms].u_colorSteps = colorSteps;\n    if(type === 'fill') this[_uniforms].u_gradientType = 1;\n    else this[_uniforms].u_gradientType = 0;\n\n    this[_applyGradientTransform]();\n\n    return this;\n  }\n\n  setUniforms(uniforms = {}) {\n    Object.assign(this[_uniforms], uniforms);\n    return this;\n  }\n\n  setTransform(...m) {\n    const transform = this[_transform];\n    if(!mat2d.equals(m, transform)) {\n      this[_transform] = m;\n      delete this[_invertTransform];\n      this._updateMatrix = true;\n    }\n    return this;\n  }\n\n  transform(...m) {\n    const transform = this[_transform];\n    this[_transform] = mat2d(transform) * mat2d(m);\n    delete this[_invertTransform];\n    this._updateMatrix = true;\n    return this;\n  }\n\n  translate(x, y) {\n    let m = mat2d.create();\n    m = mat2d.translate(m, [x, y]);\n    return this.transform(...m);\n  }\n\n  rotate(rad, [ox, oy] = [0, 0]) {\n    let m = mat2d.create();\n    m = mat2d.translate(m, [ox, oy]);\n    m = mat2d.rotate(m, rad);\n    m = mat2d.translate(m, [-ox, -oy]);\n    return this.transform(...m);\n  }\n\n  scale(x, y = x, [ox, oy] = [0, 0]) {\n    let m = mat2d.create();\n    m = mat2d.translate(m, [ox, oy]);\n    m = mat2d.scale(m, [x, y]);\n    m = mat2d.translate(m, [-ox, -oy]);\n    return this.transform(...m);\n  }\n\n  skew(x, y = x, [ox, oy] = [0, 0]) {\n    let m = mat2d.create();\n    m = mat2d.translate(m, [ox, oy]);\n    m = mat2d(m) * mat2d(1, Math.tan(y), Math.tan(x), 1, 0, 0);\n    m = mat2d.translate(m, [-ox, -oy]);\n    return this.transform(...m);\n  }\n\n  clearFilter() {\n    this.setColorTransform(null);\n    this[_filter].length = 0;\n    return this;\n  }\n\n  setColorTransform(...m) {\n    if(m[0] === null) {\n      this.setUniforms({\n        u_filterFlag: 0,\n        u_colorMatrix: 0,\n      });\n    } else {\n      this.setUniforms({\n        u_filterFlag: 1,\n        u_colorMatrix: m,\n      });\n    }\n    return this;\n  }\n\n  // apply linear color transform\n  transformColor(...m) {\n    let transform = this.uniforms.u_colorMatrix;\n    if(transform) {\n      transform = multiply(transform, m);\n    } else {\n      transform = m;\n    }\n    this.setColorTransform(...transform);\n    return this;\n  }\n\n  blur(length) {\n    this[_filter].push(`blur(${length}px)`);\n    return this;\n  }\n\n  brightness(p = 1.0) {\n    this[_filter].push(`brightness(${100 * p}%)`);\n    return this.transformColor(...brightness(p));\n  }\n\n  contrast(p = 1.0) {\n    this[_filter].push(`contrast(${100 * p}%)`);\n    return this.transformColor(...contrast(p));\n  }\n\n  dropShadow(offsetX, offsetY, blurRadius = 0, color = [0, 0, 0, 1]) {\n    if(Array.isArray(color)) color = vectorToRGBA(color);\n    this[_filter].push(`drop-shadow(${offsetX}px ${offsetY}px ${blurRadius}px ${color})`);\n    return this;\n  }\n\n  grayscale(p = 1.0) {\n    this[_filter].push(`grayscale(${100 * p}%)`);\n    return this.transformColor(...grayscale(p));\n  }\n\n  // https://github.com/phoboslab/WebGLImageFilter/blob/master/webgl-image-filter.js#L371\n  hueRotate(deg = 0) {\n    this[_filter].push(`hue-rotate(${deg}deg)`);\n    return this.transformColor(...hueRotate(deg));\n  }\n\n  invert(p = 1.0) {\n    this[_filter].push(`invert(${100 * p}%)`);\n    return this.transformColor(...invert(p));\n  }\n\n  opacity(p = 1.0) {\n    this[_filter].push(`opacity(${100 * p}%)`);\n    return this.transformColor(...opacity(p));\n  }\n\n  saturate(p = 1.0) {\n    this[_filter].push(`saturate(${100 * p}%)`);\n    return this.transformColor(...saturate(p));\n  }\n\n  sepia(p = 1.0) {\n    this[_filter].push(`sepia(${100 * p}%)`);\n    return this.transformColor(...sepia(p));\n  }\n\n  url(svgFilter) {\n    this[_filter].push(`url(${svgFilter})`);\n    return this;\n  }\n\n  isPointCollision(x, y, type = 'both') {\n    const meshData = this.meshData;\n    const {positions, cells} = meshData;\n\n    const m = this.invertMatrix;\n    const x0 = m[0] * x + m[2] * y + m[4];\n    const y0 = m[1] * x + m[3] * y + m[5];\n    const box = this.boundingBox;\n    if(x0 < box[0][0] || x0 > box[1][0] || y0 < box[0][1] || y0 > box[1][1]) {\n      return false;\n    }\n\n    function projectionOn([x0, y0], [x1, y1], [x2, y2]) {\n      const v2x = x2 - x1;\n      const v2y = y2 - y1;\n      const p = ((x0 - x1) * v2x + (y0 - y1) * v2y) / (v2x ** 2 + v2y ** 2);\n      return p >= 0 && p <= 1;\n    }\n\n    for(let i = 0; i < cells.length; i++) {\n      const cell = cells[i];\n      if(type === 'fill' && cell[0] >= meshData.fillPointCount) break;\n      if(type === 'stroke' && cell[0] < meshData.fillPointCount) continue; // eslint-disable-line no-continue\n      const [[x1, y1], [x2, y2], [x3, y3]] = cell.map(idx => positions[idx]);\n      const s1 = Math.sign((x - x1) * (y2 - y1) - (x2 - x1) * (y - y1));\n      if(s1 === 0 && projectionOn([x, y], [x1, y1], [x2, y2])) {\n        return true;\n      }\n      const s2 = Math.sign((x - x2) * (y3 - y2) - (x3 - x2) * (y - y2));\n      if(s2 === 0 && projectionOn([x, y], [x2, y2], [x3, y3])) {\n        return true;\n      }\n      const s3 = Math.sign((x - x3) * (y1 - y3) - (x1 - x3) * (y - y3));\n      if(s3 === 0 && projectionOn([x, y], [x3, y3], [x1, y1])) {\n        return true;\n      }\n      if(s1 === 1 && s2 === 1 && s3 === 1\n        || s1 === -1 && s2 === -1 && s3 === -1) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  isPointInFill(x, y) {\n    return this.isPointCollision(x, y, 'fill');\n  }\n\n  isPointInStroke(x, y) {\n    return this.isPointCollision(x, y, 'stroke');\n  }\n\n  addPass(program, {width, height, ...uniforms} = {}) {\n    const figure = new Figure2D();\n    figure.rect(0, 0, width, height);\n    const mesh = new Mesh2D(figure, {width, height});\n    mesh.setUniforms(uniforms);\n    mesh.setProgram(program);\n    this[_pass].push(mesh);\n  }\n}\n","module.exports=\"#define GLSLIFY 1\\nattribute vec3 a_vertexPosition;\\nattribute vec4 a_color;\\nvarying vec4 vColor;\\nvarying float flagBackground;\\nuniform vec2 u_resolution;\\nuniform mat3 viewMatrix;\\nuniform mat3 projectionMatrix;\\n\\n#ifdef TEXTURE\\nattribute vec3 a_vertexTextureCoord;\\nvarying vec3 vTextureCoord;\\nattribute vec4 a_sourceRect;\\nvarying vec4 vSourceRect;\\n#endif\\n\\n#ifdef CLIPPATH\\nattribute vec2 a_clipUV;\\nvarying vec2 vClipUV;\\n#endif\\n\\n#ifdef GRADIENT\\nuniform float u_radialGradientVector[6];\\nvarying vec3 vGradientVector1;\\nvarying vec3 vGradientVector2;\\n#endif\\n\\nvoid main() {\\n  gl_PointSize = 1.0;\\n\\n  vec3 pos = projectionMatrix * viewMatrix * vec3(a_vertexPosition.xy, 1.0);\\n  gl_Position = vec4(pos.xy, 1.0, 1.0);\\n\\n#ifdef GRADIENT\\n  vec3 vg1 = viewMatrix * vec3(u_radialGradientVector[0], u_radialGradientVector[1], 1.0);\\n  vec3 vg2 = viewMatrix * vec3(u_radialGradientVector[3], u_radialGradientVector[4], 1.0);\\n  float h = u_resolution.y;\\n  vg1.y = h - vg1.y;\\n  vg2.y = h - vg2.y;\\n  vGradientVector1 = vec3(vg1.xy, u_radialGradientVector[2]);\\n  vGradientVector2 = vec3(vg2.xy, u_radialGradientVector[5]);\\n#endif\\n  \\n  flagBackground = a_vertexPosition.z;\\n  vColor = a_color;\\n\\n#ifdef TEXTURE\\n  vTextureCoord = a_vertexTextureCoord;\\n  vSourceRect = a_sourceRect;\\n#endif\\n\\n#ifdef CLIPPATH\\n  vClipUV = a_clipUV;\\n#endif\\n}\";","module.exports=\"precision mediump float;\\n#define GLSLIFY 1\\n\\nvarying vec4 vColor;\\nvarying float flagBackground;\\n\\n#ifdef TEXTURE\\nvarying vec3 vTextureCoord;\\nvarying vec4 vSourceRect;\\n#endif\\n\\n#ifdef CLIPPATH\\nvarying vec2 vClipUV;\\n#endif\\n\\n#ifdef FILTER\\nuniform int u_filterFlag;\\nuniform float u_colorMatrix[20];\\n#endif\\n\\n#ifdef GRADIENT\\nvarying vec3 vGradientVector1;\\nvarying vec3 vGradientVector2;\\nuniform float u_colorSteps[40];\\nuniform int u_gradientType;\\n// uniform float u_radialGradientVector[6];\\n\\nvoid gradient(inout vec4 color, vec3 gv1, vec3 gv2, float colorSteps[40]) {\\n  float t;\\n  // center circle radius\\n  float cr = gv1.z;\\n  // focal circle radius\\n  float fr = gv2.z;\\n\\n  if(cr > 0.0 || fr > 0.0) {\\n    // radial gradient\\n    vec2 center = gv1.xy;\\n    vec2 focal = gv2.xy;\\n    float x = focal.x - gl_FragCoord.x;\\n    float y = focal.y - gl_FragCoord.y;\\n    float dx = focal.x - center.x;\\n    float dy = focal.y - center.y;\\n    float dr = cr - fr;\\n    float a = dx * dx + dy * dy - dr * dr;\\n    float b = -2.0 * (y * dy + x * dx + fr * dr);\\n    float c = x * x + y * y - fr * fr;\\n    t = 1.0 - 0.5 * (1.0 / a) * (-b + sqrt(b * b - 4.0 * a * c));\\n  } else {\\n    // linear gradient\\n    vec2 v1 = gl_FragCoord.xy - gv1.xy;\\n    vec2 v2 = gv2.xy - gv1.xy;\\n    t = (v1.x * v2.x + v1.y * v2.y) / (v2.x * v2.x + v2.y * v2.y);\\n  }\\n\\n  vec4 colors[8];\\n  colors[0] = vec4(colorSteps[1], colorSteps[2], colorSteps[3], colorSteps[4]);\\n  colors[1] = vec4(colorSteps[6], colorSteps[7], colorSteps[8], colorSteps[9]);\\n  colors[2] = vec4(colorSteps[11], colorSteps[12], colorSteps[13], colorSteps[14]);\\n  colors[3] = vec4(colorSteps[16], colorSteps[17], colorSteps[18], colorSteps[19]);\\n  colors[4] = vec4(colorSteps[21], colorSteps[22], colorSteps[23], colorSteps[24]);\\n  colors[5] = vec4(colorSteps[26], colorSteps[27], colorSteps[28], colorSteps[29]);\\n  colors[6] = vec4(colorSteps[31], colorSteps[32], colorSteps[33], colorSteps[34]);\\n  colors[7] = vec4(colorSteps[36], colorSteps[37], colorSteps[38], colorSteps[39]);\\n  \\n  float steps[8];\\n  steps[0] = colorSteps[0];\\n  steps[1] = colorSteps[5];\\n  steps[2] = colorSteps[10];\\n  steps[3] = colorSteps[15];\\n  steps[4] = colorSteps[20];\\n  steps[5] = colorSteps[25];\\n  steps[6] = colorSteps[30];\\n  steps[7] = colorSteps[35];\\n\\n  color = colors[0];\\n  for (int i = 1; i < 8; i++) {\\n    if (steps[i] < 0.0 || steps[i] > 1.0) {\\n      break;\\n    }\\n    if(steps[i] == steps[i - 1]) {\\n      color = colors[i];\\n    } else {\\n      color = mix(color, colors[i], clamp((t - steps[i - 1]) / (steps[i] - steps[i - 1]), 0.0, 1.0));\\n    }\\n    if (steps[i] >= t) {\\n      break;\\n    }\\n  }\\n}\\n#endif\\n\\n#ifdef FILTER\\nvoid transformColor(inout vec4 color, in float colorMatrix[20]) {\\n  float r = color.r, g = color.g, b = color.b, a = color.a;\\n  color[0] = colorMatrix[0] * r + colorMatrix[1] * g + colorMatrix[2] * b + colorMatrix[3] * a + colorMatrix[4];\\n  color[1] = colorMatrix[5] * r + colorMatrix[6] * g + colorMatrix[7] * b + colorMatrix[8] * a + colorMatrix[9];\\n  color[2] = colorMatrix[10] * r + colorMatrix[11] * g + colorMatrix[12] * b + colorMatrix[13] * a + colorMatrix[14];\\n  color[3] = colorMatrix[15] * r + colorMatrix[16] * g + colorMatrix[17] * b + colorMatrix[18] * a + colorMatrix[19];\\n}\\n#endif\\n\\nvoid main() {\\n  vec4 color = vColor;\\n  float opacity = abs(flagBackground);\\n\\n#ifdef GRADIENT\\n  if(u_gradientType > 0 && flagBackground > 0.0 || u_gradientType == 0 && flagBackground <= 0.0) {\\n    gradient(color, vGradientVector1, vGradientVector2, u_colorSteps);\\n  }\\n#endif\\n\\n  if(opacity < 1.0) {\\n    color.a *= opacity;\\n  }\\n\\n#ifdef TEXTURE\\n  if(flagBackground > 0.0) {\\n    vec3 texCoord = vTextureCoord;\\n\\n    if(texCoord.z == 1.0) {\\n      texCoord = fract(texCoord);\\n    }\\n\\n    if(texCoord.x <= 1.0 && texCoord.x >= 0.0\\n      && texCoord.y <= 1.0 && texCoord.y >= 0.0) {\\n      if(vSourceRect.z > 0.0) {\\n        texCoord.x = vSourceRect.x + texCoord.x * vSourceRect.z;\\n        texCoord.y = 1.0 - (vSourceRect.y + (1.0 - texCoord.y) * vSourceRect.w);\\n      }\\n      vec4 texColor = texture2D(u_texSampler, texCoord.xy);\\n      float alpha = texColor.a;\\n      if(opacity < 1.0) {\\n        texColor.a *= opacity;\\n        alpha *= mix(0.465, 1.0, opacity);\\n      }\\n      // color = mix(color, texColor, texColor.a);\\n      color.rgb = mix(color.rgb, texColor.rgb, alpha);\\n      // color.rgb = mix(texColor.rgb, color.rgb, color.a);\\n      color.rgb = mix(texColor.rgb, color.rgb, clamp(color.a / max(0.0001, texColor.a), 0.0, 1.0));\\n      color.a = texColor.a + (1.0 - texColor.a) * color.a;\\n    }\\n  }\\n#endif\\n\\n#ifdef FILTER\\n  if(u_filterFlag > 0) {\\n    transformColor(color, u_colorMatrix);\\n  }\\n#endif\\n\\n#ifdef CLIPPATH\\n  float clip = texture2D(u_clipSampler, vClipUV).r;\\n  color *= clip;\\n#endif\\n\\n  gl_FragColor = color;\\n}\";","module.exports=\"#define GLSLIFY 1\\nattribute vec3 a_vertexPosition;\\nattribute vec4 a_color;\\nvarying vec4 vColor;\\nvarying float flagBackground;\\nattribute vec3 a_transform0;\\nattribute vec3 a_transform1;\\nuniform vec2 u_resolution;\\nuniform mat3 viewMatrix;\\nuniform mat3 projectionMatrix;\\n\\n#ifdef TEXTURE\\nattribute vec3 a_vertexTextureCoord;\\nvarying vec3 vTextureCoord;\\nattribute float a_frameIndex;\\nvarying float frameIndex;\\nattribute vec4 a_sourceRect;\\nvarying vec4 vSourceRect;\\n#endif\\n\\n#ifdef CLIPPATH\\nattribute vec2 a_clipUV;\\nvarying vec2 vClipUV;\\n#endif\\n\\n#ifdef CLOUDFILTER\\nattribute vec4 a_colorCloud0;\\nattribute vec4 a_colorCloud1;\\nattribute vec4 a_colorCloud2;\\nattribute vec4 a_colorCloud3;\\nattribute vec4 a_colorCloud4;\\nvarying vec4 colorCloud0;\\nvarying vec4 colorCloud1;\\nvarying vec4 colorCloud2;\\nvarying vec4 colorCloud3;\\nvarying vec4 colorCloud4;\\n#endif\\n\\n#ifdef CLOUDCOLOR\\nattribute vec4 a_fillCloudColor;\\nattribute vec4 a_strokeCloudColor;\\n#endif\\n\\n#ifdef GRADIENT\\nuniform float u_radialGradientVector[6];\\nvarying vec3 vGradientVector1;\\nvarying vec3 vGradientVector2;\\n#endif\\n\\nvoid main() {\\n  gl_PointSize = 1.0;\\n\\n  mat3 modelMatrix = mat3(\\n    a_transform0.x, a_transform1.x, 0, \\n    a_transform0.y, a_transform1.y, 0,\\n    a_transform0.z, a_transform1.z, 1\\n  );\\n\\n  vec3 pos = projectionMatrix * viewMatrix * modelMatrix * vec3(a_vertexPosition.xy, 1.0);\\n  gl_Position = vec4(pos.xy, 1.0, 1.0);\\n\\n#ifdef GRADIENT\\n  vec3 vg1 = viewMatrix * vec3(u_radialGradientVector[0], u_radialGradientVector[1], 1.0);\\n  vec3 vg2 = viewMatrix * vec3(u_radialGradientVector[3], u_radialGradientVector[4], 1.0);\\n  float h = u_resolution.y;\\n  vg1.y = h - vg1.y;\\n  vg2.y = h - vg2.y;\\n  vGradientVector1 = vec3(vg1.xy, u_radialGradientVector[2]);\\n  vGradientVector2 = vec3(vg2.xy, u_radialGradientVector[5]);\\n#endif\\n  \\n  flagBackground = a_vertexPosition.z;\\n\\n#ifdef CLOUDCOLOR\\n  if(flagBackground > 0.0) {\\n    vColor = mix(a_color, a_fillCloudColor, a_fillCloudColor.a);\\n  } else {\\n    vColor = mix(a_color, a_strokeCloudColor, a_strokeCloudColor.a);\\n  }\\n#else\\n  vColor = a_color;\\n#endif\\n\\n#ifdef TEXTURE\\n  vTextureCoord = a_vertexTextureCoord;\\n  frameIndex = a_frameIndex;\\n  vSourceRect = a_sourceRect;\\n#endif\\n\\n#ifdef CLIPPATH\\n  vClipUV = a_clipUV;\\n#endif\\n\\n#ifdef CLOUDFILTER\\n  colorCloud0 = a_colorCloud0;\\n  colorCloud1 = a_colorCloud1;\\n  colorCloud2 = a_colorCloud2;\\n  colorCloud3 = a_colorCloud3;\\n  colorCloud4 = a_colorCloud4;\\n#endif\\n}\";","module.exports=\"precision mediump float;\\n#define GLSLIFY 1\\n\\nvarying vec4 vColor;\\nvarying float flagBackground;\\n\\n#ifdef TEXTURE\\nvarying float frameIndex;\\nvarying vec3 vTextureCoord;\\nvarying vec4 vSourceRect;\\n#endif\\n\\n#ifdef CLIPPATH\\nvarying vec2 vClipUV;\\n#endif\\n\\n#ifdef FILTER\\nuniform int u_filterFlag;\\nuniform float u_colorMatrix[20];\\n#endif\\n\\n#ifdef CLOUDFILTER\\nvarying vec4 colorCloud0;\\nvarying vec4 colorCloud1;\\nvarying vec4 colorCloud2;\\nvarying vec4 colorCloud3;\\nvarying vec4 colorCloud4;\\n#endif\\n\\n#ifdef GRADIENT\\nvarying vec3 vGradientVector1;\\nvarying vec3 vGradientVector2;\\nuniform float u_colorSteps[40];\\nuniform int u_gradientType;\\n\\nvoid gradient(inout vec4 color, vec3 gv1, vec3 gv2, float colorSteps[40]) {\\n  float t;\\n  // center circle radius\\n  float cr = gv1.z;\\n  // focal circle radius\\n  float fr = gv2.z;\\n\\n  if(cr > 0.0 || fr > 0.0) {\\n    // radial gradient\\n    vec2 center = gv1.xy;\\n    vec2 focal = gv2.xy;\\n    float x = focal.x - gl_FragCoord.x;\\n    float y = focal.y - gl_FragCoord.y;\\n    float dx = focal.x - center.x;\\n    float dy = focal.y - center.y;\\n    float dr = cr - fr;\\n    float a = dx * dx + dy * dy - dr * dr;\\n    float b = -2.0 * (y * dy + x * dx + fr * dr);\\n    float c = x * x + y * y - fr * fr;\\n    t = 1.0 - 0.5 * (1.0 / a) * (-b + sqrt(b * b - 4.0 * a * c));\\n  } else {\\n    // linear gradient\\n    vec2 v1 = gl_FragCoord.xy - gv1.xy;\\n    vec2 v2 = gv2.xy - gv1.xy;\\n    t = (v1.x * v2.x + v1.y * v2.y) / (v2.x * v2.x + v2.y * v2.y);\\n  }\\n\\n  vec4 colors[8];\\n  colors[0] = vec4(colorSteps[1], colorSteps[2], colorSteps[3], colorSteps[4]);\\n  colors[1] = vec4(colorSteps[6], colorSteps[7], colorSteps[8], colorSteps[9]);\\n  colors[2] = vec4(colorSteps[11], colorSteps[12], colorSteps[13], colorSteps[14]);\\n  colors[3] = vec4(colorSteps[16], colorSteps[17], colorSteps[18], colorSteps[19]);\\n  colors[4] = vec4(colorSteps[21], colorSteps[22], colorSteps[23], colorSteps[24]);\\n  colors[5] = vec4(colorSteps[26], colorSteps[27], colorSteps[28], colorSteps[29]);\\n  colors[6] = vec4(colorSteps[31], colorSteps[32], colorSteps[33], colorSteps[34]);\\n  colors[7] = vec4(colorSteps[36], colorSteps[37], colorSteps[38], colorSteps[39]);\\n  \\n  float steps[8];\\n  steps[0] = colorSteps[0];\\n  steps[1] = colorSteps[5];\\n  steps[2] = colorSteps[10];\\n  steps[3] = colorSteps[15];\\n  steps[4] = colorSteps[20];\\n  steps[5] = colorSteps[25];\\n  steps[6] = colorSteps[30];\\n  steps[7] = colorSteps[35];\\n\\n  color = colors[0];\\n  for (int i = 1; i < 8; i++) {\\n    if (steps[i] < 0.0 || steps[i] > 1.0) {\\n      break;\\n    }\\n    if(steps[i] == steps[i - 1]) {\\n      color = colors[i];\\n    } else {\\n      color = mix(color, colors[i], clamp((t - steps[i - 1]) / (steps[i] - steps[i - 1]), 0.0, 1.0));\\n    }\\n    if (steps[i] >= t) {\\n      break;\\n    }\\n  }\\n}\\n#endif\\n\\nvoid transformColor(inout vec4 color, in float colorMatrix[20]) {\\n  float r = color.r, g = color.g, b = color.b, a = color.a;\\n  color[0] = colorMatrix[0] * r + colorMatrix[1] * g + colorMatrix[2] * b + colorMatrix[3] * a + colorMatrix[4];\\n  color[1] = colorMatrix[5] * r + colorMatrix[6] * g + colorMatrix[7] * b + colorMatrix[8] * a + colorMatrix[9];\\n  color[2] = colorMatrix[10] * r + colorMatrix[11] * g + colorMatrix[12] * b + colorMatrix[13] * a + colorMatrix[14];\\n  color[3] = colorMatrix[15] * r + colorMatrix[16] * g + colorMatrix[17] * b + colorMatrix[18] * a + colorMatrix[19];\\n}\\n\\n#ifdef CLOUDFILTER\\nvoid buildCloudColor(inout float colorCloudMatrix[20]) {\\n  colorCloudMatrix[0] = colorCloud0[0];\\n  colorCloudMatrix[1] = colorCloud1[0];\\n  colorCloudMatrix[2] = colorCloud2[0];\\n  colorCloudMatrix[3] = colorCloud3[0];\\n  colorCloudMatrix[4] = colorCloud4[0];\\n\\n  colorCloudMatrix[5] = colorCloud0[1];\\n  colorCloudMatrix[6] = colorCloud1[1];\\n  colorCloudMatrix[7] = colorCloud2[1];\\n  colorCloudMatrix[8] = colorCloud3[1];\\n  colorCloudMatrix[9] = colorCloud4[1];\\n\\n  colorCloudMatrix[10] = colorCloud0[2];\\n  colorCloudMatrix[11] = colorCloud1[2];\\n  colorCloudMatrix[12] = colorCloud2[2];\\n  colorCloudMatrix[13] = colorCloud3[2];\\n  colorCloudMatrix[14] = colorCloud4[2];\\n\\n  colorCloudMatrix[15] = colorCloud0[3];\\n  colorCloudMatrix[16] = colorCloud1[3];\\n  colorCloudMatrix[17] = colorCloud2[3];\\n  colorCloudMatrix[18] = colorCloud3[3];\\n  colorCloudMatrix[19] = colorCloud4[3];\\n}\\n#endif\\n\\nvoid main() {\\n  vec4 color = vColor;\\n  float opacity = abs(flagBackground);\\n\\n#ifdef GRADIENT\\n  if(u_gradientType > 0 && flagBackground > 0.0 || u_gradientType == 0 && flagBackground <= 0.0) {\\n    gradient(color, vGradientVector1, vGradientVector2, u_colorSteps);\\n  }\\n#endif\\n\\n  if(opacity < 1.0) {\\n    color.a *= opacity;\\n  }\\n\\n#ifdef TEXTURE\\n  if(flagBackground > 0.0) {\\n    vec3 texCoord = vTextureCoord;\\n\\n    if(texCoord.z == 1.0) {\\n      texCoord = fract(texCoord);\\n    }\\n\\n    if(texCoord.x <= 1.0 && texCoord.x >= 0.0\\n      && texCoord.y <= 1.0 && texCoord.y >= 0.0) {\\n      if(vSourceRect.z > 0.0) {\\n        texCoord.x = vSourceRect.x + texCoord.x * vSourceRect.z;\\n        texCoord.y = 1.0 - (vSourceRect.y + (1.0 - texCoord.y) * vSourceRect.w);\\n      }\\n      if(frameIndex < 0.0) {\\n        vec4 texColor = texture2D(u_texSampler, texCoord.xy);\\n        color = mix(color, texColor, texColor.a);\\n      } else {\\n        int index = int(floor(clamp(0.0, 11.0, frameIndex)));\\n        vec4 texColor;\\n        if(index == 0) texColor = texture2D(u_texFrame0, texCoord.xy);\\n        else if(index == 1) texColor = texture2D(u_texFrame1, texCoord.xy);\\n        else if(index == 2) texColor = texture2D(u_texFrame2, texCoord.xy);\\n        else if(index == 3) texColor = texture2D(u_texFrame3, texCoord.xy);\\n        else if(index == 4) texColor = texture2D(u_texFrame4, texCoord.xy);\\n        else if(index == 5) texColor = texture2D(u_texFrame5, texCoord.xy);\\n        else if(index == 6) texColor = texture2D(u_texFrame6, texCoord.xy);\\n        else if(index == 7) texColor = texture2D(u_texFrame7, texCoord.xy);\\n        else if(index == 8) texColor = texture2D(u_texFrame8, texCoord.xy);\\n        else if(index == 9) texColor = texture2D(u_texFrame9, texCoord.xy);\\n        else if(index == 10) texColor = texture2D(u_texFrame10, texCoord.xy);\\n        else texColor = texture2D(u_texFrame11, texCoord.xy);\\n        float alpha = texColor.a;\\n        if(opacity < 1.0) {\\n          texColor.a *= opacity;\\n          alpha *= mix(0.465, 1.0, opacity);\\n        }\\n        // color = mix(color, texColor, texColor.a);\\n        color.rgb = mix(color.rgb, texColor.rgb, alpha);\\n        // color.rgb = mix(texColor.rgb, color.rgb, color.a);\\n        color.rgb = mix(texColor.rgb, color.rgb, clamp(color.a / max(0.0001, texColor.a), 0.0, 1.0));\\n        color.a = texColor.a + (1.0 - texColor.a) * color.a;\\n      }\\n    }\\n  }\\n#endif\\n\\n#ifdef FILTER\\n  if(u_filterFlag > 0) {\\n    transformColor(color, u_colorMatrix);\\n  }\\n#endif\\n\\n#ifdef CLOUDFILTER\\n  float colorCloudMatrix[20];\\n  buildCloudColor(colorCloudMatrix);\\n  transformColor(color, colorCloudMatrix);\\n#endif\\n\\n#ifdef CLIPPATH\\n  float clip = texture2D(u_clipSampler, vClipUV).r;\\n  color *= clip;\\n#endif\\n\\n  gl_FragColor = color;\\n}\";","import vertShader from '../shader.vert';\nimport fragShader from '../shader.frag';\n\nimport vertShaderCloud from '../shader-cloud.vert';\nimport fragShaderCloud from '../shader-cloud.frag';\n\nconst _shaders = Symbol('shaders');\n\nexport function createShaders(renderer) {\n  renderer[_shaders] = [];\n  for(let i = 0; i < 16; i++) {\n    const defines = [];\n    const hasTexture = !!(i & 0x1);\n    const hasFilter = !!(i & 0x2);\n    const hasGradient = !!(i & 0x4);\n    const hasClipPath = !!(i & 0x8);\n    if(hasTexture) defines.push('#define TEXTURE 1');\n    if(hasFilter) defines.push('#define FILTER 1');\n    if(hasGradient) defines.push('#define GRADIENT 1');\n    if(hasClipPath) defines.push('#define CLIPPATH 1');\n    const prefix = `${defines.join('\\n')}\\n`;\n    const samplerDef = [];\n    if(hasTexture) {\n      samplerDef.push('uniform sampler2D u_texSampler;');\n    }\n    if(hasClipPath) {\n      samplerDef.push('uniform sampler2D u_clipSampler;');\n    }\n    // renderer.createProgram(prefix + samplerDef.join('\\n') + fragShader, prefix + vertShader);\n    renderer[_shaders][i] = [prefix + samplerDef.join('\\n') + fragShader, prefix + vertShader];\n  }\n}\n\nexport function applyShader(renderer, {hasTexture = false, hasFilter = false, hasGradient = false, hasClipPath = false} = {}) {\n  const idx = hasTexture | (hasFilter << 1) | (hasGradient << 2) | (hasClipPath << 3);\n  let program = renderer[_shaders][idx];\n  if(Array.isArray(program)) {\n    program = renderer.createProgram(...program);\n    renderer[_shaders][idx] = program;\n  }\n\n  if(renderer.program !== program) {\n    renderer.useProgram(program, {\n      a_color: {\n        type: 'UNSIGNED_BYTE',\n        normalize: true,\n      },\n    });\n  }\n}\n\nconst cloudShaders = [];\nexport function createCloudShaders(renderer) {\n  for(let i = 0; i < 64; i++) {\n    const defines = [];\n    const hasTexture = !!(i & 0x1);\n    const hasFilter = !!(i & 0x2);\n    const hasGradient = !!(i & 0x4);\n    const hasCloudColor = !!(i & 0x8);\n    const hasCloudFilter = !!(i & 0x10);\n    const hasClipPath = !!(i & 0x20);\n    if(hasTexture) defines.push('#define TEXTURE 1');\n    if(hasFilter) defines.push('#define FILTER 1');\n    if(hasGradient) defines.push('#define GRADIENT 1');\n    if(hasCloudColor) defines.push('#define CLOUDCOLOR 1');\n    if(hasCloudFilter) defines.push('#define CLOUDFILTER 1');\n    if(hasClipPath) defines.push('#define CLIPPATH 1');\n    const prefix = `${defines.join('\\n')}\\n`;\n    const samplerDef = [];\n    if(hasTexture) {\n      samplerDef.push('uniform sampler2D u_texSampler;');\n      for(let j = 0; j < 12; j++) {\n        samplerDef.push(`uniform sampler2D u_texFrame${j};`);\n      }\n    }\n    if(hasClipPath) {\n      samplerDef.push('uniform sampler2D u_clipSampler;');\n    }\n    cloudShaders[i] = [prefix + samplerDef.join('\\n') + fragShaderCloud, prefix + vertShaderCloud];\n    // renderer.createProgram(prefix + samplerDef.join('\\n') + fragShaderCloud, prefix + vertShaderCloud);\n  }\n}\n\nexport function applyCloudShader(renderer, {\n  hasTexture = false, hasFilter = false, hasGradient = false,\n  hasCloudColor = false, hasCloudFilter = false, hasClipPath = false,\n} = {}) {\n  const idx = hasTexture | (hasFilter << 1) | (hasGradient << 2)\n    | (hasCloudColor << 3) | (hasCloudFilter << 4) | (hasClipPath << 5);\n  let program = cloudShaders[idx];\n  if(Array.isArray(program)) {\n    program = renderer.createProgram(...program);\n    cloudShaders[idx] = program;\n  }\n\n  if(renderer.program !== program) {\n    renderer.useProgram(program, {\n      a_color: {\n        type: 'UNSIGNED_BYTE',\n        normalize: true,\n      },\n      a_fillCloudColor: {\n        type: 'UNSIGNED_BYTE',\n        normalize: true,\n      },\n      a_strokeCloudColor: {\n        type: 'UNSIGNED_BYTE',\n        normalize: true,\n      },\n      a_frameIndex: {\n        type: 'UNSIGNED_BYTE',\n        normalize: false,\n      },\n    });\n  }\n}\n","import GlRenderer from 'gl-renderer';\nimport {mat3} from 'gl-matrix';\nimport CanvasRenderer from './canvas-renderer';\nimport compress from './utils/compress';\nimport {drawMesh2D, applyFilter} from './utils/canvas';\nimport Figure2D from './figure2d';\nimport Mesh2D from './mesh2d';\nimport MeshCloud from './mesh-cloud';\nimport {isUnitTransform} from './utils/transform';\nimport ENV from './utils/env';\n\nimport {\n  createShaders,\n  applyShader,\n  createCloudShaders,\n  applyCloudShader,\n} from './utils/shader-creator';\n\nconst defaultOpts = {\n  autoUpdate: false,\n  // premultipliedAlpha: true,\n  preserveDrawingBuffer: false,\n  // depth: false,\n  // antialias: false,\n  bufferSize: 1500,\n};\n\nconst defaultPassVertex = `attribute vec3 a_vertexPosition;\nattribute vec3 a_vertexTextureCoord;\nvarying vec3 vTextureCoord;\nuniform mat3 viewMatrix;\nuniform mat3 projectionMatrix;\n\nvoid main() {\n  gl_PointSize = 1.0;\n  vec3 pos = projectionMatrix * viewMatrix * vec3(a_vertexPosition.xy, 1.0);\n  gl_Position = vec4(pos.xy, 1.0, 1.0);    \n  vTextureCoord = a_vertexTextureCoord;              \n}\n`;\n\nconst defaultPassFragment = `precision mediump float;\nvarying vec3 vTextureCoord;\nuniform sampler2D u_texSampler;\nvoid main() {\n  gl_FragColor = texture2D(u_texSampler, vTextureCoord.xy);\n}\n`;\n\nconst _glRenderer = Symbol('glRenderer');\nconst _canvasRenderer = Symbol('canvasRenderer');\nconst _options = Symbol('options');\nconst _globalTransform = Symbol('globalTransform');\nconst _applyGlobalTransform = Symbol('applyGlobalTransform');\nconst _canvas = Symbol('canvas');\n\nfunction draw(renderer) {\n  const gl = renderer.gl;\n  const fbo = renderer.fbo;\n  if(fbo) {\n    gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);\n  }\n  renderer._draw();\n  if(fbo) {\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n  }\n}\n\nfunction drawFilterContext(renderer, filterContext, width, height) {\n  const filterTexture = renderer.createTexture(filterContext.canvas);\n\n  const contours = [[[0, 0], [width, 0], [width, height], [0, height], [0, 0]]];\n  contours.closed = true;\n  const filterMesh = new Mesh2D({contours});\n\n  filterMesh.setTexture(filterTexture);\n  renderer.setMeshData([filterMesh.meshData]);\n  draw(renderer);\n  filterTexture.delete();\n  filterContext.clearRect(0, 0, width, height);\n  delete filterContext._filter;\n}\n\nexport default class Renderer {\n  constructor(canvas, opts = {}) {\n    let contextType = opts.contextType;\n    if(!contextType) {\n      if(typeof WebGL2RenderingContext === 'function') {\n        contextType = 'webgl2';\n      } else if(typeof WebGLRenderingContext === 'function') {\n        contextType = 'webgl';\n      } else {\n        contextType = '2d';\n      }\n    }\n    if(!canvas.getContext) {\n      // \n      const context = canvas;\n      canvas = {\n        getContext() {\n          return context;\n        },\n        width: opts.width,\n        height: opts.height,\n      };\n      context.canvas = canvas;\n      contextType = '2d';\n    }\n    this[_canvas] = canvas;\n\n    if(contextType !== 'webgl' && contextType !== 'webgl2' && contextType !== '2d') {\n      throw new Error(`Unknown context type ${contextType}`);\n    }\n    opts.contextType = contextType;\n\n    this[_options] = Object.assign({}, defaultOpts, opts);\n\n    if(contextType === 'webgl' || contextType === 'webgl2') {\n      if(contextType === 'webgl2') this[_options].webgl2 = true;\n      const renderer = new GlRenderer(canvas, this[_options]);\n      if(contextType === 'webgl2' && !renderer.isWebGL2) { // webgl2 may disabled by browser settings\n        opts.contextType = 'webgl';\n      }\n      createShaders(renderer);\n      applyShader(renderer);\n      createCloudShaders(renderer);\n\n      const gl = renderer.gl;\n      // gl.clearColor(1.0, 1.0, 1.0, 1.0);\n      // gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ZERO, gl.ONE);\n      gl.clearColor(0.0, 0.0, 0.0, 0.0);\n      gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n      this[_glRenderer] = renderer;\n    } else {\n      this[_canvasRenderer] = new CanvasRenderer(canvas, this[_options]);\n    }\n\n    this[_globalTransform] = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    this.updateResolution();\n  }\n\n  get canvas() {\n    return this[_canvas];\n  }\n\n  get canvasRenderer() {\n    return this[_canvasRenderer];\n  }\n\n  get glRenderer() {\n    return this[_glRenderer];\n  }\n\n  get isWebGL2() {\n    return this[_glRenderer] && this[_glRenderer].isWebGL2;\n  }\n\n  get options() {\n    return this[_options];\n  }\n\n  get globalTransformMatrix() {\n    const m = this[_globalTransform];\n    return [m[0], m[1], m[3], m[4], m[6], m[7]];\n  }\n\n  get viewMatrix() {\n    return this[_globalTransform];\n  }\n\n  [_applyGlobalTransform]() {\n    const renderer = this[_glRenderer] || this[_canvasRenderer];\n    if(this[_glRenderer]) {\n      const {width, height} = this.canvas;\n      renderer.uniforms.viewMatrix = this.viewMatrix;\n      renderer.uniforms.projectionMatrix = this.projectionMatrix;\n      renderer.uniforms.u_resolution = [width, height];\n    }\n  }\n\n  updateResolution() {\n    const {width, height} = this.canvas;\n    const m1 = [ // translation\n      1, 0, 0,\n      0, 1, 0,\n      -width / 2, -height / 2, 1,\n    ];\n    const m2 = [ // scale\n      2 / width, 0, 0,\n      0, -2 / height, 0,\n      0, 0, 1,\n    ];\n    const m3 = mat3(m2) * mat3(m1);\n    this.projectionMatrix = m3;\n    if(this[_glRenderer]) {\n      this[_glRenderer].gl.viewport(0, 0, width, height);\n    }\n  }\n\n  createTexture(img, opts) {\n    const renderer = this[_glRenderer] || this[_canvasRenderer];\n    return renderer.createTexture(img, opts);\n  }\n\n  /* async */ loadTexture(textureURL, {useImageBitmap = false} = {}) {\n    const renderer = this[_glRenderer] || this[_canvasRenderer];\n    return renderer.loadTexture(textureURL, {useImageBitmap});\n  }\n\n  createText(text, {font = '16px arial', fillColor = null, strokeColor = null, strokeWidth = 1} = {}) {\n    if(this[_glRenderer]) {\n      const img = ENV.createText(\n        text,\n        {font, fillColor, strokeColor, strokeWidth}\n      );\n      return {image: this.createTexture(img.image), rect: img.rect};\n    }\n    return {_img: {font, fillColor, strokeColor, strokeWidth, text}};\n  }\n\n  createProgram({vertex, fragment, options} = {}) {\n    if(this[_glRenderer]) {\n      const program = this[_glRenderer].compileSync(fragment, vertex);\n      program._attribOpts = options;\n      return program;\n    }\n    throw new Error('Context 2D cannot create webgl program.');\n  }\n\n  createPassProgram({vertex = defaultPassVertex, fragment = defaultPassFragment, options} = {}) {\n    return this.createProgram({vertex, fragment, options});\n  }\n\n  useProgram(program, attributeOptions = {}) {\n    if(this[_glRenderer]) {\n      const attrOpts = Object.assign({}, program._attribOpts, attributeOptions);\n      return this[_glRenderer].useProgram(program, attrOpts);\n    }\n    throw new Error('Context 2D cannot use webgl program.');\n  }\n\n  deleteTexture(texture) {\n    const renderer = this[_glRenderer] || this[_canvasRenderer];\n    return renderer.deleteTexture(texture);\n  }\n\n  clear(...rect) {\n    if(this[_glRenderer]) {\n      const gl = this[_glRenderer].gl;\n      gl.clear(gl.COLOR_BUFFER_BIT);\n    } else {\n      this[_canvasRenderer].clear(...rect);\n    }\n  }\n\n  drawMeshCloud(cloud, {clear = false, program: drawProgram = null} = {}) {\n    const renderer = this[_glRenderer] || this[_canvasRenderer];\n    // if(!this.isWebGL2) throw new Error('Only webgl2 context support drawMeshCloud.');\n    const program = drawProgram || cloud.program;\n    if(this[_glRenderer]) {\n      const gl = renderer.gl;\n      if(clear) gl.clear(gl.COLOR_BUFFER_BIT);\n      if(!program) {\n        const mesh = cloud.mesh.meshData;\n        const hasTexture = !!mesh.uniforms.u_texSampler;\n        const hasFilter = !!mesh.uniforms.u_filterFlag;\n        const hasGradient = !!mesh.uniforms.u_radialGradientVector;\n        const hasCloudColor = cloud.hasCloudColor;\n        const hasCloudFilter = cloud.hasCloudFilter;\n        const hasClipPath = !!mesh.uniforms.u_clipSampler;\n        applyCloudShader(renderer, {\n          hasTexture,\n          hasFilter,\n          hasGradient,\n          hasCloudColor,\n          hasCloudFilter,\n          hasClipPath,\n        });\n      } else if(renderer.program !== program) {\n        this.useProgram(program, {\n          a_color: {\n            type: 'UNSIGNED_BYTE',\n            normalize: true,\n          },\n          a_fillCloudColor: {\n            type: 'UNSIGNED_BYTE',\n            normalize: true,\n          },\n          a_strokeCloudColor: {\n            type: 'UNSIGNED_BYTE',\n            normalize: true,\n          },\n          a_frameIndex: {\n            type: 'UNSIGNED_BYTE',\n            normalize: false,\n          },\n        });\n      }\n      this[_applyGlobalTransform]();\n      renderer.setMeshData([cloud.meshData]);\n      if(cloud.beforeRender) cloud.beforeRender(gl, cloud);\n      draw(renderer);\n      if(cloud.afterRender) cloud.afterRender(gl, cloud);\n    } else {\n      renderer.setTransform(this.globalTransformMatrix);\n      renderer.drawMeshCloud(cloud, {clear, hook: false});\n    }\n  }\n\n  drawMeshes(meshes, {clear = false, program: drawProgram = null} = {}) { // eslint-disable-line complexity\n    const renderer = this[_glRenderer] || this[_canvasRenderer];\n    if(this[_glRenderer]) {\n      const oldFBO = renderer.fbo;\n      const meshData = compress(this, meshes, drawProgram == null);\n      const gl = renderer.gl;\n      if(clear) gl.clear(gl.COLOR_BUFFER_BIT);\n      const hasGlobalTransform = !isUnitTransform(this.globalTransformMatrix);\n      this._drawCalls = 0;\n      for(const mesh of meshData) { // eslint-disable-line no-restricted-syntax\n        this._drawCalls++;\n        const program = drawProgram || mesh.program;\n        if(mesh instanceof MeshCloud) {\n          this.drawMeshCloud(mesh, {clear, program});\n          // continue; // eslint-disable-line no-continue\n        } else {\n          const {width, height} = this.canvas;\n          if(mesh.beforeRender) mesh.beforeRender(gl, mesh);\n          if(mesh.pass.length) {\n            if(!this.fbo || this.fbo.width !== width || this.fbo.height !== height) {\n              this.fbo = {\n                width,\n                height,\n                target: renderer.createFBO(),\n                buffer: renderer.createFBO(),\n                swap() {\n                  [this.target, this.buffer] = [this.buffer, this.target];\n                },\n              };\n            }\n            renderer.bindFBO(this.fbo.target);\n          }\n          if(!program && mesh.filterCanvas) { // shaderblurdrop-shadowurl\n            applyShader(renderer, {hasTexture: true});\n            let filterContext = this.filterContext;\n            if(!filterContext) {\n              const canvas = ENV.createCanvas(width, height);\n              filterContext = canvas.getContext('2d');\n              this.filterContext = filterContext;\n            }\n            const originalMesh = meshes[mesh.packIndex];\n            const currentFilter = originalMesh.filter;\n            const nextMesh = meshes[mesh.packIndex + 1];\n            const previousMesh = meshes[mesh.packIndex - 1];\n            if((!previousMesh || !previousMesh.filterCanvas || previousMesh.filter !== currentFilter)\n              && (!nextMesh || !nextMesh.filterCanvas || nextMesh.filter !== currentFilter)) {\n              if(hasGlobalTransform) {\n                filterContext.save();\n                // filterContext.transform(...this.globalTransformMatrix);\n                drawMesh2D(originalMesh, filterContext, false);\n                filterContext.restore();\n                applyFilter(filterContext, currentFilter);\n              } else {\n                drawMesh2D(originalMesh, filterContext, true);\n              }\n              this[_applyGlobalTransform]();\n              drawFilterContext(renderer, filterContext, width, height);\n            } else {\n              if(hasGlobalTransform) {\n                filterContext.save();\n                // filterContext.transform(...this.globalTransformMatrix);\n              }\n              drawMesh2D(originalMesh, filterContext, false);\n              if(hasGlobalTransform) {\n                filterContext.restore();\n              }\n              if(!nextMesh || !nextMesh.filterCanvas || originalMesh.filter !== nextMesh.filter) {\n                applyFilter(filterContext, currentFilter);\n                this[_applyGlobalTransform]();\n                drawFilterContext(renderer, filterContext, width, height);\n              }\n            }\n          } else {\n            if(!program) {\n              const hasTexture = !!mesh.uniforms.u_texSampler;\n              const hasFilter = !!mesh.uniforms.u_filterFlag;\n              const hasGradient = !!mesh.uniforms.u_radialGradientVector;\n              const hasClipPath = !!mesh.uniforms.u_clipSampler;\n              applyShader(renderer, {hasTexture, hasFilter, hasGradient, hasClipPath});\n            } else if(renderer.program !== program) {\n              this.useProgram(program, {\n                a_color: {\n                  type: 'UNSIGNED_BYTE',\n                  normalize: true,\n                },\n              });\n            }\n            if(mesh.filterCanvas) {\n              console.warn('User program ignored some filter effects.');\n            }\n            this[_applyGlobalTransform]();\n            renderer.setMeshData([mesh]);\n            draw(renderer);\n          }\n          if(mesh.pass.length) {\n            const len = mesh.pass.length;\n            mesh.pass.forEach((pass, idx) => {\n              pass.blend = mesh.enableBlend;\n              pass.setTexture(renderer.fbo.texture);\n              if(idx === len - 1) renderer.bindFBO(oldFBO);\n              else {\n                this.fbo.swap();\n                renderer.bindFBO(this.fbo.target);\n              }\n              if(pass.program) renderer.useProgram(pass.program);\n              else {\n                this.defaultPassProgram = this.defaultPassProgram || this.createPassProgram();\n                renderer.useProgram(this.defaultPassProgram);\n              }\n              renderer.setMeshData([pass.meshData]);\n              gl.clear(gl.COLOR_BUFFER_BIT);\n              draw(renderer);\n            });\n          }\n          if(mesh.afterRender) mesh.afterRender(gl, mesh);\n        }\n      }\n    } else {\n      renderer.setTransform(this.globalTransformMatrix);\n      renderer.drawMeshes(meshes, {clear});\n    }\n  }\n\n  drawImage(image, ...args) {\n    const argLength = args.length;\n    if(argLength < 2) {\n      throw new TypeError(`Failed to execute 'drawImage' on 'Renderer': 3 arguments required, but only ${args.length + 1} present.`);\n    }\n    if(argLength !== 2 && argLength !== 4 && argLength !== 8) {\n      throw new TypeError(`Failed to execute 'drawImage' on 'Renderer': Valid arities are: [3, 5, 9], but ${args.length + 1} arguments provided.`);\n    }\n    let rect = null;\n    let srcRect = null;\n    if(argLength === 2) { // drawImage(image, dx, dy)\n      rect = [args[0], args[1], image.width, image.height];\n    } else if(argLength === 4) { // drawImage(image, dx, dy, dWidth, dHeight)\n      rect = args;\n    } else if(argLength === 8) { // drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight)\n      srcRect = args.slice(0, 4);\n      rect = args.slice(4);\n    }\n    const texture = this.createTexture(image);\n    const {width, height} = this.canvas;\n    const figure = new Figure2D();\n    figure.rect(rect[0], rect[1], width, height);\n    const mesh = new Mesh2D(figure, {width, height});\n    mesh.setTexture(texture, {\n      rect,\n      srcRect,\n    });\n    this.drawMeshes([mesh]);\n    this.deleteTexture(texture);\n  }\n\n  setGlobalTransform(...m) {\n    this[_globalTransform] = [\n      m[0], m[1], 0,\n      m[2], m[3], 0,\n      m[4], m[5], 1,\n    ];\n    return this;\n  }\n\n  globalTransform(...m) {\n    const transform = this[_globalTransform];\n    this[_globalTransform] = mat3(transform) * mat3(m);\n    return this;\n  }\n\n  globalTranslate(x, y) {\n    let m = mat3.create();\n    m = mat3.translate(m, [x, y]);\n    return this.globalTransform(...m);\n  }\n\n  globalRotate(rad, [ox, oy] = [0, 0]) {\n    let m = mat3.create();\n    m = mat3.translate(m, [ox, oy]);\n    m = mat3.rotate(m, rad);\n    m = mat3.translate(m, [-ox, -oy]);\n    return this.globalTransform(...m);\n  }\n\n  globalScale(x, y = x, [ox, oy] = [0, 0]) {\n    let m = mat3.create();\n    m = mat3.translate(m, [ox, oy]);\n    m = mat3.scale(m, [x, y]);\n    m = mat3.translate(m, [-ox, -oy]);\n    return this.globalTransform(...m);\n  }\n\n  globalSkew(x, y = x, [ox, oy] = [0, 0]) {\n    let m = mat3.create();\n    m = mat3.translate(m, [ox, oy]);\n    m = mat3(m) * mat3(1, Math.tan(y), Math.tan(x), 1, 0, 0);\n    m = mat3.translate(m, [-ox, -oy]);\n    return this.globalTransform(...m);\n  }\n\n  transformPoint(x, y, matrix) {\n    let m = this.globalTransformMatrix;\n    if(matrix) m = mat3(m) * mat3(matrix);\n    const newX = x * m[0] + y * m[2] + m[4];\n    const newY = x * m[1] + y * m[3] + m[5];\n    return [newX, newY];\n  }\n}\n","import Renderer from './renderer';\nimport Figure2D from './figure2d';\nimport Mesh2D from './mesh2d';\nimport MeshCloud from './mesh-cloud';\nimport parseFont from './utils/parse-font';\nimport parseColor from './utils/parse-color';\nimport ENV from './utils/env';\n\nexport {Renderer, Figure2D, Mesh2D, MeshCloud, parseFont, parseColor, ENV};","import {Figure2D, Mesh2D, Renderer} from '../src/index';\n\nconst canvas = document.querySelector('canvas');\n\nconst figure2 = new Figure2D();\nconst figure1 = new Figure2D();\n\nfigure1.rect(0, 0, 100, 100);\nfigure2.addPath('M0,0L0,50L100,0z');\n\nconst mesh2 = new Mesh2D(figure2);\nconst mesh1 = new Mesh2D(figure1);\n\nmesh1.setFill({\n  color: [0, 1, 0, 0.5],\n});\nmesh2.setFill({\n  color: [1, 0, 0, 0.5],\n});\n\n\nmesh1.translate(100, 100);\n\nconst renderer = new Renderer(canvas);\n\nrenderer.drawMeshes([mesh2, mesh1]);\n\ndocument.body.addEventListener('click', (e) => {\n  const {x, y} = e;\n  console.log(x, y, 'isPointCollision', mesh1.isPointCollision(x, y), mesh1);\n});","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}